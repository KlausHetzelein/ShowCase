(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function l(e){return"function"==typeof e}n.r(t);let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},a=Array.isArray||(e=>e&&"number"==typeof e.length);function u(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let h=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:i,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=r?r.length:0;for(;n;)n.remove(this),n=++o<c&&r[o]||null;if(l(i))try{i.call(this)}catch(h){t=!0,e=h instanceof d?g(h.errors):[h]}if(a(s))for(o=-1,c=s.length;++o<c;){const n=s[o];if(u(n))try{n.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof d?e=e.concat(g(h.errors)):e.push(h)}}if(t)throw new d(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function g(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const l=new f(e,t,n);return l.syncErrorThrowable=!1,l}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends f{constructor(e,t,n,r){let i;super(),this._parentSubscriber=e;let s=this;l(t)?i=t:t&&(i=t.next,n=t.error,r=t.complete,t!==o&&(l((s=Object.create(t)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(l){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=l,e.syncErrorThrown=!0,!0):(s(l),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...e){return _(e)}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:l}=this,r=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(o)}(e,t,n);if(r.add(l?l.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:l}=e;if(t||l)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let l;l=this.subscribe(t=>{try{e(t)}catch(r){n(r),l&&l.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:_(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const k=S;class I extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class O extends f{constructor(e){super(e),this.destination=e}}let x=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new O(this)}lift(e){const t=new A(this,this);return t.operator=e,t}next(e){if(this.closed)throw new k;if(!this.isStopped){const{observers:t}=this,n=t.length,l=t.slice();for(let r=0;r<n;r++)l[r].next(e)}}error(e){if(this.closed)throw new k;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,l=t.slice();for(let r=0;r<n;r++)l[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let l=0;l<t;l++)n[l].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new k;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new k;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new I(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new A(e,t),e})();class A extends x{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class P extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const E=e=>t=>{for(let n=0,l=e.length;n<l&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},R=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const U=N(),D=e=>t=>{const n=e[U]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},F=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},V=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const z=e=>{if(e instanceof w)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return F(e);if(V(e))return E(e);if(L(e))return R(e);if(e&&"function"==typeof e[U])return D(e);{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function B(e,t,n,l,r=new P(e,n,l)){if(!r.closed)return z(t)(r)}class j extends f{notifyNext(e,t,n,l,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(e,t))}}class ${constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new q(e,this.project,this.thisArg))}}class q extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function G(e,t){return new w(t?n=>{const l=new h;let r=0;return l.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||l.add(this.schedule())):n.complete()}))),l}:E(e))}function K(e,t){if(!t)return e instanceof w?e:new w(z(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w(t?n=>{const l=new h;return l.add(t.schedule(()=>{const r=e[v]();l.add(r.subscribe({next(e){l.add(t.schedule(()=>n.next(e)))},error(e){l.add(t.schedule(()=>n.error(e)))},complete(){l.add(t.schedule(()=>n.complete()))}}))})),l}:F(e))}(e,t);if(L(e))return function(e,t){return new w(t?n=>{const l=new h;return l.add(t.schedule(()=>e.then(e=>{l.add(t.schedule(()=>{n.next(e),l.add(t.schedule(()=>n.complete()))}))},e=>{l.add(t.schedule(()=>n.error(e)))}))),l}:R(e))}(e,t);if(V(e))return G(e,t);if(function(e){return e&&"function"==typeof e[U]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(t?n=>{const l=new h;let r;return l.add(()=>{r&&"function"==typeof r.return&&r.return()}),l.add(t.schedule(()=>{r=e[U](),l.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(l){return void n.error(l)}t?n.complete():(n.next(e),this.schedule())})))})),l}:D(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function W(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?l=>l.pipe(W((n,l)=>K(e(n,l)).pipe(H((e,r)=>t(n,e,l,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new Z(e,n)))}class Z{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends j{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const l=new P(this,void 0,void 0);this.destination.add(l),B(this,e,t,n,l)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,l,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function J(e){return e}function Y(e=Number.POSITIVE_INFINITY){return W(J,e)}function X(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const l=new te(e,n),r=t.subscribe(l);return l.closed||(l.connection=n.connect()),r}}class te extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,l=e._connection;this.connection=null,!l||n&&l!==n||l.unsubscribe()}}const ne=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new re(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e}refCount(){return X()(this)}}.prototype,le={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class re extends O{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ie(){return new x}const se="__parameters__";function oe(e,t,n){const l=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return l.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,l){const r=e.hasOwnProperty(se)?e[se]:Object.defineProperty(e,se,{value:[]})[se];for(;r.length<=l;)r.push(null);return(r[l]=r[l]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}const ae=oe("Inject",e=>({token:e})),ue=oe("Optional"),ce=oe("Self"),de=oe("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){const t=e[me];return t&&t.token===e?t:null}const me=ge({ngInjectableDef:ge});function ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ye=ge({__forward_ref__:ge});function be(e){return e.__forward_ref__=be,e.toString=function(){return ve(this())},e}function _e(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===be?t():e}const we="undefined"!=typeof globalThis&&globalThis,Ce="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ke="undefined"!=typeof global&&global,Ie=we||ke||Ce||Se;class Oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xe=new Oe("INJECTOR",-1),Ae=new Object,Te="ngTempTokenPath",Pe="ngTokenPath",Ee=/\n/gm,Me="\u0275",Re="__source",Ne=ge({provide:String,useValue:ge});let Ue,De=void 0;function Fe(e){const t=De;return De=e,t}function Ve(e,t=he.Default){if(void 0===De)throw new Error("inject() must be called from an injection context");return null===De?function(e,t,n){const l=fe(e);if(l&&"root"==l.providedIn)return void 0===l.value?l.value=l.factory():l.value;if(n&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ve(e)}]`)}(e,0,t):De.get(e,t&he.Optional?null:void 0,t)}function Le(e,t=he.Default){return(Ue||Ve)(e,t)}class ze{get(e,t=Ae){if(t===Ae){const t=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw t.name="NullInjectorError",t}return t}}function Be(e,t,n,l=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Me?e.substr(2):e;let r=ve(t);if(t instanceof Array)r=t.map(ve).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let l=t[n];e.push(n+":"+("string"==typeof l?JSON.stringify(l):ve(l)))}r=`{${e.join(", ")}}`}return`${n}${l?"("+l+")":""}[${r}]: ${e.replace(Ee,"\n  ")}`}class je{}class He{}function $e(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function qe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ge=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))(),We="ngDebugContext",Ze="ngOriginalError",Qe="ngErrorLogger";function Je(e){return e[We]}function Ye(e){return e[Ze]}function Xe(e,...t){e.error(...t)}class et{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),l=function(e){return e[Qe]||Xe}(e);l(this._console,"ERROR",e),t&&l(this._console,"ORIGINAL ERROR",t),n&&l(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Je(e)?Je(e):this._findContext(Ye(e)):null}_findOriginalError(e){let t=Ye(e);for(;t&&Ye(t);)t=Ye(t);return t}}let tt=!0,nt=!1;function lt(){return nt=!0,tt}class rt{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(l){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let l=t.length-1;0<l;l--){const n=t.item(l).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const it=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,st=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ot(e){return(e=String(e)).match(it)||e.match(st)?e:(lt()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function at(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ut(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ct=at("area,br,col,hr,img,wbr"),dt=at("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ht=at("rp,rt"),gt=ut(ht,dt),pt=ut(ct,ut(dt,at("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ut(ht,at("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gt),ft=at("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mt=at("srcset"),vt=ut(ft,mt,at("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),at("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yt=at("script,style,template");class bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!pt.hasOwnProperty(t))return this.sanitizedSomething=!0,!yt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!vt.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;ft[i]&&(s=ot(s)),mt[i]&&(l=s,s=(l=String(l)).split(",").map(e=>ot(e.trim())).join(", ")),this.buf.push(" ",t,'="',Ct(s),'"')}var l;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();pt.hasOwnProperty(t)&&!ct.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ct(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const _t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wt=/([^\#-~ |!])/g;function Ct(e){return e.replace(/&/g,"&amp;").replace(_t,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(wt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let St;function kt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const It=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Ot{}const xt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),At=/^url\(([^)]+)\)$/,Tt=/([A-Z])/g;function Pt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Et=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Mt(),e})();const Mt=(...e)=>{},Rt=new Oe("The presence of this token marks an injector as being the root injector."),Nt=function(e,t,n){return new Bt(e,t,n)};let Ut=(()=>{class e{static create(e,t){return Array.isArray(e)?Nt(e,t,""):Nt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ae,e.NULL=new ze,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:()=>Le(xe)}),e.__NG_ELEMENT_ID__=-1,e})();const Dt=function(e){return e},Ft=[],Vt=Dt,Lt=function(){return Array.prototype.slice.call(arguments)},zt="\u0275";class Bt{constructor(e,t=Ut.NULL,n=null){this.parent=t,this.source=n;const l=this._records=new Map;l.set(Ut,{token:Ut,fn:Dt,deps:Ft,value:this,useNew:!1}),l.set(xe,{token:xe,fn:Dt,deps:Ft,value:this,useNew:!1}),function e(t,n){if(n)if((n=_e(n))instanceof Array)for(let l=0;l<n.length;l++)e(t,n[l]);else{if("function"==typeof n)throw Ht("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ht("Unexpected provider",n);{let e=_e(n.provide);const l=function(e){const t=function(e){let t=Ft;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let l=6,r=_e(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof ue||n==ue?l|=1:n instanceof de||n==de?l&=-3:n instanceof ce||n==ce?l&=-5:r=n instanceof ae?n.token:_e(n)}t.push({token:r,options:l})}}else if(e.useExisting)t=[{token:_e(e.useExisting),options:6}];else if(!(n||Ne in e))throw Ht("'deps' required",e);return t}(e);let n=Dt,l=Ft,r=!1,i=_e(e.provide);if(Ne in e)l=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=_e(e.useClass);else{if("function"!=typeof i)throw Ht("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=i}return{deps:t,fn:n,useNew:r,value:l}}(n);if(!0===n.multi){let l=t.get(e);if(l){if(l.fn!==Lt)throw jt(e)}else t.set(e,l={token:n.provide,deps:[],useNew:!1,fn:Lt,value:Ft});l.deps.push({token:e=n,options:6})}const r=t.get(e);if(r&&r.fn==Lt)throw jt(e);t.set(e,l)}}}(l,e)}get(e,t,n=he.Default){const l=this._records.get(e);try{return function e(t,n,l,r,i,s){try{return function(t,n,l,r,i,s){let o;if(!n||s&he.SkipSelf)s&he.Self||(o=r.get(t,i,he.Default));else{if((o=n.value)==Vt)throw Error(zt+"Circular dependency");if(o===Ft){n.value=Vt;let t=void 0,i=n.useNew,s=n.fn,a=n.deps,u=Ft;if(a.length){u=[];for(let t=0;t<a.length;t++){const n=a[t],i=n.options,s=2&i?l.get(n.token):void 0;u.push(e(n.token,s,l,s||4&i?r:Ut.NULL,1&i?null:Ut.THROW_IF_NOT_FOUND,he.Default))}}n.value=o=i?new s(...u):s.apply(t,u)}}return o}(t,n,l,r,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[Te]=o[Te]||[]).unshift(t),n&&n.value==Vt&&(n.value=Ft),o}}(e,l,this._records,this.parent,t,n)}catch(r){return function(e,t,n,l){const r=e[Te];throw t[Re]&&r.unshift(t[Re]),e.message=Be("\n"+e.message,r,"StaticInjectorError",l),e[Pe]=r,e[Te]=null,e}(r,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ve(n))),`StaticInjector[${e.join(", ")}]`}}function jt(e){return Ht("Cannot mix multi providers and regular providers",e)}function Ht(e,t){return new Error(Be(e,t,"StaticInjectorError"))}const $t=new Oe("AnalyzeForEntryComponents");let qt=null;function Gt(){if(!qt){const e=Ie.Symbol;if(e&&e.iterator)qt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qt=n)}}}return qt}function Kt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Wt(e,t){const n=Qt(e),l=Qt(t);if(n&&l)return function(e,t,n){const l=e[Gt()](),r=t[Gt()]();for(;;){const e=l.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Wt);{const r=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||l||!i)||Kt(e,t)}}class Zt{constructor(e){this.wrapped=e}static wrap(e){return new Zt(e)}static unwrap(e){return Zt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Zt}}function Qt(e){return!!Jt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Gt()in e)}function Jt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yt(e){return!!e&&"function"==typeof e.then}function Xt(e){return!!e&&"function"==typeof e.subscribe}class en{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class tn{}class nn{}function ln(e){const t=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return t[rn]=e,t}const rn="ngComponent";class sn{resolveComponentFactory(e){throw ln(e)}}let on=(()=>{class e{}return e.NULL=new sn,e})();class an{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let l=0;l<e.length;l++){const t=e[l];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw ln(e);return new un(t,this._ngModule)}}class un extends nn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,l){return this.factory.create(e,t,n,l||this.ngModule)}}function cn(...e){}let dn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>hn(e),e})();const hn=cn;class gn{}class pn{}const fn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>vn(),e})();const vn=cn;class yn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const bn=new yn("8.2.14");class _n{constructor(){}supports(e){return Qt(e)}create(e){return new Cn(e)}}const wn=(e,t)=>t;class Cn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,l=0,r=null;for(;t||n;){const i=!n||t&&t.currentIndex<On(n,l,r)?t:n,s=On(i,l,r),o=i.currentIndex;if(i===n)l--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)l++;else{r||(r=[]);const e=s-l,t=o-l;if(e!=t){for(let n=0;n<e;n++){const l=n<r.length?r[n]:r[n]=0,i=l+n;t<=i&&i<e&&(r[n]=l+1)}r[i.previousIndex]=t-e}}s!==o&&e(i,s,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Qt(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,l,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)l=this._trackByFn(t,n=e[t]),null!==r&&Kt(r.trackById,l)?(i&&(r=this._verifyReinsertion(r,n,l,t)),Kt(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,l,t),i=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Gt()]();let l;for(;!(l=n.next()).done;)t(l.value)}}(e,e=>{l=this._trackByFn(t,e),null!==r&&Kt(r.trackById,l)?(i&&(r=this._verifyReinsertion(r,e,l,t)),Kt(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,l,t),i=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,l){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,l))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,l)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,l)):e=this._addAfter(new Sn(t,n),r,l),e}_verifyReinsertion(e,t,n,l){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,l):e.currentIndex!=l&&(e.currentIndex=l,this._addToMoves(e,l)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const l=e._prevRemoved,r=e._nextRemoved;return null===l?this._removalsHead=r:l._nextRemoved=r,null===r?this._removalsTail=l:r._prevRemoved=l,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const l=null===t?this._itHead:t._next;return e._next=l,e._prev=t,null===l?this._itTail=e:l._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new In),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new In),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Sn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Kt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class In{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new kn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function On(e,t,n){const l=e.previousIndex;if(null===l)return l;let r=0;return n&&l<n.length&&(r=n[l]),l+t+r}class xn{constructor(){}supports(e){return e instanceof Map||Jt(e)}create(){return new An}}class An{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Jt(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const l=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,l)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const l=n._prev,r=n._next;return l&&(l._next=r),r&&(r._prev=l),n._next=null,n._prev=null,n}const n=new Tn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Kt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Tn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Pn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ue]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new _n])}),e})(),En=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new ue]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new xn])}),e})();const Mn=[new xn],Rn=new Pn([new _n]),Nn=new En(Mn);let Un=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Dn(e,dn),e})();const Dn=cn;let Fn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Vn(e,dn),e})();const Vn=cn;function Ln(e,t,n,l){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return l&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return zn(n,t),n}(r,e)}function zn(e,t){e[We]=t,e[Qe]=t.logError.bind(t)}function Bn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function jn(e,t,n){const l=e.state,r=1792&l;return r===t?(e.state=-1793&l|n,e.initIndex=-1,!0):r===n}function Hn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function $n(e,t){return e.nodes[t]}function qn(e,t){return e.nodes[t]}function Gn(e,t){return e.nodes[t]}function Kn(e,t){return e.nodes[t]}function Wn(e,t){return e.nodes[t]}const Zn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Qn=()=>{},Jn=new Map;function Yn(e){let t=Jn.get(e);return t||(t=ve(e)+"_"+Jn.size,Jn.set(e,t)),t}const Xn="$$undefined",el="$$empty";function tl(e){return{id:Xn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let nl=0;function ll(e,t,n,l){return!(!(2&e.state)&&Kt(e.oldValues[t.bindingIndex+n],l))}function rl(e,t,n,l){return!!ll(e,t,n,l)&&(e.oldValues[t.bindingIndex+n]=l,!0)}function il(e,t,n,l){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!Wt(r,l)){const i=t.bindings[n].name;throw Ln(Zn.createDebugContext(e,t.nodeIndex),`${i}: ${r}`,`${i}: ${l}`,0!=(1&e.state))}}function sl(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ol(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function al(e,t,n,l){try{return sl(33554432&e.def.nodes[t].flags?qn(e,t).componentView:e),Zn.handleEvent(e,t,n,l)}catch(r){e.root.errorHandler.handleError(r)}}function ul(e){return e.parent?qn(e.parent,e.parentNodeDef.nodeIndex):null}function cl(e){return e.parent?e.parentNodeDef.parent:null}function dl(e,t){switch(201347067&t.flags){case 1:return qn(e,t.nodeIndex).renderElement;case 2:return $n(e,t.nodeIndex).renderText}}function hl(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function gl(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function pl(e){const t={};let n=0;const l={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=function(e){return 1<<e%32}(e)):l[e]=r}),{matchedQueries:t,references:l,matchedQueryIds:n}}function fl(e,t){return e.map(e=>{let n,l;return Array.isArray(e)?[l,n]=e:(l=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Re,{value:t,configurable:!0}),{flags:l,token:n,tokenKey:Yn(n)}})}function ml(e,t,n){let l=n.renderParent;return l?0==(1&l.flags)||0==(33554432&l.flags)||l.element.componentRendererType&&l.element.componentRendererType.encapsulation===Ge.Native?qn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const vl=new WeakMap;function yl(e){let t=vl.get(e);return t||((t=e(()=>Qn)).factory=e,vl.set(e,t)),t}function bl(e,t,n,l,r){3===t&&(n=e.renderer.parentNode(dl(e,e.def.lastRenderRootNode))),_l(e,t,0,e.def.nodes.length-1,n,l,r)}function _l(e,t,n,l,r,i,s){for(let o=n;o<=l;o++){const n=e.def.nodes[o];11&n.flags&&Cl(e,n,t,r,i,s),o+=n.childCount}}function wl(e,t,n,l,r,i){let s=e;for(;s&&!hl(s);)s=s.parent;const o=s.parent,a=cl(s),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const e=o.def.nodes[c];e.ngContentIndex===t&&Cl(o,e,n,l,r,i),c+=e.childCount}if(!o.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Sl(e,s[t],n,l,r,i)}}function Cl(e,t,n,l,r,i){if(8&t.flags)wl(e,t.ngContent.index,n,l,r,i);else{const s=dl(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Sl(e,s,n,l,r,i),32&t.bindingFlags&&Sl(qn(e,t.nodeIndex).componentView,s,n,l,r,i)):Sl(e,s,n,l,r,i),16777216&t.flags){const s=qn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)bl(s[e],n,l,r,i)}1&t.flags&&!t.element.name&&_l(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,l,r,i)}}function Sl(e,t,n,l,r,i){const s=e.renderer;switch(n){case 1:s.appendChild(l,t);break;case 2:s.insertBefore(l,t,r);break;case 3:s.removeChild(l,t);break;case 0:i.push(t)}}const kl=/^:([^:]+):(.+)$/;function Il(e){if(":"===e[0]){const t=e.match(kl);return[t[1],t[2]]}return["",e]}function Ol(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}const xl=new Object,Al=Yn(Ut),Tl=Yn(xe),Pl=Yn(je);function El(e,t,n,l){return n=_e(n),{index:-1,deps:fl(l,ve(t)),flags:e,token:t,value:n}}function Ml(e,t,n=Ut.THROW_IF_NOT_FOUND){const l=Fe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Al:case Tl:case Pl:return e}const o=e._def.providersByKey[s];let a;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Rl(e,o)),t===xl?void 0:t}if((a=fe(t.token))&&(r=e,null!=(i=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:t.token},e._providers[n]=xl,e._providers[n]=Rl(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Fe(l)}var r,i}function Rl(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const l=n.length;switch(l){case 0:return new t;case 1:return new t(Ml(e,n[0]));case 2:return new t(Ml(e,n[0]),Ml(e,n[1]));case 3:return new t(Ml(e,n[0]),Ml(e,n[1]),Ml(e,n[2]));default:const r=new Array(l);for(let t=0;t<l;t++)r[t]=Ml(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const l=n.length;switch(l){case 0:return t();case 1:return t(Ml(e,n[0]));case 2:return t(Ml(e,n[0]),Ml(e,n[1]));case 3:return t(Ml(e,n[0]),Ml(e,n[1]),Ml(e,n[2]));default:const r=Array(l);for(let t=0;t<l;t++)r[t]=Ml(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=Ml(e,t.deps[0]);break;case 256:n=t.value}return n===xl||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?xl:n}function Nl(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const l=n[t];return l.viewContainerParent=null,qe(n,t),Zn.dirtyParentQueries(l),Dl(l),l}function Ul(e,t,n){const l=t?dl(t,t.def.lastRenderRootNode):e.renderElement,r=n.renderer.parentNode(l),i=n.renderer.nextSibling(l);bl(n,2,r,i,void 0)}function Dl(e){bl(e,3,null,null,void 0)}const Fl=new Object;function Vl(e,t,n,l,r,i){return new Ll(e,t,n,l,r,i)}class Ll extends nn{constructor(e,t,n,l,r,i){super(),this.selector=e,this.componentType=t,this._inputs=l,this._outputs=r,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,l){if(!l)throw new Error("ngModule should be provided");const r=yl(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,s=Zn.createRootView(e,t||[],n,r,l,Fl),o=Gn(s,i).instance;return n&&s.renderer.setAttribute(qn(s,0).renderElement,"ng-version",bn.full),new zl(s,new $l(s),o)}}class zl extends tn{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new dn(qn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Wl(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Bl(e,t,n){return new jl(e,t,n)}class jl{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new dn(this._data.renderElement)}get injector(){return new Wl(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=cl(e),e=e.parent;return e?new Wl(e,t):new Wl(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Nl(this._data,e);Zn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new $l(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const l=e.createEmbeddedView(t||{});return this.insert(l,n),l}createComponent(e,t,n,l,r){const i=n||this.parentInjector;r||e instanceof un||(r=i.get(je));const s=e.create(i,l,void 0,r);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,l){let r=t.viewContainer._embeddedViews;null==n&&(n=r.length),l.viewContainerParent=e,$e(r,n,l),function(e,t){const n=ul(t);if(!n||n===e||16&t.state)return;t.state|=16;let l=n.template._projectedViews;l||(l=n.template._projectedViews=[]),l.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,l),Zn.dirtyParentQueries(l),Ul(t,n>0?r[n-1]:null,l)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const l=e.viewContainer._embeddedViews,r=l[t];qe(l,t),null==n&&(n=l.length),$e(l,n,r),Zn.dirtyParentQueries(r),Dl(r),Ul(e,n>0?l[n-1]:null,r)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Nl(this._data,e);t&&Zn.destroyView(t)}detach(e){const t=Nl(this._data,e);return t?new $l(t):null}}function Hl(e){return new $l(e)}class $l{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return bl(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){sl(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Zn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Zn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Dl(this._view),Zn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function ql(e,t){return new Gl(e,t)}class Gl extends Un{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new $l(Zn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new dn(qn(this._parentView,this._def.nodeIndex).renderElement)}}function Kl(e,t){return new Wl(e,t)}class Wl{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ut.THROW_IF_NOT_FOUND){return Zn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Yn(e)},t)}}function Zl(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=qn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return $n(e,n.nodeIndex).renderText;if(20240&n.flags)return Gn(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Ql(e){return new Jl(e.renderer)}class Jl{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,l]=Il(t),r=this.delegate.createElement(l,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),l=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],l)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],l=this.delegate.parentNode(n);this.delegate.removeChild(l,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[l,r]=Il(t);null!=n?this.delegate.setAttribute(e,r,n,l):this.delegate.removeAttribute(e,r,l)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Yl(e,t,n,l){return new Xl(e,t,n,l)}class Xl{constructor(e,t,n,l){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let l=0;l<t.providers.length;l++){const r=t.providers[l];4096&r.flags||void 0===n[l]&&(n[l]=Rl(e,r))}}(this)}get(e,t=Ut.THROW_IF_NOT_FOUND,n=he.Default){let l=0;return n&he.SkipSelf?l|=1:n&he.Self&&(l|=4),Ml(this,{token:e,tokenKey:Yn(e),flags:l},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(on)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ve(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,l=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const t=e._providers[r];if(t&&t!==xl){const e=t.ngOnDestroy;"function"!=typeof e||l.has(t)||(e.apply(t),l.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const er=Yn(gn),tr=Yn(mn),nr=Yn(dn),lr=Yn(Fn),rr=Yn(Un),ir=Yn(Et),sr=Yn(Ut),or=Yn(xe);function ar(e,t,n,l,r,i,s,o){const a=[];if(s)for(let c in s){const[e,t]=s[c];a[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(o)for(let c in o)u.push({type:1,propName:c,target:null,eventName:o[c]});return cr(e,t|=16384,n,l,r,r,i,a,u)}function ur(e,t,n,l,r){return cr(-1,e,t,0,n,l,r)}function cr(e,t,n,l,r,i,s,o,a){const{matchedQueries:u,references:c,matchedQueryIds:d}=pl(n);a||(a=[]),o||(o=[]),i=_e(i);const h=fl(s,ve(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:l,bindings:o,bindingFlags:Ol(o),outputs:a,element:null,provider:{token:r,value:i,deps:h},text:null,query:null,ngContent:null}}function dr(e,t){return fr(e,t)}function hr(e,t){let n=e;for(;n.parent&&!hl(n);)n=n.parent;return mr(n.parent,cl(n),!0,t.provider.value,t.provider.deps)}function gr(e,t){const n=mr(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let l=0;l<t.outputs.length;l++){const r=t.outputs[l],i=n[r.propName];if(!Xt(i))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=i.subscribe(pr(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+l]=n.unsubscribe.bind(n)}}return n}function pr(e,t,n){return l=>al(e,t,n,l)}function fr(e,t){const n=(8192&t.flags)>0,l=t.provider;switch(201347067&t.flags){case 512:return mr(e,t.parent,n,l.value,l.deps);case 1024:return function(e,t,n,l,r){const i=r.length;switch(i){case 0:return l();case 1:return l(yr(e,t,n,r[0]));case 2:return l(yr(e,t,n,r[0]),yr(e,t,n,r[1]));case 3:return l(yr(e,t,n,r[0]),yr(e,t,n,r[1]),yr(e,t,n,r[2]));default:const s=Array(i);for(let l=0;l<i;l++)s[l]=yr(e,t,n,r[l]);return l(...s)}}(e,t.parent,n,l.value,l.deps);case 2048:return yr(e,t.parent,n,l.deps[0]);case 256:return l.value}}function mr(e,t,n,l,r){const i=r.length;switch(i){case 0:return new l;case 1:return new l(yr(e,t,n,r[0]));case 2:return new l(yr(e,t,n,r[0]),yr(e,t,n,r[1]));case 3:return new l(yr(e,t,n,r[0]),yr(e,t,n,r[1]),yr(e,t,n,r[2]));default:const s=new Array(i);for(let l=0;l<i;l++)s[l]=yr(e,t,n,r[l]);return new l(...s)}}const vr={};function yr(e,t,n,l,r=Ut.THROW_IF_NOT_FOUND){if(8&l.flags)return l.token;const i=e;2&l.flags&&(r=null);const s=l.tokenKey;s===ir&&(n=!(!t||!t.element.componentView)),t&&1&l.flags&&(n=!1,t=t.parent);let o=e;for(;o;){if(t)switch(s){case er:return Ql(br(o,t,n));case tr:return br(o,t,n).renderer;case nr:return new dn(qn(o,t.nodeIndex).renderElement);case lr:return qn(o,t.nodeIndex).viewContainer;case rr:if(t.element.template)return qn(o,t.nodeIndex).template;break;case ir:return Hl(br(o,t,n));case sr:case or:return Kl(o,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Gn(o,e.nodeIndex);return t||(t={instance:fr(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}n=hl(o),t=cl(o),o=o.parent,4&l.flags&&(o=null)}const a=i.root.injector.get(l.token,vr);return a!==vr||r===vr?a:i.root.ngModule.injector.get(l.token,r)}function br(e,t,n){let l;if(n)l=qn(e,t.nodeIndex).componentView;else for(l=e;l.parent&&!hl(l);)l=l.parent;return l}function _r(e,t,n,l,r,i){if(32768&n.flags){const t=qn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[l].name]=r,524288&n.flags){i=i||{};const t=Zt.unwrap(e.oldValues[n.bindingIndex+l]);i[n.bindings[l].nonMinifiedName]=new en(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+l]=r,i}function wr(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let l=0;for(let r=0;r<n.length;r++){const i=n[r];let s=i.parent;for(!s&&i.flags&t&&Sr(e,r,i.flags&t,l++),0==(i.childFlags&t)&&(r+=i.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(l=Cr(e,s,t,l)),s=s.parent}}function Cr(e,t,n,l){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&Sr(e,r,t.flags&n,l++),r+=t.childCount}return l}function Sr(e,t,n,l){const r=Gn(e,t);if(!r)return;const i=r.instance;i&&(Zn.setCurrentNode(e,t),1048576&n&&Hn(e,512,l)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Hn(e,768,l)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}const kr=new Oe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),Ir={},Or=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),xr=void 0;var Ar=["en",[["a","p"],["AM","PM"],xr],[["AM","PM"],xr,xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xr,"{1} 'at' {0}",xr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Tr="en-US";let Pr=Tr;function Er(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(Pr=e.toLowerCase().replace(/_/g,"-"))}class Mr extends x{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let l,r=e=>null,i=()=>null;e&&"object"==typeof e?(l=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(l=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(l,r,i);return e instanceof h&&e.add(s),s}}function Rr(){return this._results[Gt()]()}class Nr{constructor(){this.dirty=!0,this._results=[],this.changes=new Mr,this.length=0;const e=Gt(),t=Nr.prototype;t[e]||(t[e]=Rr)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let l=0;l<t.length;l++){let r=t[l];Array.isArray(r)?(n===t&&(n=t.slice(0,l)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ur=new Oe("Application Initializer");class Dr{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Yt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Fr=new Oe("AppId");function Vr(){return`${Lr()}${Lr()}${Lr()}`}function Lr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zr=new Oe("Platform Initializer"),Br=new Oe("Platform ID"),jr=new Oe("appBootstrapListener");class Hr{log(e){console.log(e)}warn(e){console.warn(e)}}const $r=new Oe("LocaleId"),qr=!1;function Gr(){throw new Error("Runtime compiler is not loaded")}const Kr=Gr,Wr=Gr,Zr=Gr,Qr=Gr;class Jr{constructor(){this.compileModuleSync=Kr,this.compileModuleAsync=Wr,this.compileModuleAndAllComponentsSync=Zr,this.compileModuleAndAllComponentsAsync=Qr}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Yr{}let Xr,ei;function ti(){const e=Ie.wtf;return!(!e||!(Xr=e.trace)||(ei=Xr.events,0))}const ni=ti();function li(e,t){return null}const ri=ni?function(e,t=null){return ei.createScope(e,t)}:(e,t)=>li,ii=ni?function(e,t){return Xr.leaveScope(e,t),t}:(e,t)=>t,si=(()=>Promise.resolve(0))();function oi(e){"undefined"==typeof Zone?si.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ai{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mr(!1),this.onMicrotaskEmpty=new Mr(!1),this.onStable=new Mr(!1),this.onError=new Mr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,l,r,i,s)=>{try{return hi(t),e.invokeTask(l,r,i,s)}finally{gi(t)}},onInvoke:(e,n,l,r,i,s,o)=>{try{return hi(t),e.invoke(l,r,i,s,o)}finally{gi(t)}},onHasTask:(e,n,l,r)=>{e.hasTask(l,r),n===l&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,di(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,l,r)=>(e.handleError(l,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ai.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ai.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,l){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+l,e,ci,ui,ui);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function ui(){}const ci={};function di(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gi(e){e._nesting--,di(e)}class pi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mr,this.onMicrotaskEmpty=new Mr,this.onStable=new Mr,this.onError=new Mr}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class fi{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ai.assertNotInAngularZone(),oi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oi(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let l=-1;t&&t>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==l),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class mi{constructor(){this._applications=new Map,bi.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return bi.findTestabilityInTree(this,e,t)}}class vi{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let yi,bi=new vi,_i=function(e,t,n){return e.get(Yr).createCompiler([t]).compileModuleAsync(n)},wi=function(e){return e instanceof un};const Ci=new Oe("AllowMultipleToken");class Si{constructor(e,t){this.name=e,this.token=t}}function ki(e,t,n=[]){const l=`Platform: ${t}`,r=new Oe(l);return(t=[])=>{let i=Ii();if(!i||i.injector.get(Ci,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0});!function(e){if(yi&&!yi.destroyed&&!yi.injector.get(Ci,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yi=e.get(Oi);const t=e.get(zr,null);t&&t.forEach(e=>e())}(Ut.create({providers:e,name:l}))}return function(e){const t=Ii();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Ii(){return yi&&!yi.destroyed?yi:null}class Oi{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(r=t?t.ngZone:void 0)?new pi:("zone.js"===r?void 0:r)||new ai({enableLongStackTrace:lt()}),l=[{provide:ai,useValue:n}];var r;return n.run(()=>{const t=Ut.create({providers:l,parent:this.injector,name:e.moduleType.name}),r=e.create(t),i=r.injector.get(et,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return qr&&Er(r.injector.get($r,Tr)||Tr),r.onDestroy(()=>Ti(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,n){try{const l=n();return Yt(l)?l.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(i,n,()=>{const e=r.injector.get(Dr);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=xi({},t);return _i(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Ai);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function xi(e,t){return Array.isArray(t)?t.reduce(xi,e):Object.assign({},e,t)}let Ai=(()=>{class e{constructor(e,t,n,l,r,i){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=l,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=lt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ai.assertNotInAngularZone(),oi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,l=e[e.length-1];return T(l)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof l&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:Y(t)(G(e,n))}(s,o.pipe(e=>X()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const l=Object.create(t,le);return l.source=t,l.subjectFactory=n,l}}(ie)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof nn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const l=wi(n)?null:this._injector.get(je),r=n.create(Ut.NULL,[],t||n.selector,l);r.onDestroy(()=>{this._unloadComponent(r)});const i=r.injector.get(fi,null);return i&&r.injector.get(mi).registerApplication(r.location.nativeElement,i),this._loadComponent(r),lt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,ii(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ti(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jr,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Ti(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=ri("ApplicationRef#tick()"),e})();function Ti(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Pi{}const Ei="#",Mi="NgFactory";class Ri{}const Ni={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ui{constructor(e,t){this._compiler=e,this._config=t||Ni}load(e){return!qr&&this._compiler instanceof Jr?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,l]=e.split(Ei);return void 0===l&&(l="default"),n("zn8P")(t).then(e=>e[l]).then(e=>Di(e,t,l)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,l]=e.split(Ei),r=Mi;return void 0===l&&(l="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[l+r]).then(e=>Di(e,t,l))}}function Di(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Fi{constructor(e,t){this.name=e,this.callback=t}}class Vi{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Li&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Li extends Vi{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,l){t.childNodes.forEach(t=>{t instanceof Li&&(n(t)&&l.push(t),e(t,n,l))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,l){t instanceof Li&&t.childNodes.forEach(t=>{n(t)&&l.push(t),t instanceof Li&&e(t,n,l)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Li)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const zi=new Map,Bi=function(e){return zi.get(e)||null};function ji(e){zi.set(e.nativeNode,e)}const Hi=ki(null,"core",[{provide:Br,useValue:"unknown"},{provide:Oi,deps:[Ut]},{provide:mi,deps:[]},{provide:Hr,deps:[]}]);function $i(){return Rn}function qi(){return Nn}function Gi(e){return e?(qr&&Er(e),e):Tr}function Ki(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Wi{constructor(e){}}function Zi(e,t,n,l,r,i){e|=1;const{matchedQueries:s,references:o,matchedQueryIds:a}=pl(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a,references:o,ngContentIndex:n,childCount:l,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?yl(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Qn},provider:null,text:null,query:null,ngContent:null}}function Qi(e,t,n,l,r,i,s=[],o,a,u,c,d){u||(u=Qn);const{matchedQueries:h,references:g,matchedQueryIds:p}=pl(n);let f=null,m=null;i&&([f,m]=Il(i)),o=o||[];const v=new Array(o.length);for(let _=0;_<o.length;_++){const[e,t,n]=o[_],[l,r]=Il(t);let i=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:i=n}v[_]={flags:e,ns:l,name:r,nonMinifiedName:r,securityContext:i,suffix:s}}a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t]=a[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,l]=Il(e);return[n,l,t]});return d=function(e){if(e&&e.id===Xn){const t=null!=e.encapsulation&&e.encapsulation!==Ge.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${nl++}`:el}return e&&e.id===el&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:g,ngContentIndex:l,childCount:r,bindings:v,bindingFlags:Ol(v),outputs:y,element:{ns:f,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:u||Qn},provider:null,text:null,query:null,ngContent:null}}function Ji(e,t,n){const l=n.element,r=e.root.selectorOrNode,i=e.renderer;let s;if(e.parent||!r){s=l.name?i.createElement(l.name,l.ns):i.createComment("");const r=ml(e,t,n);r&&i.appendChild(r,s)}else s=i.selectRootElement(r,!!l.componentRendererType&&l.componentRendererType.encapsulation===Ge.ShadowDom);if(l.attrs)for(let o=0;o<l.attrs.length;o++){const[e,t,n]=l.attrs[o];i.setAttribute(s,t,n,e)}return s}function Yi(e,t,n,l){for(let s=0;s<n.outputs.length;s++){const o=n.outputs[s],a=Xi(e,n.nodeIndex,(i=o.eventName,(r=o.target)?`${r}:${i}`:i));let u=o.target,c=e;"component"===o.target&&(u=null,c=t);const d=c.renderer.listen(u||l,o.eventName,a);e.disposables[n.outputIndex+s]=d}var r,i}function Xi(e,t,n){return l=>al(e,t,n,l)}function es(e,t,n,l){if(!rl(e,t,n,l))return!1;const r=t.bindings[n],i=qn(e,t.nodeIndex),s=i.renderElement,o=r.name;switch(15&r.flags){case 1:!function(e,t,n,l,r,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;o=null!=o?o.toString():null;const a=e.renderer;null!=i?a.setAttribute(n,r,o,l):a.removeAttribute(n,r,l)}(e,r,s,r.ns,o,l);break;case 2:!function(e,t,n,l){const r=e.renderer;l?r.addClass(t,n):r.removeClass(t,n)}(e,s,o,l);break;case 4:!function(e,t,n,l,r){let i=e.root.sanitizer.sanitize(It.STYLE,r);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const s=e.renderer;null!=i?s.setStyle(n,l,i):s.removeStyle(n,l)}(e,r,s,o,l);break;case 8:!function(e,t,n,l,r){const i=t.securityContext;let s=i?e.root.sanitizer.sanitize(i,r):r;e.renderer.setProperty(n,l,s)}(33554432&t.flags&&32&r.flags?i.componentView:e,r,s,o,l)}return!0}function ts(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&gl(e);){let n=e.parentNodeDef;e=e.parent;const l=n.nodeIndex+n.childCount;for(let r=0;r<=l;r++){const l=e.def.nodes[r];67108864&l.flags&&536870912&l.flags&&(l.query.filterId&t)===l.query.filterId&&Wn(e,r).setDirty(),!(1&l.flags&&r+l.childCount<n.nodeIndex)&&67108864&l.childFlags&&536870912&l.childFlags||(r+=l.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Wn(e,n).setDirty(),n+=t.childCount}}function ns(e,t){const n=Wn(e,t.nodeIndex);if(!n.dirty)return;let l,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=ls(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),l=Gn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=ls(e,0,e.def.nodes.length-1,t.query,[]),l=e.component);n.reset(r);const i=t.query.bindings;let s=!1;for(let o=0;o<i.length;o++){const e=i[o];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}l[e.propName]=t}s&&n.notifyOnChanges()}function ls(e,t,n,l,r){for(let i=t;i<=n;i++){const t=e.def.nodes[i],n=t.matchedQueries[l.id];if(null!=n&&r.push(rs(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&l.filterId)===l.filterId){const n=qn(e,i);if((t.childMatchedQueries&l.filterId)===l.filterId&&(ls(e,i+1,i+t.childCount,l,r),i+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],s=ul(i);s&&s===n&&ls(i,0,i.def.nodes.length-1,l,r)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];ls(t,0,t.def.nodes.length-1,l,r)}}(t.childMatchedQueries&l.filterId)!==l.filterId&&(i+=t.childCount)}return r}function rs(e,t,n){if(null!=n)switch(n){case 1:return qn(e,t.nodeIndex).renderElement;case 0:return new dn(qn(e,t.nodeIndex).renderElement);case 2:return qn(e,t.nodeIndex).template;case 3:return qn(e,t.nodeIndex).viewContainer;case 4:return Gn(e,t.nodeIndex).instance}}function is(e,t,n){const l=ml(e,t,n);l&&wl(e,n.ngContent.index,1,l,null,void 0)}function ss(e,t){return as(32,e,new Array(t))}function os(e,t){const n=Object.keys(t),l=n.length,r=new Array(l);for(let i=0;i<l;i++){const e=n[i];r[t[e]]=e}return as(64,e,r)}function as(e,t,n){const l=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];l[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:l,bindingFlags:Ol(l),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function us(e,t,n){const l=new Array(n.length-1);for(let r=1;r<n.length;r++)l[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:l,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function cs(e,t,n){let l;const r=e.renderer;l=r.createText(n.text.prefix);const i=ml(e,t,n);return i&&r.appendChild(i,l),{renderText:l}}function ds(e,t){return(null!=e?e.toString():"")+t.suffix}function hs(e,t,n,l){let r=0,i=0,s=0,o=0,a=0,u=null,c=null,d=!1,h=!1,g=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=u,e.bindingIndex=r,e.outputIndex=i,e.renderParent=c,s|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,h=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(ps(u,e,t.length),r+=e.bindings.length,i+=e.outputs.length,!c&&3&e.flags&&(g=e),20224&e.flags){d||(d=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Yn(e.provider.token)]=e:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Yn(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)u=e,gs(e)||(c=e);else for(;u&&p===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&gs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:o,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||Qn,updateRenderer:l||Qn,handleEvent:(e,n,l,r)=>t[n].element.handleEvent(e,l,r),bindingCount:r,outputCount:i,lastRenderRootNode:g}}function gs(e){return 0!=(1&e.flags)&&null===e.element.name}function ps(e,t,n){const l=t.element&&t.element.template;if(l){if(!l.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(l.lastRenderRootNode&&16777216&l.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const l=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=l&&t.nodeIndex+t.childCount>l)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function fs(e,t,n,l){const r=ys(e.root,e.renderer,e,t,n);return bs(r,e.component,l),_s(r),r}function ms(e,t,n){const l=ys(e,e.renderer,null,null,t);return bs(l,n,n),_s(l),l}function vs(e,t,n,l){const r=t.element.componentRendererType;let i;return i=r?e.root.rendererFactory.createRenderer(l,r):e.root.renderer,ys(e.root,i,e,t.element.componentProvider,n)}function ys(e,t,n,l,r){const i=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:l,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function bs(e,t,n){e.component=t,e.context=n}function _s(e){let t;hl(e)&&(t=qn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,l=e.nodes;for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];let s;switch(Zn.setCurrentNode(e,r),201347067&i.flags){case 1:const n=Ji(e,t,i);let o=void 0;if(33554432&i.flags){const t=yl(i.element.componentView);o=Zn.createComponentView(e,i,t,n)}Yi(e,o,i,n),s={renderElement:n,componentView:o,viewContainer:null,template:i.element.template?ql(e,i):void 0},16777216&i.flags&&(s.viewContainer=Bl(e,i,s));break;case 2:s=cs(e,t,i);break;case 512:case 1024:case 2048:case 256:(s=l[r])||4096&i.flags||(s={instance:dr(e,i)});break;case 16:s={instance:hr(e,i)};break;case 16384:(s=l[r])||(s={instance:gr(e,i)}),32768&i.flags&&bs(qn(e,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Nr;break;case 8:is(e,t,i),s=void 0}l[r]=s}Ts(e,As.CreateViewNodes),Rs(e,201326592,268435456,0)}function ws(e){ks(e),Zn.updateDirectives(e,1),Ps(e,As.CheckNoChanges),Zn.updateRenderer(e,1),Ts(e,As.CheckNoChanges),e.state&=-97}function Cs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,jn(e,0,256),ks(e),Zn.updateDirectives(e,0),Ps(e,As.CheckAndUpdate),Rs(e,67108864,536870912,0);let t=jn(e,256,512);wr(e,2097152|(t?1048576:0)),Zn.updateRenderer(e,0),Ts(e,As.CheckAndUpdate),Rs(e,134217728,536870912,0),wr(e,8388608|((t=jn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,jn(e,768,1024)}function Ss(e,t,n,l,r,i,s,o,a,u,c,d,h){return 0===n?function(e,t,n,l,r,i,s,o,a,u,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,l,r,i,s,o,a,u,c,d){const h=t.bindings.length;let g=!1;return h>0&&es(e,t,0,n)&&(g=!0),h>1&&es(e,t,1,l)&&(g=!0),h>2&&es(e,t,2,r)&&(g=!0),h>3&&es(e,t,3,i)&&(g=!0),h>4&&es(e,t,4,s)&&(g=!0),h>5&&es(e,t,5,o)&&(g=!0),h>6&&es(e,t,6,a)&&(g=!0),h>7&&es(e,t,7,u)&&(g=!0),h>8&&es(e,t,8,c)&&(g=!0),h>9&&es(e,t,9,d)&&(g=!0),g}(e,t,n,l,r,i,s,o,a,u,c,d);case 2:return function(e,t,n,l,r,i,s,o,a,u,c,d){let h=!1;const g=t.bindings,p=g.length;if(p>0&&rl(e,t,0,n)&&(h=!0),p>1&&rl(e,t,1,l)&&(h=!0),p>2&&rl(e,t,2,r)&&(h=!0),p>3&&rl(e,t,3,i)&&(h=!0),p>4&&rl(e,t,4,s)&&(h=!0),p>5&&rl(e,t,5,o)&&(h=!0),p>6&&rl(e,t,6,a)&&(h=!0),p>7&&rl(e,t,7,u)&&(h=!0),p>8&&rl(e,t,8,c)&&(h=!0),p>9&&rl(e,t,9,d)&&(h=!0),h){let h=t.text.prefix;p>0&&(h+=ds(n,g[0])),p>1&&(h+=ds(l,g[1])),p>2&&(h+=ds(r,g[2])),p>3&&(h+=ds(i,g[3])),p>4&&(h+=ds(s,g[4])),p>5&&(h+=ds(o,g[5])),p>6&&(h+=ds(a,g[6])),p>7&&(h+=ds(u,g[7])),p>8&&(h+=ds(c,g[8])),p>9&&(h+=ds(d,g[9]));const f=$n(e,t.nodeIndex).renderText;e.renderer.setValue(f,h)}return h}(e,t,n,l,r,i,s,o,a,u,c,d);case 16384:return function(e,t,n,l,r,i,s,o,a,u,c,d){const h=Gn(e,t.nodeIndex),g=h.instance;let p=!1,f=void 0;const m=t.bindings.length;return m>0&&ll(e,t,0,n)&&(p=!0,f=_r(e,h,t,0,n,f)),m>1&&ll(e,t,1,l)&&(p=!0,f=_r(e,h,t,1,l,f)),m>2&&ll(e,t,2,r)&&(p=!0,f=_r(e,h,t,2,r,f)),m>3&&ll(e,t,3,i)&&(p=!0,f=_r(e,h,t,3,i,f)),m>4&&ll(e,t,4,s)&&(p=!0,f=_r(e,h,t,4,s,f)),m>5&&ll(e,t,5,o)&&(p=!0,f=_r(e,h,t,5,o,f)),m>6&&ll(e,t,6,a)&&(p=!0,f=_r(e,h,t,6,a,f)),m>7&&ll(e,t,7,u)&&(p=!0,f=_r(e,h,t,7,u,f)),m>8&&ll(e,t,8,c)&&(p=!0,f=_r(e,h,t,8,c,f)),m>9&&ll(e,t,9,d)&&(p=!0,f=_r(e,h,t,9,d,f)),f&&g.ngOnChanges(f),65536&t.flags&&Hn(e,256,t.nodeIndex)&&g.ngOnInit(),262144&t.flags&&g.ngDoCheck(),p}(e,t,n,l,r,i,s,o,a,u,c,d);case 32:case 64:case 128:return function(e,t,n,l,r,i,s,o,a,u,c,d){const h=t.bindings;let g=!1;const p=h.length;if(p>0&&rl(e,t,0,n)&&(g=!0),p>1&&rl(e,t,1,l)&&(g=!0),p>2&&rl(e,t,2,r)&&(g=!0),p>3&&rl(e,t,3,i)&&(g=!0),p>4&&rl(e,t,4,s)&&(g=!0),p>5&&rl(e,t,5,o)&&(g=!0),p>6&&rl(e,t,6,a)&&(g=!0),p>7&&rl(e,t,7,u)&&(g=!0),p>8&&rl(e,t,8,c)&&(g=!0),p>9&&rl(e,t,9,d)&&(g=!0),g){const g=Kn(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=new Array(h.length),p>0&&(f[0]=n),p>1&&(f[1]=l),p>2&&(f[2]=r),p>3&&(f[3]=i),p>4&&(f[4]=s),p>5&&(f[5]=o),p>6&&(f[6]=a),p>7&&(f[7]=u),p>8&&(f[8]=c),p>9&&(f[9]=d);break;case 64:f={},p>0&&(f[h[0].name]=n),p>1&&(f[h[1].name]=l),p>2&&(f[h[2].name]=r),p>3&&(f[h[3].name]=i),p>4&&(f[h[4].name]=s),p>5&&(f[h[5].name]=o),p>6&&(f[h[6].name]=a),p>7&&(f[h[7].name]=u),p>8&&(f[h[8].name]=c),p>9&&(f[h[9].name]=d);break;case 128:const e=n;switch(p){case 1:f=e.transform(n);break;case 2:f=e.transform(l);break;case 3:f=e.transform(l,r);break;case 4:f=e.transform(l,r,i);break;case 5:f=e.transform(l,r,i,s);break;case 6:f=e.transform(l,r,i,s,o);break;case 7:f=e.transform(l,r,i,s,o,a);break;case 8:f=e.transform(l,r,i,s,o,a,u);break;case 9:f=e.transform(l,r,i,s,o,a,u,c);break;case 10:f=e.transform(l,r,i,s,o,a,u,c,d)}}g.value=f}return g}(e,t,n,l,r,i,s,o,a,u,c,d);default:throw"unreachable"}}(e,t,l,r,i,s,o,a,u,c,d,h):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let l=!1;for(let r=0;r<n.length;r++)es(e,t,r,n[r])&&(l=!0);return l}(e,t,n);case 2:return function(e,t,n){const l=t.bindings;let r=!1;for(let i=0;i<n.length;i++)rl(e,t,i,n[i])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=ds(n[e],l[e]);r=t.text.prefix+r;const i=$n(e,t.nodeIndex).renderText;e.renderer.setValue(i,r)}return r}(e,t,n);case 16384:return function(e,t,n){const l=Gn(e,t.nodeIndex),r=l.instance;let i=!1,s=void 0;for(let o=0;o<n.length;o++)ll(e,t,o,n[o])&&(i=!0,s=_r(e,l,t,o,n[o],s));return s&&r.ngOnChanges(s),65536&t.flags&&Hn(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const l=t.bindings;let r=!1;for(let i=0;i<n.length;i++)rl(e,t,i,n[i])&&(r=!0);if(r){const r=Kn(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=n;break;case 64:i={};for(let r=0;r<n.length;r++)i[l[r].name]=n[r];break;case 128:const e=n[0],t=n.slice(1);i=e.transform(...t)}r.value=i}return r}(e,t,n);default:throw"unreachable"}}(e,t,l)}function ks(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const l=t.nodes[n];if(4&l.flags){const t=qn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const l=t[n];l.state|=32,ol(l,e)}}else 0==(4&l.childFlags)&&(n+=l.childCount)}}function Is(e,t,n,l,r,i,s,o,a,u,c,d,h){return 0===n?function(e,t,n,l,r,i,s,o,a,u,c,d){const h=t.bindings.length;h>0&&il(e,t,0,n),h>1&&il(e,t,1,l),h>2&&il(e,t,2,r),h>3&&il(e,t,3,i),h>4&&il(e,t,4,s),h>5&&il(e,t,5,o),h>6&&il(e,t,6,a),h>7&&il(e,t,7,u),h>8&&il(e,t,8,c),h>9&&il(e,t,9,d)}(e,t,l,r,i,s,o,a,u,c,d,h):function(e,t,n){for(let l=0;l<n.length;l++)il(e,t,l,n[l])}(e,t,l),!1}function Os(e,t){if(Wn(e,t.nodeIndex).dirty)throw Ln(Zn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function xs(e){if(!(128&e.state)){if(Ps(e,As.Destroy),Ts(e,As.Destroy),wr(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ul(e);if(t){const n=t.template._projectedViews;n&&(qe(n,n.indexOf(e)),Zn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(qn(e,n).renderElement):2&t.flags?e.renderer.destroyNode($n(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Wn(e,n).destroy()}}(e),hl(e)&&e.renderer.destroy(),e.state|=128}}const As=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ts(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let l=0;l<n.nodes.length;l++){const r=n.nodes[l];33554432&r.flags?Es(qn(e,l).componentView,t):0==(33554432&r.childFlags)&&(l+=r.childCount)}}function Ps(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let l=0;l<n.nodes.length;l++){const r=n.nodes[l];if(16777216&r.flags){const n=qn(e,l).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Es(n[e],t)}else 0==(16777216&r.childFlags)&&(l+=r.childCount)}}function Es(e,t){const n=e.state;switch(t){case As.CheckNoChanges:0==(128&n)&&(12==(12&n)?ws(e):64&n&&Ms(e,As.CheckNoChangesProjectedViews));break;case As.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ws(e):64&n&&Ms(e,t));break;case As.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Cs(e):64&n&&Ms(e,As.CheckAndUpdateProjectedViews));break;case As.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Cs(e):64&n&&Ms(e,t));break;case As.Destroy:xs(e);break;case As.CreateViewNodes:_s(e)}}function Ms(e,t){Ps(e,t),Ts(e,t)}function Rs(e,t,n,l){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let i=0;i<r;i++){const r=e.def.nodes[i];if(r.flags&t&&r.flags&n)switch(Zn.setCurrentNode(e,r.nodeIndex),l){case 0:ns(e,r);break;case 1:Os(e,r)}r.childFlags&t&&r.childFlags&n||(i+=r.childCount)}}let Ns=!1;function Us(e,t,n,l,r,i){const s=r.injector.get(pn);return ms(Fs(e,r,s,t,n),l,i)}function Ds(e,t,n,l,r,i){const s=r.injector.get(pn),o=Fs(e,r,new mo(s),t,n),a=Ks(l);return po(Xs.create,ms,null,[o,a,i])}function Fs(e,t,n,l,r){const i=t.injector.get(Ot),s=t.injector.get(et),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:l,selectorOrNode:r,sanitizer:i,rendererFactory:n,renderer:o,errorHandler:s}}function Vs(e,t,n,l){const r=Ks(n);return po(Xs.create,fs,null,[e,t,r,l])}function Ls(e,t,n,l){return n=Hs.get(t.element.componentProvider.provider.token)||Ks(n),po(Xs.create,vs,null,[e,t,n,l])}function zs(e,t,n,l){return Yl(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Bs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const l=Bs.get(e.token);3840&e.flags&&l&&(t=!0,n=n||l.deprecatedBehavior)}),e.modules.forEach(e=>{js.forEach((l,r)=>{fe(r).providedIn===e&&(t=!0,n=n||l.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const l=e.providers[t];n&&(l.flags|=4096);const r=Bs.get(l.token);r&&(l.flags=-3841&l.flags|r.flags,l.deps=fl(r.deps),l.value=r.value)}if(js.size>0){let t=new Set(e.modules);js.forEach((l,r)=>{if(t.has(fe(r).providedIn)){let t={token:r,flags:l.flags|(n?4096:0),deps:fl(l.deps),value:l.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Yn(r)]=t}})}}(e=e.factory(()=>Qn)),e):e}(l))}const Bs=new Map,js=new Map,Hs=new Map;function $s(e){let t;Bs.set(e.token,e),"function"==typeof e.token&&(t=fe(e.token))&&"function"==typeof t.providedIn&&js.set(e.token,e)}function qs(e,t){const n=yl(t.viewDefFactory),l=yl(n.nodes[0].element.componentView);Hs.set(e,l)}function Gs(){Bs.clear(),js.clear(),Hs.clear()}function Ks(e){if(0===Bs.size)return e;const t=function(e){const t=[];let n=null;for(let l=0;l<e.nodes.length;l++){const r=e.nodes[l];1&r.flags&&(n=r),n&&3840&r.flags&&Bs.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Qn);for(let l=0;l<t.length;l++)n(e,t[l]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Bs.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=fl(n.deps),e.value=n.value)}}}}function Ws(e,t,n,l,r,i,s,o,a,u,c,d,h){const g=e.def.nodes[t];return Ss(e,g,n,l,r,i,s,o,a,u,c,d,h),224&g.flags?Kn(e,t).value:void 0}function Zs(e,t,n,l,r,i,s,o,a,u,c,d,h){const g=e.def.nodes[t];return Is(e,g,n,l,r,i,s,o,a,u,c,d,h),224&g.flags?Kn(e,t).value:void 0}function Qs(e){return po(Xs.detectChanges,Cs,null,[e])}function Js(e){return po(Xs.checkNoChanges,ws,null,[e])}function Ys(e){return po(Xs.destroy,xs,null,[e])}const Xs=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let eo,to,no;function lo(e,t){to=e,no=t}function ro(e,t,n,l){return lo(e,t),po(Xs.handleEvent,e.def.handleEvent,null,[e,t,n,l])}function io(e,t){if(128&e.state)throw Bn(Xs[eo]);return lo(e,uo(e,0)),e.def.updateDirectives((function(e,n,l,...r){const i=e.def.nodes[n];return 0===t?oo(e,i,l,r):ao(e,i,l,r),16384&i.flags&&lo(e,uo(e,n)),224&i.flags?Kn(e,i.nodeIndex).value:void 0}),e)}function so(e,t){if(128&e.state)throw Bn(Xs[eo]);return lo(e,co(e,0)),e.def.updateRenderer((function(e,n,l,...r){const i=e.def.nodes[n];return 0===t?oo(e,i,l,r):ao(e,i,l,r),3&i.flags&&lo(e,co(e,n)),224&i.flags?Kn(e,i.nodeIndex).value:void 0}),e)}function oo(e,t,n,l){if(Ss(e,t,n,...l)){const s=1===n?l[0]:l;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const l=t.bindings[e],o=s[e];8&l.flags&&(n[(r=l.nonMinifiedName,i=void 0,i=r.replace(/[$@]/g,"_"),`ng-reflect-${r=i.replace(Tt,(...e)=>"-"+e[1].toLowerCase())}`)]=Pt(o))}const l=t.parent,o=qn(e,l.nodeIndex).renderElement;if(l.element.name)for(let t in n){const l=n[t];null!=l?e.renderer.setAttribute(o,t,l):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var r,i}function ao(e,t,n,l){Is(e,t,n,...l)}function uo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function co(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ho{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,l=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&l;)n=cl(l),l=l.parent;this.elDef=n,this.elView=l}get elOrCompView(){return qn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Kl(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){go(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&go(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!hl(e);)e=e.parent;return e.parent?qn(e.parent,cl(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?dl(this.view,this.nodeDef):dl(this.elView,this.elDef)}logError(e,...t){let n,l;2&this.nodeDef.flags?(n=this.view.def,l=this.nodeDef.nodeIndex):(n=this.elView.def,l=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let l=0;l<=t;l++)3&e.nodes[l].flags&&n++;return n}(n,l);let i=-1;n.factory(()=>++i===r?e.error.bind(e,...t):Qn),i<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function go(e,t,n){for(let l in t.references)n[l]=rs(e,t,t.references[l])}function po(e,t,n,l){const r=eo,i=to,s=no;try{eo=e;const o=t.apply(n,l);return to=i,no=s,eo=r,o}catch(u){if(Je(u)||!to)throw u;throw o=u,a=fo(),o instanceof Error||(o=new Error(o.toString())),zn(o,a),o}var o,a}function fo(){return to?new ho(to,no):null}class mo{constructor(e){this.delegate=e}createRenderer(e,t){return new vo(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class vo{constructor(e){this.delegate=e,this.debugContextFactory=fo,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Bi(e);!function(e){zi.delete(e.nativeNode)}(t),t instanceof Vi&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),l=this.createDebugContext(n);if(l){const t=new Li(n,null,l);t.name=e,ji(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&ji(new Vi(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&ji(new Vi(t,null,n)),t}appendChild(e,t){const n=Bi(e),l=Bi(t);n&&l&&n instanceof Li&&n.addChild(l),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const l=Bi(e),r=Bi(t),i=Bi(n);l&&r&&l instanceof Li&&l.insertBefore(i,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Bi(e),l=Bi(t);n&&l&&n instanceof Li&&n.removeChild(l),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),l=fo();return l&&ji(new Li(n,null,l)),n}setAttribute(e,t,n,l){const r=Bi(e);r&&r instanceof Li&&(r.attributes[l?l+":"+t:t]=n),this.delegate.setAttribute(e,t,n,l)}removeAttribute(e,t,n){const l=Bi(e);l&&l instanceof Li&&(l.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Bi(e);n&&n instanceof Li&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Bi(e);n&&n instanceof Li&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,l){const r=Bi(e);r&&r instanceof Li&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,l)}removeStyle(e,t,n){const l=Bi(e);l&&l instanceof Li&&(l.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const l=Bi(e);l&&l instanceof Li&&(l.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const l=Bi(e);l&&l.listeners.push(new Fi(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function yo(e,t,n){return new bo(e,t,n)}class bo extends He{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(Ns)return;Ns=!0;const e=lt()?{setCurrentNode:lo,createRootView:Ds,createEmbeddedView:Vs,createComponentView:Ls,createNgModuleRef:zs,overrideProvider:$s,overrideComponentView:qs,clearOverrides:Gs,checkAndUpdateView:Qs,checkNoChangesView:Js,destroyView:Ys,createDebugContext:(e,t)=>new ho(e,t),handleEvent:ro,updateDirectives:io,updateRenderer:so}:{setCurrentNode:()=>{},createRootView:Us,createEmbeddedView:fs,createComponentView:vs,createNgModuleRef:Yl,overrideProvider:Qn,overrideComponentView:Qn,clearOverrides:Qn,checkAndUpdateView:Cs,checkNoChangesView:ws,destroyView:xs,createDebugContext:(e,t)=>new ho(e,t),handleEvent:(e,t,n,l)=>e.def.handleEvent(e,t,n,l),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ws:Zs,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ws:Zs,e)};Zn.setCurrentNode=e.setCurrentNode,Zn.createRootView=e.createRootView,Zn.createEmbeddedView=e.createEmbeddedView,Zn.createComponentView=e.createComponentView,Zn.createNgModuleRef=e.createNgModuleRef,Zn.overrideProvider=e.overrideProvider,Zn.overrideComponentView=e.overrideComponentView,Zn.clearOverrides=e.clearOverrides,Zn.checkAndUpdateView=e.checkAndUpdateView,Zn.checkNoChangesView=e.checkNoChangesView,Zn.destroyView=e.destroyView,Zn.resolveDep=yr,Zn.createDebugContext=e.createDebugContext,Zn.handleEvent=e.handleEvent,Zn.updateDirectives=e.updateDirectives,Zn.updateRenderer=e.updateRenderer,Zn.dirtyParentQueries=ts}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),l={};for(const r in e.providersByKey)l[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:l}}(yl(this._ngModuleDefFactory));return Zn.createNgModuleRef(this.moduleType,e||Ut.NULL,this._bootstrapComponents,t)}}class _o extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class wo extends _o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,l=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(l,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(l,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,l=void 0;try{this.work(e)}catch(r){n=!0,l=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),l}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,l=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&n.splice(l,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class Co extends wo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let So=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class ko extends So{constructor(e,t=So.now){super(e,()=>ko.delegate&&ko.delegate!==this?ko.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return ko.delegate&&ko.delegate!==this?ko.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class Io extends ko{}const Oo=new Io(Co),xo=new w(e=>e.complete());function Ao(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):xo}function To(e){const t=new w(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function Po(...e){let t=e[e.length-1];switch(T(t)?e.pop():t=void 0,e.length){case 0:return Ao(t);case 1:return t?G(e,t):To(e[0]);default:return G(e,t)}}let Eo=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Po(this.value);case"E":return e=this.error,new w(t=>t.error(e));case"C":return Ao()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class Mo extends f{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Mo.dispatch,this.delay,new Ro(e,this.destination)))}_next(e){this.scheduleMessage(Eo.createNext(e))}_error(e){this.scheduleMessage(Eo.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Eo.createComplete()),this.unsubscribe()}}class Ro{constructor(e,t){this.notification=e,this.destination=t}}class No extends x{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Uo(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,r=n.length;let i;if(this.closed)throw new k;if(this.isStopped||this.hasError?i=h.EMPTY:(this.observers.push(e),i=new I(this,e)),l&&e.add(e=new Mo(e,l)),t)for(let s=0;s<r&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<r&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i}_getNow(){return(this.scheduler||Oo).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,l=this._events,r=l.length;let i=0;for(;i<r&&!(e-l[i].time<n);)i++;return r>t&&(i=Math.max(i,r-t)),i>0&&l.splice(0,i),l}}class Uo{constructor(e,t){this.time=e,this.value=t}}class Do extends x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(e){super.next(this._value=e)}}class Fo{constructor(e){this.lazyLoad=!1,this.providers=new Map;for(let t=0;t<e.length;t++){let n=e[t];this.providers.set(n.id,n.provider),this.lazyLoad=this.lazyLoad||n.lazyLoad}}}let Vo=(()=>{class e{constructor(e){this._user=null,this._authState=new No(1),this._readyState=new Do([]),this.initialized=!1,this.providers=e.providers,e.lazyLoad||this.initialize()}get authState(){return this._authState.asObservable()}get readyState(){return this._readyState.asObservable()}initialize(){this.initialized=!0,this.providers.forEach((e,t)=>{e.initialize().then(()=>{let n=this._readyState.getValue();n.push(t),this._readyState.next(n),e.getLoginStatus().then(e=>{e.provider=t,this._user=e,this._authState.next(e)}).catch(e=>{this._authState.next(null)})})})}signIn(t,n){return this.initialized||this.initialize(),new Promise((l,r)=>{let i=this.providers.get(t);i?i.signIn(n).then(e=>{e.provider=t,l(e),this._user=e,this._authState.next(e)}).catch(e=>{r(e)}):r(e.ERR_LOGIN_PROVIDER_NOT_FOUND)})}signOut(t=!1){return this.initialized||this.initialize(),new Promise((n,l)=>{if(this._user){let r=this.providers.get(this._user.provider);r?r.signOut(t).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(e=>{l(e)}):l(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else l(e.ERR_NOT_LOGGED_IN)})}}return e.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",e.ERR_NOT_LOGGED_IN="Not logged in",e})();class Lo{static initialize(e){return{ngModule:Lo,providers:[Vo,{provide:Fo,useValue:e}]}}}class zo{}class Bo{constructor(){this._readyState=new Do(!1)}onReady(){return new Promise((e,t)=>{this._readyState.subscribe(t=>{t&&e()})})}loadScript(e,t,n,l=!0,r=""){if("undefined"!=typeof document&&!document.getElementById(e)){let e=document.createElement("script");e.async=l,e.src=t,e.onload=n,document.head.appendChild(e)}}}let jo=(()=>{class e extends Bo{constructor(e,t={scope:"email"}){super(),this.clientId=e,this.opt=t}initialize(){return new Promise((t,n)=>{this.loadScript(e.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign({},this.opt,{client_id:this.clientId})),this.auth2.then(()=>{this._readyState.next(!0),t()}).catch(e=>{n(e)})})})})}getLoginStatus(){return new Promise((e,t)=>{this.onReady().then(()=>{if(this.auth2.isSignedIn.get()){let t=new zo,n=this.auth2.currentUser.get().getBasicProfile(),l=this.auth2.currentUser.get().getAuthResponse(!0).access_token,r=this.auth2.currentUser.get().getAuthResponse(!0).id_token;t.id=n.getId(),t.name=n.getName(),t.email=n.getEmail(),t.photoUrl=n.getImageUrl(),t.firstName=n.getGivenName(),t.lastName=n.getFamilyName(),t.authToken=l,t.idToken=r,e(t)}else t("No user is currently logged in.")})})}signIn(e){return new Promise((t,n)=>{this.onReady().then(()=>{(e&&e.offline_access||this.opt&&this.opt.offline_access?this.auth2.grantOfflineAccess(e):this.auth2.signIn(e)).then(e=>{let n=new zo,l=this.auth2.currentUser.get().getBasicProfile(),r=this.auth2.currentUser.get().getAuthResponse(!0).access_token,i=this.auth2.currentUser.get().getAuthResponse(!0).id_token;n.id=l.getId(),n.name=l.getName(),n.email=l.getEmail(),n.photoUrl=l.getImageUrl(),n.firstName=l.getGivenName(),n.lastName=l.getFamilyName(),n.authToken=r,n.idToken=i,e&&e.code&&(n.authorizationCode=e.code),t(n)},e=>{n("User cancelled login or did not fully authorize.")}).catch(e=>{n(e)})})})}signOut(e){return new Promise((t,n)=>{this.onReady().then(()=>{let l;(l=e?this.auth2.disconnect():this.auth2.signOut()).then(e=>{e?n(e):t()}).catch(e=>{n(e)})})})}}return e.PROVIDER_ID="GOOGLE",e})();const Ho=new Fo([{id:jo.PROVIDER_ID,provider:new jo("239975901698-c4lmv7l5ku13p51014vtr4af014ejacc.apps.googleusercontent.com")}]);function $o(){return Ho}class qo{}function Go(e,t=!1){return n=>n.lift(new Ko(e,t))}class Ko{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new Wo(e,this.predicate,this.inclusive))}}class Wo extends f{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(l){return void t.error(l)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}class Zo{constructor(e,t,n,l,r,i,s){this.router=e,this.tokenService=t,this.orgaService=n,this.notificationService=l,this.accessService=r,this.eventService=i,this.settingsService=s,this.isActive=!0,this.orgaName="",this.usersDisplayName="",this.useMyColors=!0,this.dropDownItems=[],this.countOfNewBadgeItems=0,this.dropdownLogoutId=9999}ngOnInit(){this.settingsService.setTitle("Home"),this.accessService.hasPermission(0,{type:0,id:0},""),this.eventService.tokenChanged.pipe(Go(()=>this.isActive)).subscribe(()=>this.initMembers()),this.initMembers()}ngOnDestroy(){this.isActive=!1}initMembers(){this.countOfNewBadgeItems=0,this.tokenService.isLoggedIn?(this.orgaName=this.tokenService.getOrgaName(),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.countOfNewBadgeItems=this.notificationService.getNumberOfNotificationsForCurrentPrincipal()):(this.orgaName="",this.usersDisplayName=""),this.useMyColors=!this.settingsService.useGreenLikeColors(),this.dropDownItems=[],this.tokenService.isLoggedIn&&(this.dropDownItems.push({id:1,link:"/iam/user-info",text:"User-Infos"},{isDivider:!0}),this.countOfNewBadgeItems>0&&this.dropDownItems.push({id:10,link:"/notification-view",text:"Nachrichten f\xfcr dich",newCount:this.countOfNewBadgeItems},{isDivider:!0}),this.dropDownItems.push({id:20,link:"/iam/credentials-management",text:"zu deinen Zugangsmedien"},{id:30,link:"/iam/organization-management",text:"zu deinen Mitgliedschaften"},{id:40,link:"/iam/organization-administration",text:"zur Organisations-Administration"},{isDivider:!0},{id:50,link:"/folderApp/main",text:"zur Ordner-App"},{id:60,link:"/folderApp/admin",text:"zur Ordner-Administration"},{isDivider:!0},{id:70,link:"/iam/login",text:"anders anmelden"},{id:this.dropdownLogoutId,text:"abmelden"}))}_userMayCallOrgaAdministration(){return this.tokenService.isLoggedInInOrga()&&this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)}onProfileClick(){this.tokenService.isLoggedIn||this.router.navigateByUrl("/iam/login")}onDropDownProfileClick(e){const t=this.dropDownItems[e];if(t.id===this.dropdownLogoutId)return this.tokenService.logout(),void this.router.navigateByUrl("/");t.link&&this.router.navigateByUrl(t.link)}}class Qo{}const Jo=new Oe("Location Initialized");class Yo{}const Xo=new Oe("appBaseHref");class ea{constructor(e,t){this._subject=new Mr,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=ea.stripTrailingSlash(ta(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+ea.normalizeQueryParams(t))}normalize(e){return ea.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ta(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ea.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ea.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function ta(e){return e.replace(/\/index.html$/,"")}class na extends Yo{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ea.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,l){let r=this.prepareExternalUrl(n+ea.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,l){let r=this.prepareExternalUrl(n+ea.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class la extends Yo{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ea.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+ea.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,l){const r=this.prepareExternalUrl(n+ea.normalizeQueryParams(l));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,l){const r=this.prepareExternalUrl(n+ea.normalizeQueryParams(l));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ra=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ia=function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Ir[t];if(n)return n;const l=t.split("-")[0];if(n=Ir[l])return n;if("en"===l)return Ar;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Or.PluralCase]},sa=new Oe("UseV4Plurals");class oa{}class aa extends oa{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):ia(t||this.locale)(e)){case ra.Zero:return"zero";case ra.One:return"one";case ra.Two:return"two";case ra.Few:return"few";case ra.Many:return"many";default:return"other"}}}function ua(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[l,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(l.trim()===t)return decodeURIComponent(r)}return null}class ca{}class da{constructor(e,t,n,l){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=l,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Qt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let ha=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class ga extends ha{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class pa{constructor(e,t,n,l){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class fa{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){lt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,l)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pa(null,this._ngForOf,-1,-1),null===l?void 0:l),r=new ma(e,n);t.push(r)}else if(null==l)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,l);const i=new ma(e,r);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,l=this._viewContainer.length;n<l;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=l,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class ma{constructor(e,t){this.record=e,this.view=t}}class va{constructor(e,t){this._viewContainer=e,this._context=new ya,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ba("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ba("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class ya{constructor(){this.$implicit=null,this.ngIf=null}}function ba(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ve(t)}'.`)}class _a{}const wa=new Oe("DocumentToken"),Ca="server";let Sa=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new ka(Le(wa),window,Le(et))}),e})();class ka{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,l=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],l-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}function Ia(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ia.prototype=Object.create(Error.prototype);const Oa=Ia,xa={};class Aa{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ta(e,this.resultSelector))}}class Ta extends j{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xa),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(B(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,l,r){const i=this.values,s=this.toRespond?i[n]===xa?--this.toRespond:this.toRespond:0;i[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Pa(e){return new w(t=>{let n;try{n=e()}catch(l){return void t.error(l)}return(n?K(n):Ao()).subscribe(t)})}function Ea(){return Y(1)}function Ma(e,t){return function(n){return n.lift(new Ra(e,t))}}class Ra{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Na(e,this.predicate,this.thisArg))}}class Na extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ua(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ua.prototype=Object.create(Error.prototype);const Da=Ua;function Fa(e){return function(t){return 0===e?Ao():t.lift(new Va(e))}}class Va{constructor(e){if(this.total=e,this.total<0)throw new Da}call(e,t){return t.subscribe(new La(e,this.total))}}class La extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,l=this.count++;t.length<n?t.push(e):t[l%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,l=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(l[r])}}e.complete()}}function za(e,t,n){return function(l){return l.lift(new Ba(e,t,n))}}class Ba{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new ja(e,this.nextOrObserver,this.error,this.complete))}}class ja extends f{constructor(e,t,n,r){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,l(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Ha=(e=$a)=>za({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function $a(){return new Oa}function qa(e=null){return t=>t.lift(new Ga(e))}class Ga{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ka(e,this.defaultValue))}}class Ka extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Wa(e,t){const n=arguments.length>=2;return l=>l.pipe(e?Ma((t,n)=>e(t,n,l)):J,Fa(1),n?qa(t):Ha(()=>new Oa))}function Za(e){return function(t){const n=new Qa(e),l=t.lift(n);return n.caught=l}}class Qa{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ja(e,this.selector,this.caught))}}class Ja extends j{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const l=new P(this,void 0,void 0);this.add(l),B(this,n,void 0,void 0,l)}}}function Ya(e){return t=>0===e?Ao():t.lift(new Xa(e))}class Xa{constructor(e){if(this.total=e,this.total<0)throw new Da}call(e,t){return t.subscribe(new eu(e,this.total))}}class eu extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function tu(e,t){const n=arguments.length>=2;return l=>l.pipe(e?Ma((t,n)=>e(t,n,l)):J,Ya(1),n?qa(t):Ha(()=>new Oa))}class nu{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new lu(e,this.predicate,this.thisArg,this.source))}}class lu extends f{constructor(e,t,n,l){super(e),this.predicate=t,this.thisArg=n,this.source=l,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ru(e,t){return"function"==typeof t?n=>n.pipe(ru((n,l)=>K(e(n,l)).pipe(H((e,r)=>t(n,e,l,r))))):t=>t.lift(new iu(e))}class iu{constructor(e){this.project=e}call(e,t){return t.subscribe(new su(e,this.project))}}class su extends j{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(l){return void this.destination.error(l)}this._innerSub(t,e,n)}_innerSub(e,t,n){const l=this.innerSubscription;l&&l.unsubscribe();const r=new P(this,void 0,void 0);this.destination.add(r),this.innerSubscription=B(this,e,t,n,r)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,l,r){this.destination.next(t)}}function ou(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(l){return l.lift(new au(e,t,n))}}class au{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new uu(e,this.accumulator,this.seed,this.hasSeed))}}class uu extends f{constructor(e,t,n,l){super(e),this.accumulator=t,this._seed=n,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(l){this.destination.error(l)}this.seed=n,this.destination.next(n)}}function cu(e,t){return W(e,t,1)}class du{constructor(e){this.callback=e}call(e,t){return t.subscribe(new hu(e,this.callback))}}class hu extends f{constructor(e,t){super(e),this.add(new h(t))}}let gu=null;function pu(){return gu}class fu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class mu extends fu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const vu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},yu=3,bu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_u={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wu=(()=>{if(Ie.Node)return Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Cu extends mu{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Cu,gu||(gu=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return vu}contains(e,t){return wu.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let l=0;l<t.length;l++)n[l]=t[l];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const l=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return l.setAttribute(e,t),l}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const l=this.getStyle(e,t)||"";return n?l==n:l.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let l=0;l<n.length;l++){const e=n.item(l);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,l){e.setAttributeNS(t,n,l)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===yu&&_u.hasOwnProperty(t)&&(t=_u[t]))}return bu[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=ku||(ku=document.querySelector("base"))?ku.getAttribute("href"):null;return null==t?null:(n=t,Su||(Su=document.createElement("a")),Su.setAttribute("href",n),"/"===Su.pathname.charAt(0)?Su.pathname:"/"+Su.pathname);var n}resetBaseElement(){ku=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return ua(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Su,ku=null;function Iu(){return!!window.history.pushState}const Ou=new Oe("TRANSITION_ID"),xu=[{provide:Ur,useFactory:function(e,t,n){return()=>{n.get(Dr).donePromise.then(()=>{const n=pu();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Ou,wa,Ut],multi:!0}];class Au{static init(){var e;e=new Au,bi=e}addToWindow(e){Ie.getAngularTestability=(t,n=!0)=>{const l=e.findTestabilityInTree(t,n);if(null==l)throw new Error("Could not find testability for element.");return l},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(e=>{const t=Ie.getAllAngularTestabilities();let n=t.length,l=!1;const r=function(t){l=l||t,0==--n&&e(l)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const l=e.getTestability(t);return null!=l?l:n?pu().isShadowRoot(t)?this.findTestabilityInTree(e,pu().getHost(t),!0):this.findTestabilityInTree(e,pu().parentElement(t),!0):null}}function Tu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}const Pu=(()=>({ApplicationRef:Ai,NgZone:ai}))();function Eu(e){return Bi(e)}const Mu=new Oe("EventManagerPlugins");class Ru{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let l=0;l<n.length;l++){const t=n[l];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Nu{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const l=pu().getGlobalEventTarget(this._doc,e);if(!l)throw new Error(`Unsupported event target ${l} for event ${t}`);return this.addEventListener(l,t,n)}}class Uu{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Du extends Uu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>pu().remove(e))}}const Fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vu=/%COMP%/g,Lu="_nghost-%COMP%",zu="_ngcontent-%COMP%";function Bu(e,t,n){for(let l=0;l<t.length;l++){let r=t[l];Array.isArray(r)?Bu(e,r,n):(r=r.replace(Vu,e),n.push(r))}return n}function ju(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Hu{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $u(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ge.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Ku(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Ge.Native:case Ge.ShadowDom:return new Wu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Bu(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class $u{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Fu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,l){if(l){t=l+":"+t;const r=Fu[l];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const l=Fu[n];l?e.removeAttributeNS(l,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,l){l&fn.DashCase?e.style.setProperty(t,n,l&fn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&fn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Gu(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Gu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ju(n)):this.eventManager.addEventListener(e,t,ju(n))}}const qu=(()=>"@".charCodeAt(0))();function Gu(e,t){if(e.charCodeAt(0)===qu)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ku extends $u{constructor(e,t,n,l){super(e),this.component=n;const r=Bu(l+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr=zu.replace(Vu,l+"-"+n.id),this.hostAttr=Lu.replace(Vu,l+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Wu extends $u{constructor(e,t,n,l){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=l,this.shadowRoot=l.encapsulation===Ge.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Bu(l.id,l.styles,[]);for(let i=0;i<r.length;i++){const e=document.createElement("style");e.textContent=r[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Zu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Qu=Zu("addEventListener"),Ju=Zu("removeEventListener"),Yu={},Xu="FALSE",ec="ANGULAR",tc="addEventListener",nc="removeEventListener",lc="__zone_symbol__propagationStopped",rc="__zone_symbol__stopImmediatePropagation",ic=(()=>{const e="undefined"!=typeof Zone&&Zone[Zu("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),sc=function(e){return!!ic&&ic.hasOwnProperty(e)},oc=function(e){const t=Yu[e.type];if(!t)return;const n=this[t];if(!n)return;const l=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,l):e.handler.apply(this,l)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[lc];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,l):e.handler.apply(this,l)}}};class ac extends Nu{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===Ca}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[rc])return;const e=Event.prototype[rc]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[lc]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let l=n;if(!e[Qu]||ai.isInAngularZone()&&!sc(t))e[tc](t,l,!1);else{let n=Yu[t];n||(n=Yu[t]=Zu(ec+t+Xu));let r=e[n];const i=r&&r.length>0;r||(r=e[n]=[]);const s=sc(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:l});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===l){e=!0;break}e||r.push({zone:s,handler:l})}i||e[Qu](t,oc,!1)}return()=>this.removeEventListener(e,t,l)}removeEventListener(e,t,n){let l=e[Ju];if(!l)return e[nc].apply(e,[t,n,!1]);let r=Yu[t],i=r&&e[r];if(!i)return e[nc].apply(e,[t,n,!1]);let s=!1;for(let o=0;o<i.length;o++)if(i[o].handler===n){s=!0,i.splice(o,1);break}s?0===i.length&&l.apply(e,[t,oc,!1]):e[nc].apply(e,[t,n,!1])}}const uc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cc=new Oe("HammerGestureConfig"),dc=new Oe("HammerLoader");class hc{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class gc extends Nu{constructor(e,t,n,l){super(e),this._config=t,this.console=n,this.loader=l}supports(e){return!(!uc.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const l=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let l=!1,r=()=>{l=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});l||(r=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return l.runOutsideAngular(()=>{const r=this._config.buildHammer(e),i=function(e){l.runGuarded((function(){n(e)}))};return r.on(t,i),()=>{r.off(t,i),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const pc=["alt","control","meta","shift"],fc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class mc extends Nu{constructor(e){super(e)}supports(e){return null!=mc.parseEventName(e)}addEventListener(e,t,n){const l=mc.parseEventName(t),r=mc.eventCallback(l.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pu().onAndCancel(e,l.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const l=mc._normalizeKey(t.pop());let r="";if(pc.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=l,0!=t.length||0===l.length)return null;const i={};return i.domEventName=n,i.fullKey=r,i}static getEventFullKey(e){let t="",n=pu().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pc.forEach(l=>{l!=n&&(0,fc[l])(e)&&(t+=l+".")}),t+=n}static eventCallback(e,t,n){return l=>{mc.getEventFullKey(l)===e&&n.runGuarded(()=>t(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class vc{}class yc extends vc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case It.NONE:return t;case It.HTML:return t instanceof _c?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{St=St||new rt(e);let l=t?String(t):"";n=St.getInertBodyElement(l);let r=5,i=l;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,l=i,i=n.innerHTML,n=St.getInertBodyElement(l)}while(l!==i);const s=new bt,o=s.sanitizeChildren(kt(n)||n);return lt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const e=kt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case It.STYLE:return t instanceof wc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(At);return t&&ot(t[1])===t[1]||e.match(xt)&&function(e){let t=!0,n=!0;for(let l=0;l<e.length;l++){const r=e.charAt(l);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(lt()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case It.SCRIPT:if(t instanceof Cc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case It.URL:return t instanceof kc||t instanceof Sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ot(String(t)));case It.RESOURCE_URL:if(t instanceof kc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof bc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new _c(e)}bypassSecurityTrustStyle(e){return new wc(e)}bypassSecurityTrustScript(e){return new Cc(e)}bypassSecurityTrustUrl(e){return new Sc(e)}bypassSecurityTrustResourceUrl(e){return new kc(e)}}class bc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class _c extends bc{getTypeName(){return"HTML"}}class wc extends bc{getTypeName(){return"Style"}}class Cc extends bc{getTypeName(){return"Script"}}class Sc extends bc{getTypeName(){return"URL"}}class kc extends bc{getTypeName(){return"ResourceURL"}}const Ic=ki(Hi,"browser",[{provide:Br,useValue:"browser"},{provide:zr,useValue:function(){Cu.makeCurrent(),Au.init()},multi:!0},{provide:Qo,useClass:class extends Qo{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=pu().getLocation(),this._history=pu().getHistory()}getBaseHrefFromDOM(){return pu().getBaseHref(this._doc)}onPopState(e){pu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){pu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Iu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Iu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[wa]},{provide:wa,useFactory:function(){return document},deps:[]}]);function Oc(){return new et}class xc{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:xc,providers:[{provide:Fr,useValue:e.appId},{provide:Ou,useExisting:Fr},xu]}}}function Ac(){return new Tc(Le(wa))}let Tc=(()=>{class e{constructor(e){this._doc=e}getTitle(){return pu().getTitle(this._doc)}setTitle(e){pu().setTitle(this._doc,e)}}return e.ngInjectableDef=pe({factory:Ac,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window;class Pc{constructor(e,t){this.id=e,this.url=t}}class Ec extends Pc{constructor(e,t,n="imperative",l=null){super(e,t),this.navigationTrigger=n,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mc extends Pc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rc extends Pc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nc extends Pc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uc extends Pc{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dc extends Pc{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends Pc{constructor(e,t,n,l,r){super(e,t),this.urlAfterRedirects=n,this.state=l,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vc extends Pc{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lc extends Pc{constructor(e,t,n,l){super(e,t),this.urlAfterRedirects=n,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $c{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kc{}const Wc="primary";class Zc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qc(e){return new Zc(e)}const Jc="ngNavigationCancelingError";function Yc(e){const t=Error("NavigationCancelingError: "+e);return t[Jc]=!0,t}function Xc(e,t,n){const l=n.path.split("/");if(l.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||l.length<e.length))return null;const r={};for(let i=0;i<l.length;i++){const t=l[i],n=e[i];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,l.length),posParams:r}}class ed{constructor(e,t){this.routes=e,this.module=t}}function td(e,t=""){for(let n=0;n<e.length;n++){const l=e[n];nd(l,ld(t,l))}}function nd(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Wc)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&td(e.children,t)}function ld(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function rd(e){const t=e.children&&e.children.map(rd),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Wc&&(n.component=Kc),n}function id(e,t){const n=Object.keys(e),l=Object.keys(t);if(!n||!l||n.length!=l.length)return!1;let r;for(let i=0;i<n.length;i++)if(e[r=n[i]]!==t[r])return!1;return!0}function sd(e){return Array.prototype.concat.apply([],e)}function od(e){return e.length>0?e[e.length-1]:null}function ad(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ud(e){return Xt(e)?e:Yt(e)?K(Promise.resolve(e)):Po(e)}function cd(e,t,n){return n?function(e,t){return id(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!pd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const l in n.children){if(!t.children[l])return!1;if(!e(t.children[l],n.children[l]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,l,r){if(n.segments.length>r.length)return!!pd(n.segments.slice(0,r.length),r)&&!l.hasChildren();if(n.segments.length===r.length){if(!pd(n.segments,r))return!1;for(const t in l.children){if(!n.children[t])return!1;if(!e(n.children[t],l.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),i=r.slice(n.segments.length);return!!pd(n.segments,e)&&!!n.children[Wc]&&t(n.children[Wc],l,i)}}(t,n,n.segments)}(e.root,t.root)}class dd{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return yd.serialize(this)}}class hd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ad(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bd(this)}}class gd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return Id(this)}}function pd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function fd(e,t){let n=[];return ad(e.children,(e,l)=>{l===Wc&&(n=n.concat(t(e,l)))}),ad(e.children,(e,l)=>{l!==Wc&&(n=n.concat(t(e,l)))}),n}class md{}class vd{parse(e){const t=new Pd(e);return new dd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return bd(t);if(n){const n=t.children[Wc]?e(t.children[Wc],!1):"",l=[];return ad(t.children,(t,n)=>{n!==Wc&&l.push(`${n}:${e(t,!1)}`)}),l.length>0?`${n}(${l.join("//")})`:n}{const n=fd(t,(n,l)=>l===Wc?[e(t.children[Wc],!1)]:[`${l}:${e(n,!1)}`]);return`${bd(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${wd(t)}=${wd(e)}`).join("&"):`${wd(t)}=${wd(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const yd=new vd;function bd(e){return e.segments.map(e=>Id(e)).join("/")}function _d(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(e){return _d(e).replace(/%3B/gi,";")}function Cd(e){return _d(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sd(e){return decodeURIComponent(e)}function kd(e){return Sd(e.replace(/\+/g,"%20"))}function Id(e){return`${Cd(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Cd(e)}=${Cd(t[e])}`).join("")}`;var t}const Od=/^[^\/()?;=#]+/;function xd(e){const t=e.match(Od);return t?t[0]:""}const Ad=/^[^=?&#]+/,Td=/^[^?&#]+/;class Pd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hd([],{}):new hd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Wc]=new hd(e,t)),n}parseSegment(){const e=xd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gd(Sd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=xd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=xd(this.remaining);e&&this.capture(n=e)}e[Sd(t)]=Sd(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ad);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Td);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const l=kd(t),r=kd(n);if(e.hasOwnProperty(l)){let t=e[l];Array.isArray(t)||(e[l]=t=[t]),t.push(r)}else e[l]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xd(this.remaining),l=this.remaining[n.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Wc);const i=this.parseChildren();t[r]=1===Object.keys(i).length?i[Wc]:new hd([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ed{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Md(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Md(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Rd(e,this._root).map(e=>e.value)}}function Md(e,t){if(e===t.value)return t;for(const n of t.children){const t=Md(e,n);if(t)return t}return null}function Rd(e,t){if(e===t.value)return[t];for(const n of t.children){const l=Rd(e,n);if(l.length)return l.unshift(t),l}return[]}class Nd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ud(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Dd extends Ed{constructor(e,t){super(e),this.snapshot=t,jd(this,e)}toString(){return this.snapshot.toString()}}function Fd(e,t){const n=function(e,t){const n=new zd([],{},{},"",{},Wc,t,null,e.root,-1,{});return new Bd("",new Nd(n,[]))}(e,t),l=new Do([new gd("",{})]),r=new Do({}),i=new Do({}),s=new Do({}),o=new Do(""),a=new Vd(l,r,s,o,i,Wc,t,n.root);return a.snapshot=n.root,new Dd(new Nd(a,[]),n)}class Vd{constructor(e,t,n,l,r,i,s,o){this.url=e,this.params=t,this.queryParams=n,this.fragment=l,this.data=r,this.outlet=i,this.component=s,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>Qc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>Qc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ld(e,t="emptyOnly"){const n=e.pathFromRoot;let l=0;if("always"!==t)for(l=n.length-1;l>=1;){const e=n[l],t=n[l-1];if(e.routeConfig&&""===e.routeConfig.path)l--;else{if(t.component)break;l--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(l))}class zd{constructor(e,t,n,l,r,i,s,o,a,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=l,this.data=r,this.outlet=i,this.component=s,this.routeConfig=o,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bd extends Ed{constructor(e,t){super(t),this.url=e,jd(this,t)}toString(){return Hd(this._root)}}function jd(e,t){t.value._routerState=e,t.children.forEach(t=>jd(e,t))}function Hd(e){const t=e.children.length>0?` { ${e.children.map(Hd).join(", ")} } `:"";return`${e.value}${t}`}function $d(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,id(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),id(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!id(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),id(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function qd(e,t){var n,l;return id(e.params,t.params)&&pd(n=e.url,l=t.url)&&n.every((e,t)=>id(e.parameters,l[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||qd(e.parent,t.parent))}function Gd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Kd(e,t,n,l,r){let i={};return l&&ad(l,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new dd(n.root===e?t:function e(t,n,l){const r={};return ad(t.children,(t,i)=>{r[i]=t===n?l:e(t,n,l)}),new hd(t.segments,r)}(n.root,e,t),i,r)}class Wd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Gd(n[0]))throw new Error("Root segment cannot have matrix parameters");const l=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(l&&l!==od(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Qd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Wc]:`${e}`}function Jd(e,t,n){if(e||(e=new hd([],{})),0===e.segments.length&&e.hasChildren())return Yd(e,t,n);const l=function(e,t,n){let l=0,r=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(l>=n.length)return i;const t=e.segments[r],s=Qd(n[l]),o=l<n.length-1?n[l+1]:null;if(r>0&&void 0===s)break;if(s&&o&&"object"==typeof o&&void 0===o.outlets){if(!nh(s,o,t))return i;l+=2}else{if(!nh(s,{},t))return i;l++}r++}return{match:!0,pathIndex:r,commandIndex:l}}(e,t,n),r=n.slice(l.commandIndex);if(l.match&&l.pathIndex<e.segments.length){const t=new hd(e.segments.slice(0,l.pathIndex),{});return t.children[Wc]=new hd(e.segments.slice(l.pathIndex),e.children),Yd(t,0,r)}return l.match&&0===r.length?new hd(e.segments,{}):l.match&&!e.hasChildren()?Xd(e,t,n):l.match?Yd(e,0,r):Xd(e,t,n)}function Yd(e,t,n){if(0===n.length)return new hd(e.segments,{});{const l=function(e){return"object"!=typeof e[0]?{[Wc]:e}:void 0===e[0].outlets?{[Wc]:e}:e[0].outlets}(n),r={};return ad(l,(n,l)=>{null!==n&&(r[l]=Jd(e.children[l],t,n))}),ad(e.children,(e,t)=>{void 0===l[t]&&(r[t]=e)}),new hd(e.segments,r)}}function Xd(e,t,n){const l=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=eh(n[r].outlets);return new hd(l,e)}if(0===r&&Gd(n[0])){l.push(new gd(e.segments[t].path,n[0])),r++;continue}const i=Qd(n[r]),s=r<n.length-1?n[r+1]:null;i&&s&&Gd(s)?(l.push(new gd(i,th(s))),r+=2):(l.push(new gd(i,{})),r++)}return new hd(l,{})}function eh(e){const t={};return ad(e,(e,n)=>{null!==e&&(t[n]=Xd(new hd([],{}),0,e))}),t}function th(e){const t={};return ad(e,(e,n)=>t[n]=`${e}`),t}function nh(e,t,n){return e==n.path&&id(t,n.parameters)}const lh=(e,t,n)=>H(l=>(new rh(t,l.targetRouterState,l.currentRouterState,n).activate(e),l));class rh{constructor(e,t,n,l){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=l}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),$d(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const l=Ud(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,l[t],n),delete l[t]}),ad(l,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const l=e.value,r=t?t.value:null;if(l===r)if(l.component){const r=n.getContext(l.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const l=Ud(e),r=e.value.component?n.children:t;ad(l,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const l=Ud(t);e.children.forEach(e=>{this.activateRoutes(e,l[e.value.outlet],n),this.forwardEvent(new qc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Hc(e.value.snapshot))}activateRoutes(e,t,n){const l=e.value,r=t?t.value:null;if($d(l),l===r)if(l.component){const r=n.getOrCreateContext(l.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(l.component){const t=n.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const e=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ih(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=l,t.resolver=r,t.outlet&&t.outlet.activateWith(l,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function ih(e){$d(e.value),e.children.forEach(ih)}function sh(e){return"function"==typeof e}function oh(e){return e instanceof dd}class ah{constructor(e){this.segmentGroup=e||null}}class uh{constructor(e){this.urlTree=e}}function ch(e){return new w(t=>t.error(new ah(e)))}function dh(e){return new w(t=>t.error(new uh(e)))}function hh(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class gh{constructor(e,t,n,l,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=l,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wc).pipe(H(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Za(e=>{if(e instanceof uh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ah)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wc).pipe(H(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Za(e=>{if(e instanceof ah)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const l=e.segments.length>0?new hd([],{[Wc]:e}):e;return new dd(l,t,n)}expandSegmentGroup(e,t,n,l){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H(e=>new hd([],e))):this.expandSegment(e,n,t,n.segments,l,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Po({});const n=[],l=[],r={};return ad(e,(e,i)=>{const s=t(i,e).pipe(H(e=>r[i]=e));i===Wc?n.push(s):l.push(s)}),Po.apply(null,n.concat(l)).pipe(Ea(),Wa(),H(()=>r))}(n.children,(n,l)=>this.expandSegmentGroup(e,t,l,n))}expandSegment(e,t,n,l,r,i){return Po(...n).pipe(H(s=>this.expandSegmentAgainstRoute(e,t,n,s,l,r,i).pipe(Za(e=>{if(e instanceof ah)return Po(null);throw e}))),Ea(),tu(e=>!!e),Za((e,n)=>{if(e instanceof Oa||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,l,r))return Po(new hd([],{}));throw new ah(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,l,r,i,s){return vh(l)!==i?ch(t):void 0===l.redirectTo?this.matchSegmentAgainstRoute(e,t,l,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,l,r,i):ch(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,l,r,i){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,l,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,l,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,l){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dh(r):this.lineralizeSegments(n,r).pipe(W(n=>{const r=new hd(n,{});return this.expandSegment(e,r,t,n,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,l,r,i){const{matched:s,consumedSegments:o,lastChild:a,positionalParamSegments:u}=ph(t,l,r);if(!s)return ch(t);const c=this.applyRedirectCommands(o,l.redirectTo,u);return l.redirectTo.startsWith("/")?dh(c):this.lineralizeSegments(l,c).pipe(W(l=>this.expandSegment(e,t,n,l.concat(r.slice(a)),i,!1)))}matchSegmentAgainstRoute(e,t,n,l){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H(e=>(n._loadedConfig=e,new hd(l,{})))):Po(new hd(l,{}));const{matched:r,consumedSegments:i,lastChild:s}=ph(t,n,l);if(!r)return ch(t);const o=l.slice(s);return this.getChildConfig(e,n,l).pipe(W(e=>{const n=e.module,l=e.routes,{segmentGroup:r,slicedSegments:s}=function(e,t,n,l){return n.length>0&&function(e,t,n){return n.some(n=>mh(e,t,n)&&vh(n)!==Wc)}(e,n,l)?{segmentGroup:fh(new hd(t,function(e,t){const n={};n[Wc]=t;for(const l of e)""===l.path&&vh(l)!==Wc&&(n[vh(l)]=new hd([],{}));return n}(l,new hd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>mh(e,t,n))}(e,n,l)?{segmentGroup:fh(new hd(e.segments,function(e,t,n,l){const r={};for(const i of n)mh(e,t,i)&&!l[vh(i)]&&(r[vh(i)]=new hd([],{}));return Object.assign({},l,r)}(e,n,l,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,i,o,l);return 0===s.length&&r.hasChildren()?this.expandChildren(n,l,r).pipe(H(e=>new hd(i,e))):0===l.length&&0===s.length?Po(new hd(i,{})):this.expandSegment(n,r,l,s,Wc,!0).pipe(H(e=>new hd(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Po(new ed(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Po(t._loadedConfig):function(e,t,n){const l=t.canLoad;return l&&0!==l.length?K(l).pipe(H(l=>{const r=e.get(l);let i;if(function(e){return e&&sh(e.canLoad)}(r))i=r.canLoad(t,n);else{if(!sh(r))throw new Error("Invalid CanLoad guard");i=r(t,n)}return ud(i)})).pipe(Ea(),(r=e=>!0===e,e=>e.lift(new nu(r,void 0,e)))):Po(!0);var r}(e.injector,t,n).pipe(W(n=>n?this.configLoader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Yc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Po(new ed([],e))}lineralizeSegments(e,t){let n=[],l=t.root;for(;;){if(n=n.concat(l.segments),0===l.numberOfChildren)return Po(n);if(l.numberOfChildren>1||!l.children[Wc])return hh(e.redirectTo);l=l.children[Wc]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,l){const r=this.createSegmentGroup(e,t.root,n,l);return new dd(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ad(e,(e,l)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[l]=t[r]}else n[l]=e}),n}createSegmentGroup(e,t,n,l){const r=this.createSegments(e,t.segments,n,l);let i={};return ad(t.children,(t,r)=>{i[r]=this.createSegmentGroup(e,t,n,l)}),new hd(r,i)}createSegments(e,t,n,l){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,l):this.findOrReturn(t,n))}findPosParam(e,t,n){const l=n[t.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return l}findOrReturn(e,t){let n=0;for(const l of t){if(l.path===e.path)return t.splice(n),l;n++}return e}}function ph(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const l=(t.matcher||Xc)(n,e,t);return l?{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,positionalParamSegments:l.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fh(e){if(1===e.numberOfChildren&&e.children[Wc]){const t=e.children[Wc];return new hd(e.segments.concat(t.segments),t.children)}return e}function mh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function vh(e){return e.outlet||Wc}class yh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function _h(e,t,n){const l=e._root;return function e(t,n,l,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ud(n);return t.children.forEach(t=>{!function(t,n,l,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,a=l?l.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!pd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!pd(e.url,t.url)||!id(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qd(e,t)||!id(e.queryParams,t.queryParams);case"paramsChange":default:return!qd(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),e(t,n,s.component?a?a.children:null:l,r,i),u&&i.canDeactivateChecks.push(new bh(a&&a.outlet&&a.outlet.component||null,o))}else o&&Ch(n,a,i),i.canActivateChecks.push(new yh(r)),e(t,null,s.component?a?a.children:null:l,r,i)}(t,s[t.value.outlet],l,r.concat([t.value]),i),delete s[t.value.outlet]}),ad(s,(e,t)=>Ch(e,l.getContext(t),i)),i}(l,t?t._root:null,n,[l.value])}function wh(e,t,n){const l=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(l?l.module.injector:n).get(e)}function Ch(e,t,n){const l=Ud(e),r=e.value;ad(l,(e,l)=>{Ch(e,r.component?t?t.children.getContext(l):null:t,n)}),n.canDeactivateChecks.push(new bh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const Sh=Symbol("INITIAL_VALUE");function kh(){return ru(e=>(function(...e){let t=null,n=null;return T(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),G(e,n).lift(new Aa(t))})(...e.map(e=>e.pipe(Ya(1),function(...e){return t=>{let n=e[e.length-1];T(n)?e.pop():n=null;const l=e.length;return function(...e){return Ea()(Po(...e))}(1!==l||n?l>0?G(e,n):Ao(n):To(e[0]),t)}}(Sh)))).pipe(ou((e,t)=>{let n=!1;return t.reduce((e,l,r)=>{if(e!==Sh)return e;if(l===Sh&&(n=!0),!n){if(!1===l)return l;if(r===t.length-1||oh(l))return l}return e},e)},Sh),Ma(e=>e!==Sh),H(e=>oh(e)?e:!0===e),Ya(1)))}function Ih(e,t){return null!==e&&t&&t(new $c(e)),Po(!0)}function Oh(e,t){return null!==e&&t&&t(new jc(e)),Po(!0)}function xh(e,t,n){const l=t.routeConfig?t.routeConfig.canActivate:null;return l&&0!==l.length?Po(l.map(l=>Pa(()=>{const r=wh(l,t,n);let i;if(function(e){return e&&sh(e.canActivate)}(r))i=ud(r.canActivate(t,e));else{if(!sh(r))throw new Error("Invalid CanActivate guard");i=ud(r(t,e))}return i.pipe(tu())}))).pipe(kh()):Po(!0)}function Ah(e,t,n){const l=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Pa(()=>Po(t.guards.map(r=>{const i=wh(r,t.node,n);let s;if(function(e){return e&&sh(e.canActivateChild)}(i))s=ud(i.canActivateChild(l,e));else{if(!sh(i))throw new Error("Invalid CanActivateChild guard");s=ud(i(l,e))}return s.pipe(tu())})).pipe(kh())));return Po(r).pipe(kh())}class Th{}class Ph{constructor(e,t,n,l,r,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=l,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){try{const e=Rh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Wc),n=new zd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wc,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Nd(n,t),r=new Bd(this.url,l);return this.inheritParamsAndData(r._root),Po(r)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Ld(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=fd(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),l=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${l}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Wc?-1:t.value.outlet===Wc?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,l){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,l)}catch(r){if(!(r instanceof Th))throw r}if(this.noLeftoversInUrl(t,n,l))return[];throw new Th}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,l){if(e.redirectTo)throw new Th;if((e.outlet||Wc)!==l)throw new Th;let r,i=[],s=[];if("**"===e.path){const i=n.length>0?od(n).parameters:{};r=new zd(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dh(e),l,e.component,e,Eh(t),Mh(t)+n.length,Fh(e))}else{const o=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Th;return{consumedSegments:[],lastChild:0,parameters:{}}}const l=(t.matcher||Xc)(n,e,t);if(!l)throw new Th;const r={};ad(l.posParams,(e,t)=>{r[t]=e.path});const i=l.consumed.length>0?Object.assign({},r,l.consumed[l.consumed.length-1].parameters):r;return{consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:i}}(t,e,n);i=o.consumedSegments,s=n.slice(o.lastChild),r=new zd(i,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dh(e),l,e.component,e,Eh(t),Mh(t)+i.length,Fh(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:a,slicedSegments:u}=Rh(t,i,s,o,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const e=this.processChildren(o,a);return[new Nd(r,e)]}if(0===o.length&&0===u.length)return[new Nd(r,[])];const c=this.processSegment(o,a,u,Wc);return[new Nd(r,c)]}}function Eh(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Mh(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Rh(e,t,n,l,r){if(n.length>0&&function(e,t,n){return n.some(n=>Nh(e,t,n)&&Uh(n)!==Wc)}(e,n,l)){const r=new hd(t,function(e,t,n,l){const r={};r[Wc]=l,l._sourceSegment=e,l._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Uh(i)!==Wc){const n=new hd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Uh(i)]=n}return r}(e,t,l,new hd(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Nh(e,t,n))}(e,n,l)){const i=new hd(e.segments,function(e,t,n,l,r,i){const s={};for(const o of l)if(Nh(e,n,o)&&!r[Uh(o)]){const n=new hd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,s[Uh(o)]=n}return Object.assign({},r,s)}(e,t,n,l,e.children,r));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new hd(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Nh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Uh(e){return e.outlet||Wc}function Dh(e){return e.data||{}}function Fh(e){return e.resolve||{}}function Vh(e,t,n,l){const r=wh(e,t,l);return ud(r.resolve?r.resolve(t,n):r(t,n))}function Lh(e){return function(t){return t.pipe(ru(t=>{const n=e(t);return n?K(n).pipe(H(()=>t)):K([t])}))}}class zh{}class Bh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const jh=new Oe("ROUTES");class Hh{constructor(e,t,n,l){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=l}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=n.create(e);return new ed(sd(l.injector.get(jh)).map(rd),l)}))}loadModuleFactory(e){return"string"==typeof e?K(this.loader.load(e)):ud(e()).pipe(W(e=>e instanceof He?Po(e):K(this.compiler.compileModuleAsync(e))))}}class $h{}class qh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gh(e){throw e}function Kh(e,t,n){return t.parse("/")}function Wh(e,t){return Po(null)}class Zh{constructor(e,t,n,l,r,i,s,o){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=l,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Gh,this.malformedUriErrorHandler=Kh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wh,afterPreactivation:Wh},this.urlHandlingStrategy=new qh,this.routeReuseStrategy=new Bh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(je),this.console=r.get(Hr);const a=r.get(ai);this.isNgZoneEnabled=a instanceof ai,this.resetConfig(o),this.currentUrlTree=new dd(new hd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hh(i,s,e=>this.triggerEvent(new zc(e)),e=>this.triggerEvent(new Bc(e))),this.routerState=Fd(this.currentUrlTree,this.rootComponentType),this.transitions=new Do({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ma(e=>0!==e.id),H(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),ru(e=>{let n=!1,l=!1;return Po(e).pipe(za(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ru(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Po(e).pipe(ru(e=>{const n=this.transitions.getValue();return t.next(new Ec(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?xo:[e]}),ru(e=>Promise.resolve(e)),function(e,t,n,l){return function(r){return r.pipe(ru(r=>(function(e,t,n,l,r){return new gh(e,t,n,l,r).apply()})(e,t,n,r.extractedUrl,l).pipe(H(e=>Object.assign({},r,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),za(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,l,r){return function(i){return i.pipe(W(i=>(function(e,t,n,l,r="emptyOnly",i="legacy"){return new Ph(e,t,n,l,r,i).recognize()})(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),l,r).pipe(H(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),za(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),za(e=>{const n=new Uc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:l,source:r,restoredState:i,extras:s}=e,o=new Ec(n,this.serializeUrl(l),r,i);t.next(o);const a=Fd(l,this.rootComponentType).snapshot;return Po(Object.assign({},e,{targetSnapshot:a,urlAfterRedirects:l,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),xo}),Lh(e=>{const{targetSnapshot:t,id:n,extractedUrl:l,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),za(e=>{const t=new Dc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),H(e=>Object.assign({},e,{guards:_h(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(W(n=>{const{targetSnapshot:l,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Po(Object.assign({},n,{guardsResult:!0})):function(e,t,n,l){return K(e).pipe(W(e=>(function(e,t,n,l,r){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Po(i.map(i=>{const s=wh(i,t,r);let o;if(function(e){return e&&sh(e.canDeactivate)}(s))o=ud(s.canDeactivate(e,t,n,l));else{if(!sh(s))throw new Error("Invalid CanDeactivate guard");o=ud(s(e,t,n,l))}return o.pipe(tu())})).pipe(kh()):Po(!0)})(e.component,e.route,n,t,l)),tu(e=>!0!==e,!0))}(s,l,r,e).pipe(W(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,l){return K(t).pipe(cu(t=>K([Oh(t.route.parent,l),Ih(t.route,l),Ah(e,t.path,n),xh(e,t.route,n)]).pipe(Ea(),tu(e=>!0!==e,!0))),tu(e=>!0!==e,!0))}(l,i,e,t):Po(n)),H(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),za(e=>{if(oh(e.guardsResult)){const t=Yc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),za(e=>{const t=new Fc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ma(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Rc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Lh(e=>{if(e.guards.canActivateChecks.length)return Po(e).pipe(za(e=>{const t=new Vc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(W(n=>{const{targetSnapshot:l,guards:{canActivateChecks:r}}=n;return r.length?K(r).pipe(cu(n=>(function(e,t,n,l){return function(e,t,n,l){const r=Object.keys(e);if(0===r.length)return Po({});if(1===r.length){const i=r[0];return Vh(e[i],t,n,l).pipe(H(e=>({[i]:e})))}const i={};return K(r).pipe(W(r=>Vh(e[r],t,n,l).pipe(H(e=>(i[r]=e,e))))).pipe(Wa(),H(()=>i))}(e._resolve,e,t,l).pipe(H(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Ld(e,n).resolve),null)))})(n.route,l,e,t)),function(e,t){return arguments.length>=2?function(n){return b(ou(e,t),Fa(1),qa(t))(n)}:function(t){return b(ou((t,n,l)=>e(t,n,l+1)),Fa(1))(t)}}((e,t)=>e),H(e=>n)):Po(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),za(e=>{const t=new Lc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Lh(e=>{const{targetSnapshot:t,id:n,extractedUrl:l,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),H(e=>{const t=function(e,t,n){const l=function e(t,n,l){if(l&&t.shouldReuseRoute(n.value,l.value.snapshot)){const r=l.value;r._futureSnapshot=n.value;const i=function(t,n,l){return n.children.map(n=>{for(const r of l.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,l);return new Nd(r,i)}{const l=t.retrieve(n.value);if(l){const e=l.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let l=0;l<t.children.length;++l)e(t.children[l],n.children[l])}(n,e),e}{const l=new Vd(new Do((r=n.value).url),new Do(r.params),new Do(r.queryParams),new Do(r.fragment),new Do(r.data),r.outlet,r.component,r),i=n.children.map(n=>e(t,n));return new Nd(l,i)}}var r}(e,t._root,n?n._root:void 0);return new Dd(l,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),za(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),lh(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),za({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new du(e))}(()=>{if(!n&&!l){this.resetUrlToCurrentUrlTree();const n=new Rc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Za(n=>{if(l=!0,function(e){return e&&e[Jc]}(n)){const l=oh(n.url);l||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Rc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),e.resolve(!1),l&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const l=new Nc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(l);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}return xo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",l=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,l,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){td(e),this.config=e.map(rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:l,fragment:r,preserveQueryParams:i,queryParamsHandling:s,preserveFragment:o}=t;lt()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:r;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,l);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=l||null}else c=i?this.currentUrlTree.queryParams:l||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,l,r){if(0===n.length)return Kd(t.root,t.root,t,l,r);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wd(!0,0,e);let t=0,n=!1;const l=e.reduce((e,l,r)=>{if("object"==typeof l&&null!=l){if(l.outlets){const t={};return ad(l.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(l.segmentPath)return[...e,l.segmentPath]}return"string"!=typeof l?[...e,l]:0===r?(l.split("/").forEach((l,r)=>{0==r&&"."===l||(0==r&&""===l?n=!0:".."===l?t++:""!=l&&e.push(l))}),e):[...e,l]},[]);return new Wd(n,t,l)}(n);if(i.toRoot())return Kd(t.root,new hd([],{}),t,l,r);const s=function(e,t,n){if(e.isAbsolute)return new Zd(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Zd(n.snapshot._urlSegment,!0,0);const l=Gd(e.commands[0])?0:1;return function(e,t,n){let l=e,r=t,i=n;for(;i>r;){if(i-=r,!(l=l.parent))throw new Error("Invalid number of '../'");r=l.segments.length}return new Zd(l,!1,r-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+l,e.numberOfDoubleDots)}(i,t,e),o=s.processChildren?Yd(s.segmentGroup,s.index,i.commands):Jd(s.segmentGroup,s.index,i.commands);return Kd(s.segmentGroup,o,t,l,r)}(a,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){lt()&&this.isNgZoneEnabled&&!ai.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=oh(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(oh(e))return cd(this.currentUrlTree,e,t);const n=this.parseUrl(e);return cd(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const l=e[n];return null!=l&&(t[n]=l),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Mc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,l){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,s=null;const o=new Promise((e,t)=>{i=e,s=t}),a=++this.navigationId;return this.setTransition({id:a,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:i,reject:s,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,l){const r=this.urlSerializer.serialize(e);l=l||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign({},l,{navigationId:n})):this.location.go(r,"",Object.assign({},l,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Qh{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Mc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){lt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,l){if(0!==e||t||n||l)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Jh(this.skipLocationChange),replaceUrl:Jh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jh(this.preserveFragment)})}}function Jh(e){return""===e||!!e}class Yh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xh,this.attachRef=null}}class Xh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Yh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class eg{constructor(e,t,n,l,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mr,this.deactivateEvents=new Mr,this.name=l||Wc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,r=new tg(e,l,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class tg{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Vd?this.route:e===Xh?this.childContexts:this.parent.get(e,t)}}class ng{}class lg{preload(e,t){return t().pipe(Za(()=>Po(null)))}}class rg{preload(e,t){return Po(null)}}class ig{constructor(e,t,n,l,r){this.router=e,this.injector=l,this.preloadingStrategy=r,this.loader=new Hh(t,n,t=>e.triggerEvent(new zc(t)),t=>e.triggerEvent(new Bc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ma(e=>e instanceof Mc),cu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const l of t)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const e=l._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else l.loadChildren&&!l.canLoad?n.push(this.preloadConfig(e,l)):l.children&&n.push(this.processRoutes(e,l.children));return K(n).pipe(Y(),H(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(W(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class sg{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Gc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const og=new Oe("ROUTER_CONFIGURATION"),ag=new Oe("ROUTER_FORROOT_GUARD"),ug=[ea,{provide:md,useClass:vd},{provide:Zh,useFactory:mg,deps:[Ai,md,Xh,ea,Ut,Pi,Jr,jh,og,[$h,new ue],[zh,new ue]]},Xh,{provide:Vd,useFactory:vg,deps:[Zh]},{provide:Pi,useClass:Ui},ig,rg,lg,{provide:og,useValue:{enableTracing:!1}}];function cg(){return new Si("Router",Zh)}class dg{constructor(e,t){}static forRoot(e,t){return{ngModule:dg,providers:[ug,fg(e),{provide:ag,useFactory:pg,deps:[[Zh,new ue,new de]]},{provide:og,useValue:t||{}},{provide:Yo,useFactory:gg,deps:[Qo,[new ae(Xo),new ue],og]},{provide:sg,useFactory:hg,deps:[Zh,Sa,og]},{provide:ng,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:rg},{provide:Si,multi:!0,useFactory:cg},[yg,{provide:Ur,multi:!0,useFactory:bg,deps:[yg]},{provide:wg,useFactory:_g,deps:[yg]},{provide:jr,multi:!0,useExisting:wg}]]}}static forChild(e){return{ngModule:dg,providers:[fg(e)]}}}function hg(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new sg(e,t,n)}function gg(e,t,n={}){return n.useHash?new na(e,t):new la(e,t)}function pg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fg(e){return[{provide:$t,multi:!0,useValue:e},{provide:jh,multi:!0,useValue:e}]}function mg(e,t,n,l,r,i,s,o,a={},u,c){const d=new Zh(null,t,n,l,r,i,s,sd(o));if(u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),a.errorHandler&&(d.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(d.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=pu();d.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(d.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(d.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(d.relativeLinkResolution=a.relativeLinkResolution),d}function vg(e){return e.routerState.root}class yg{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(Jo,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Zh),l=this.injector.get(og);if(this.isLegacyDisabled(l)||this.isLegacyEnabled(l))e(!0);else if("disabled"===l.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==l.initialNavigation)throw new Error(`Invalid initialNavigation options: '${l.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Po(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(og),n=this.injector.get(ig),l=this.injector.get(sg),r=this.injector.get(Zh),i=this.injector.get(Ai);e===i.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),l.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function bg(e){return e.appInitializer.bind(e)}function _g(e){return e.bootstrapListener.bind(e)}const wg=new Oe("Router Initializer");var Cg=tl({encapsulation:2,styles:[],data:{}});function Sg(e){return hs(0,[(e()(),Qi(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ar(1,212992,null,0,eg,[Xh,Fn,on,[8,null],Et],null,null)],(function(e,t){e(t,1,0)}),null)}function kg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"ng-component",[],null,null,null,Sg,Cg)),ar(1,49152,null,0,Kc,[],null,null)],null,null)}var Ig=Vl("ng-component",Kc,kg,{},{},[]);class Og{constructor(e,t,n,l){this.settingsService=e,this.tokenService=t,this.taskService=n,this.eventService=l,this.isActive=!0,this.loggedIn=!1,this.displayName="",this.availableLinks=[]}ngOnInit(){this.settingsService.setTitle("Home"),this.eventService.tokenChanged.pipe(Go(()=>this.isActive)).subscribe(()=>this.initMembers()),this.initMembers()}ngOnDestroy(){this.isActive=!1}initMembers(){this.loggedIn=this.tokenService.isLoggedIn,this.displayName=this.tokenService.getUsersDisplayName(),this.availableLinks=[],this.availableLinks.push({text:"Du meldest dich an",link:"/iam/login"}),this.availableLinks.push(this.tokenService.isLoggedIn?{text:"Du meldest dich ab",link:""}:{text:"Du registrierst dich",link:"/iam/register"}),this.availableLinks.push({text:"Du willst alles \xfcber dich wissen",link:"/iam/user-info"},{text:"Du verwaltest deinen Account",link:"/iam/account-management"},{text:"Du verwaltest deine Zugangsmedien",link:"/iam/credentials-management"},{text:"Du verwaltest deine Mitgliedschaften",link:"/iam/organization-management"},{text:"Du administrierst deine Organisation (User & Rechte)",link:"/iam/organization-administration"},{text:"Du nutzt die Belegverwaltung",link:"/folderApp/main"},{text:"Du administrierst einzelne Ordner",link:"/folderApp/admin"}),this.taskService.mailsAvailable()&&this.availableLinks.push({text:"Es sind Mails vorhanden",link:"/fakes/mail-view",newBadgeCount:this.taskService.getNumberOfMails()})}onClick(e){return e.includes("meldest dich ab")&&this.logout(),!1}logout(){this.tokenService.logout(),this.initMembers()}}let xg=(()=>{class e{constructor(e){this.titleService=e,this.stringSettings={},this.booleanSettings={},this.booleanValueSet(this.afterRegistrationLoginIsRequired.name,!1),this.booleanValueSet(this.registeredAccountMustBeVerifiedByMail.name,!1),this.booleanValueSet(this.allowJoiningOrganizationByAccount.name,!1),this.booleanValueSet(this.showInfoPageAfterRegistration.name,!0),this.booleanValueSet(this.showInfoPageAfterLogin.name,!1),this.booleanValueSet(this.showInfoPageAfterGuardNotFulfilled.name,!1),this.booleanValueSet(this.showInfoPageAfterOrgaAdminGuardNotFulfilled.name,!0),this.booleanValueSet(this.allowDeletionOfAccountWithOrgaMemberships.name,!1),this.booleanValueSet(this.useGreenLikeColors.name,!1),this.booleanValueSet(this.useAccountName4DisplayingUsername.name,!0)}getAllBooleanSettings(){return this.booleanSettings}_stringValueGet(e,t=!1){const n=this.stringSettings[e];return t&&(this.stringSettings[e]=""),n||""}_stringValueSet(e,t){this.stringSettings[e]=t}_booleanValueGet(e,t=!1){const n=this.booleanSettings[e];return void 0===n?t:n}booleanValueSet(e,t){this.booleanSettings[e]=t}getRedirectUri(e=!1){return this._stringValueGet("redirectUri",e)}redirectUriIsSet(){return!!this.getRedirectUri()}setRedirectUri(e){this._stringValueSet("redirectUri",e)}resetRedirectUri(){this.setRedirectUri("")}getTitle(e=!1){return this._stringValueGet("title",e)}setTitle(e){this._stringValueSet("title",e),this.titleService.setTitle("Gesamt-Frontend: "+e)}getRequiredByGuardHelptext(e=!1){return this._stringValueGet("requiredByGuardHelptext",e)}resetRequiredByGuardHelptext(){this._stringValueSet("requiredByGuardHelptext","")}addRequiredByGuardHelptext(e){const t=this.getRequiredByGuardHelptext();return t&&t.length>0&&(e=t+"-"+e),this._stringValueSet("requiredByGuardHelptext",e)}afterRegistrationLoginIsRequired(){return this._booleanValueGet(this.afterRegistrationLoginIsRequired.name)}registeredAccountMustBeVerifiedByMail(){return this._booleanValueGet(this.registeredAccountMustBeVerifiedByMail.name)}allowJoiningOrganizationByAccount(){return this._booleanValueGet(this.allowJoiningOrganizationByAccount.name)}showInfoPageAfterRegistration(){return this._booleanValueGet(this.showInfoPageAfterRegistration.name)}showInfoPageAfterLogin(){return this._booleanValueGet(this.showInfoPageAfterLogin.name)}showInfoPageAfterGuardNotFulfilled(){return this._booleanValueGet(this.showInfoPageAfterGuardNotFulfilled.name)}showInfoPageAfterOrgaAdminGuardNotFulfilled(){return this._booleanValueGet(this.showInfoPageAfterOrgaAdminGuardNotFulfilled.name)}allowDeletionOfAccountWithOrgaMemberships(){return this._booleanValueGet(this.allowDeletionOfAccountWithOrgaMemberships.name)}useGreenLikeColors(){return this._booleanValueGet(this.useGreenLikeColors.name)}useAccountName4DisplayingUsername(){return this._booleanValueGet(this.useAccountName4DisplayingUsername.name)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Tc))},token:e,providedIn:"root"}),e})();var Ag=function(e){return e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.Secure=3]="Secure",e[e.HighSecure=4]="HighSecure",e}({}),Tg=function(e){return e[e.None=0]="None",e[e.Account=1]="Account",e[e.OrgaUser=2]="OrgaUser",e}({}),Pg=function(e){return e[e.Benutzerkonto=1]="Benutzerkonto",e[e.SmsTan=2]="SmsTan",e[e.SmartCard=3]="SmartCard",e[e.SmartLogin=4]="SmartLogin",e[e.SocialLogin=8]="SocialLogin",e[e.StartSpezialTypen=10]="StartSpezialTypen",e[e.OrgaDependent_DID=20]="OrgaDependent_DID",e}({}),Eg=function(e){return e[e.OrgaUserRemoved=1]="OrgaUserRemoved",e[e.OrganisationRemoved=2]="OrganisationRemoved",e}({}),Mg=function(e){return e[e.Privat=1]="Privat",e[e.Unternehmen=2]="Unternehmen",e[e.Kanzlei=3]="Kanzlei",e}({}),Rg=function(e){return e[e.MemberOnly=1]="MemberOnly",e[e.Admin=2]="Admin",e[e.SuperAdmin=3]="SuperAdmin",e}({});let Ng=(()=>{class e{constructor(){this.tokenChanged=new Mr,this.idmEvent=new Mr}publishTokenChangedEvent(){this.tokenChanged.emit()}publishIdmEvent(e){this.idmEvent.emit(e)}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Ug=(()=>{class e{constructor(e,t){this.settingsService=e,this.eventService=t,this.accounts=[{id:100,verified:!0,name:"System Admin",email:"sysadmin@bk"},{id:110,verified:!0,name:"Klaus",email:"klaus@bk"},{id:111,name:"Simone",email:"simone@bk"},{id:120,verified:!0,name:"Martin",email:"martin@bk"},{id:121,name:"Sonja",email:"sonja@bk"},{id:122,verified:!0,name:"Kasse Kanzlei Palmengarten",email:"dummy@martin"},{id:130,verified:!0,name:"Tom",email:"tom@bk"},{id:131,name:"Petra",email:"petra@bk"},{id:140,verified:!0,name:"Resi",email:"resi@bk"}],this.creds=[{id:200,accountId:100,kennung:"sysadmin@bk",secret:"test",type:Pg.Benutzerkonto},{id:210,accountId:110,kennung:"klaus@bk",secret:"test",type:Pg.Benutzerkonto},{id:211,accountId:110,kennung:"klaus@sc",secret:"test",type:Pg.SmartCard},{id:212,accountId:110,kennung:"",secret:"",type:Pg.SocialLogin,provider:"google",userIdFromProvider:"113153024055027519050"},{id:215,accountId:111,kennung:"simone@bk",secret:"test",type:Pg.Benutzerkonto},{id:220,accountId:120,kennung:"martin@bk",secret:"test",type:Pg.Benutzerkonto},{id:221,accountId:120,kennung:"martin@st",secret:"test",type:Pg.SmsTan},{id:222,accountId:120,kennung:"martin@sc",secret:"test",type:Pg.SmartCard},{id:223,accountId:120,orgaId:301,kennung:"martin@did",secret:"test",type:Pg.OrgaDependent_DID},{id:224,accountId:120,orgaId:999,kennung:"martinNoOrga@did",secret:"test",type:Pg.OrgaDependent_DID},{id:225,accountId:121,kennung:"sonja@bk",secret:"test",type:Pg.Benutzerkonto},{id:227,accountId:122,orgaId:301,kennung:"kasse@martin",secret:"test",type:Pg.OrgaDependent_DID},{id:230,accountId:130,kennung:"tom@bk",secret:"test",type:Pg.Benutzerkonto},{id:231,accountId:130,kennung:"tom@sc",secret:"test",type:Pg.SmartCard},{id:235,accountId:131,kennung:"petra@bk",secret:"test",type:Pg.Benutzerkonto},{id:240,accountId:140,kennung:"resi@bk",secret:"test",type:Pg.Benutzerkonto},{id:241,accountId:140,kennung:"resi@sc",secret:"test",type:Pg.SmartCard}],this.organizations=[{id:300,name:"Kanzlei Heinzelmann",type:Mg.Kanzlei},{id:301,name:"Kanzlei Palmengarten",type:Mg.Kanzlei},{id:302,name:"Holzhandel Grubinger",type:Mg.Unternehmen},{id:303,name:"Familie Martin privat",type:Mg.Privat}],this.orgaUsers=[{id:400,accountId:110,orgaId:300,name:"Klaus Heinzelmann",adminType:Rg.SuperAdmin},{id:401,accountId:111,orgaId:300,name:"Simone Heinzelmann",adminType:Rg.Admin},{id:402,orgaId:300,foreignOrgaId:302,name:"Mandant Grubinger"},{id:410,accountId:120,orgaId:301,name:"Martin Palmengarten",adminType:Rg.SuperAdmin},{id:411,accountId:121,orgaId:301,name:"Sonja Hohlraab"},{id:412,accountId:122,orgaId:301,name:"Kasse von Kanzlei Palmengarten"},{id:420,accountId:130,orgaId:302,name:"Tom Grubinger",adminType:Rg.SuperAdmin},{id:421,accountId:131,orgaId:302,name:"Petra Elfenbein"},{id:430,accountId:120,orgaId:303,name:"Martin privat",adminType:Rg.SuperAdmin}]}login(e,t=!1){let n;if(e.provider)n=this.creds.find(t=>t.provider===e.provider&&t.userIdFromProvider===e.userIdFromProvider);else{if(!e.kennung||0===e.kennung.length)return{authType:Tg.None};n=this.creds.find(t=>t.kennung.toLowerCase()===e.kennung.toLowerCase())}if(!n)return{authType:Tg.None};if(e.secret.length>0&&e.secret!==n.secret)return{authType:Tg.None};const l=this.accounts.find(e=>e.id===n.accountId);if(this.settingsService.registeredAccountMustBeVerifiedByMail()&&!l.verified&&!t)return{authType:Tg.None};const r=[];if(n.type>Pg.StartSpezialTypen){if(!n.orgaId)return console.log("OrgaDependent Credential, but no orgaId => login failed..."),{authType:Tg.None};const e=this.orgaUsers.find(e=>e.accountId===l.id&&e.orgaId===n.orgaId);if(!e)return console.log("OrgaDependent Credential, but orgaUser not found => login failed..."),{authType:Tg.None};r.push(e)}else this.orgaUsers.forEach(e=>{e.accountId===l.id&&r.push(e)});if(r.length<=0)return{authType:Tg.Account,credential:n,account:l};const i=[];r.forEach(e=>{i.push(this.organizations.find(t=>t.id===e.orgaId))});const s={authType:Tg.Account,credential:n,account:l,availableOrgas:i};return 1===i.length&&(s.authType=Tg.OrgaUser,s.orgaUser=r[0],s.organization=i[0]),s}_checkAccountIsValid(e){if(!e.name||e.name.length<3)return!1;const t=this.accounts.find(t=>t.email.toLowerCase()===e.email.toLowerCase());return!t||e.id===t.id}_checkCredentialIsValid(e){if(e.provider){if(!e.userIdFromProvider)return!1;if(this.creds.find(t=>t.provider===e.provider&&t.userIdFromProvider===e.userIdFromProvider))return!1}else{if(!e.kennung||e.kennung.length<3)return!1;if(this.creds.find(t=>t.kennung.toLowerCase()===e.kennung.toLowerCase()))return!1}return!0}register(e,t){if(!this._checkAccountIsValid(e))return;if(!this._checkCredentialIsValid(t))return;const n=this._addNewAccount(e);t.accountId=n.id;const l=this._addNewCredential(t);return this.login(l,!0)}findAccountByMail(e){return this.accounts.find(t=>t.email.toLowerCase()===e.toLowerCase())}_addNewAccount(e){let t=0;return this.accounts.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.accounts.push(e),e}_addNewOrgaUser(e){let t=0;return this.orgaUsers.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.orgaUsers.push(e),e}_addNewOrganization(e){let t=0;return this.organizations.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.organizations.push(e),e}updateAccount(e){if(!this._checkAccountIsValid(e))return;const t=this.accounts.find(t=>t.id===e.id);return t&&(t.name=e.name,t.email=e.email,t.verified=e.verified),t}isMemberInAtLeastOneOrga(e){return void 0!==this.orgaUsers.find(t=>t.accountId===e)}_deleteAccount(e){const t=this.accounts.findIndex(t=>t.id===e);t>=0&&this.accounts.splice(t,1)}_deleteAllCredentialsOfAccount(e){this.creds=this.creds.filter(t=>t.accountId!==e)}_deleteAllOrgaUsersOfAccount(e){this.orgaUsers.filter(t=>t.accountId===e).forEach(e=>this.onOrgaUserRemoval(e))}deleteAccount(e){return!!this.accounts.find(t=>t.id===e)&&(this._deleteAllOrgaUsersOfAccount(e),this._deleteAllCredentialsOfAccount(e),this._deleteAccount(e),!0)}isAdmin(e){const t=this.findOrgaUserById(e);return!!t&&(!!(t.adminType&&t.adminType>=Rg.Admin)||!this.orgaUsers.find(e=>e.orgaId===t.orgaId&&e.adminType>=Rg.Admin)&&this.orgaUsers.findIndex(t=>t.id===e)===this.orgaUsers.findIndex(e=>e.orgaId===t.orgaId))}getAllOrgaUsers(e){return this.orgaUsers.filter(t=>t.orgaId===e)}updateOrgaUser(e){const t=this.orgaUsers.find(t=>t.id===e.id);return t&&(t.name=e.name,t.adminType=e.adminType),t}addNewCredential(e){if(this._checkCredentialIsValid(e))return this._addNewCredential(e)}_addNewCredential(e){let t=0;return this.creds.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.creds.push(e),e}getAllCredentials(e){return this.creds.filter(t=>t.accountId===e)}removeCredential(e){for(let t=0;t<this.creds.length;t++)if(this.creds[t].id===e){this.creds.splice(t,1);break}}findOrgaUserByAccountId(e,t){if(e&&t)return this.orgaUsers.find(n=>n.orgaId===e&&n.accountId===t)}findForeignOrgaByOrgaId(e,t){if(e&&t)return this.orgaUsers.find(n=>n.orgaId===e&&n.foreignOrgaId===t)}findForeignUserByOrgaId(e,t){if(e&&t)return this.orgaUsers.find(n=>n.orgaId===e&&n.foreignUserId===t)}findOrgaUserById(e){if(e)return this.orgaUsers.find(t=>t.id===e)}findOrgaById(e){return this.organizations.find(t=>t.id===e)}getAllOrganizationsForAccount(e){if(!e)return[];const t=[];return this.orgaUsers.filter(t=>t.accountId===e).forEach(e=>{t.push({orga:this.organizations.find(t=>t.id===e.orgaId),orgaUser:e})}),t}leaveOrganizationByAccountId(e,t){if(!e||!t)return!1;const n=this.orgaUsers.find(n=>n.orgaId===e&&n.accountId===t);return this.onOrgaUserRemoval(n)}leaveOrganizationByOrgaUser(e){if(!e)return!1;const t=this.orgaUsers.find(t=>t.id===e);return this.onOrgaUserRemoval(t)}deleteOrgaUser(e){const t=this.orgaUsers.findIndex(t=>t.id===e);return!(t<0||(this.orgaUsers.splice(t,1),0))}onOrgaUserRemoval(e,t=!0){if(!e)return!1;const n=this.findAllDirectProxyUserOfUser(e);n&&n.forEach(e=>this.onOrgaUserRemoval(e));const l=this.orgaUsers.findIndex(t=>t.id===e.id);return l>=0&&(this.orgaUsers.splice(l,1),t&&this.eventService.publishIdmEvent({type:Eg.OrgaUserRemoved,orgaUser:e}),!0)}findAllDirectProxyUserOfUser(e){return this.orgaUsers.filter(t=>t.foreignUserId===e.id)}deleteOrganization(e){const t=this.organizations.findIndex(t=>t.id===e);t<0||(this.orgaUsers.filter(t=>t.orgaId===e).forEach(e=>this.onOrgaUserRemoval(e,!1)),this.organizations.splice(t,1),this.eventService.publishIdmEvent({type:Eg.OrganisationRemoved,organizationId:e}))}joinOrganization(e,t){if(!(t.accountId&&this.findOrgaUserByAccountId(e,t.accountId)||t.foreignOrgaId&&this.findForeignOrgaByOrgaId(e,t.foreignOrgaId)||t.foreignUserId&&this.findForeignUserByOrgaId(e,t.foreignUserId)))return t.orgaId=e,this._addNewOrgaUser(t)}createNewOrganization(e,t){const n=this._addNewOrganization(e);return t.orgaId=n.id,this._addNewOrgaUser(t),n}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(xg),Le(Ng))},token:e,providedIn:"root"}),e})(),Dg=(()=>{class e{constructor(e,t,n){this.fakeBackend=e,this.eventService=t,this.settingsService=n,this.initMembers()}initMembers(){this.token={authType:Tg.None},this.token.credential={kennung:"",secret:""},this.token.account={name:"",email:""},this.token.orgaUser={name:""},this.token.organization={name:""}}register(e,t){return this.fakeBackend.register(e,t)}login(e,t=!1){const n=this.fakeBackend.login(e,t);return this.tempToken=Object.assign({},n),n}logoutFromOrganization(e){const t=Object.assign({},this.token);t.authType=Tg.Account,t.organization=void 0,t.orgaUser=void 0,t.availableOrgas.splice(t.availableOrgas.findIndex(t=>t.id===e),1),this.setToken(t)}getTempToken(){return this.tempToken}loginWithOrganization(e){this.tempToken.authType=Tg.OrgaUser;const t={authType:Tg.OrgaUser};Object.assign(t,this.tempToken);const n=t.availableOrgas.find(t=>t.id===e);t.organization=n,t.orgaUser=this.fakeBackend.findOrgaUserByAccountId(n.id,t.account.id),this.setToken(t)}loginWithAccountOnly(){const e={authType:Tg.Account};e.credential=this.tempToken.credential,e.account=this.tempToken.account,e.availableOrgas=this.tempToken.availableOrgas,this.setToken(e)}get isLoggedIn(){return this.token.authType!==Tg.None}logout(){this.setToken({authType:Tg.None})}getAuthType(){return this.token&&this.token.authType}isLoggedInInOrga(){return this.token&&this.token.authType&&this.token.authType===Tg.OrgaUser}getAuthLevel(){return this.token&&this.token.authLevel}getAuthLevelAsString(){return this.token&&this.token.authLevel&&Ag[this.token.authLevel]}getAccount(){return this.token&&this.token.account}getOrgaUser(){return this.token&&this.token.orgaUser}getCredential(){return this.token&&this.token.credential}getOrgaName(){return this.token&&this.token.organization?this.token.organization.name:""}getUsersDisplayName(){return this.token?this.token.authType!==Tg.OrgaUser||this.settingsService.useAccountName4DisplayingUsername()?this.token.account.name:this.token.orgaUser.name:""}userHasOrgaMembership(){return!(!this.token||!this.token.availableOrgas)&&this.token.availableOrgas.length>0}determineAuthLevel(e){switch(e.type){case Pg.Benutzerkonto:return Ag.Low;case Pg.SmsTan:return Ag.Medium;case Pg.SmartCard:case Pg.SmartLogin:return Ag.Secure}return Ag.Low}setToken(e){this.initMembers(),this.token.authType=e.authType,this.token.authType!==Tg.None&&(this.tempToken=void 0,Object.assign(this.token,e),this.token.authLevel=this.determineAuthLevel(e.credential)),this.eventService.publishTokenChangedEvent()}getToken(){return this.token}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug),Le(Ng),Le(xg))},token:e,providedIn:"root"}),e})();var Fg=function(e){return e[e.None=0]="None",e[e.AccountVerification=1]="AccountVerification",e[e.InvitationOrgaUser=2]="InvitationOrgaUser",e[e.DeclinedOrgaUserInvitation=3]="DeclinedOrgaUserInvitation",e[e.AcceptedOrgaUserInvitation=4]="AcceptedOrgaUserInvitation",e}({}),Vg=function(e){return e[e.None=0]="None",e[e.AccountVerification=1]="AccountVerification",e[e.InvitationOrgaUser=2]="InvitationOrgaUser",e[e.InfoOfInvitationOrgaUser=3]="InfoOfInvitationOrgaUser",e}({});let Lg=(()=>{class e{constructor(e,t){this.fakeBackend=e,this.settingsService=t}updateAccount(e){return this.fakeBackend.updateAccount(e)}deleteAccount(e){return!(this.fakeBackend.isMemberInAtLeastOneOrga(e)&&!this.settingsService.allowDeletionOfAccountWithOrgaMemberships())&&this.fakeBackend.deleteAccount(e)}findAccountByMail(e){return this.fakeBackend.findAccountByMail(e)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug),Le(xg))},token:e,providedIn:"root"}),e})(),zg=(()=>{class e{constructor(e){this.fakeBackend=e}getAllOrgasForUser(e){return this.fakeBackend.getAllOrganizationsForAccount(e)}leaveOrganizationByAccountId(e,t){this.fakeBackend.leaveOrganizationByAccountId(e,t)}leaveOrganizationByOrgaUser(e){this.fakeBackend.leaveOrganizationByOrgaUser(e)}deleteOrganization(e){this.fakeBackend.deleteOrganization(e)}findOrgaById(e){return this.fakeBackend.findOrgaById(e)}findOrgaUserByAccountId(e,t){return this.fakeBackend.findOrgaUserByAccountId(e,t)}findOrgaUserByOrgaUserId(e){return this.fakeBackend.findOrgaUserById(e)}accountIsAlreadyMemberInOrga(e,t){return void 0!==this.fakeBackend.findOrgaUserByAccountId(e,t)}foreignOrgaIsAlreadyMemberInOrga(e,t){return void 0!==this.fakeBackend.findForeignOrgaByOrgaId(e,t)}foreignUserIsAlreadyMemberInOrga(e,t){return void 0!==this.fakeBackend.findForeignUserByOrgaId(e,t)}joinOrganization(e,t){return this.fakeBackend.joinOrganization(e,t)}createNewOrganization(e,t){return this.fakeBackend.createNewOrganization(e,t)}isAdmin(e){return this.fakeBackend.isAdmin(e)}getAllOrgaUsers(e){return this.fakeBackend.getAllOrgaUsers(e)}updateOrgaUser(e){return this.fakeBackend.updateOrgaUser(e)}acceptOrgaUserInvitation(e,t){const n=this.fakeBackend.findOrgaUserById(e.id);return!!n&&(n.accountId=t.id,!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug))},token:e,providedIn:"root"}),e})(),Bg=(()=>{class e{constructor(e,t,n){this.tokenService=e,this.orgaService=t,this.eventService=n,this.notificationList=[]}_fillWithTestData(){this.notificationList.push({id:1,type:Fg.AccountVerification,accountAsRecipient:{id:110,name:"Klaus",email:""}},{id:3,type:Fg.InvitationOrgaUser,accountAsRecipient:{id:110,name:"Klaus",email:""},orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}},{id:4,type:Fg.AcceptedOrgaUserInvitation,orgaIdAsRecipient:300,orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}},{id:5,type:Fg.DeclinedOrgaUserInvitation,orgaIdAsRecipient:301,orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}})}addNotification(e){let t=0;this.notificationList.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.notificationList.push(e)}getAllNotificationsForCurrentPrincipal(){if(!this.tokenService.isLoggedIn)return[];let e=this.tokenService.isLoggedInInOrga()?this.tokenService.getOrgaUser().orgaId:0;return e&&!this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)&&(e=0),this.notificationList.filter(t=>{if(t.accountAsRecipient){if(t.accountAsRecipient.id===this.tokenService.getAccount().id)return t}else if(t.orgaIdAsRecipient===e)return t})}getNumberOfNotificationsForCurrentPrincipal(){return this.getAllNotificationsForCurrentPrincipal().length}_declineInvitationOrgaUser(e){this.orgaService.leaveOrganizationByOrgaUser(e.orgaUser.id),this.addNotification({type:Fg.DeclinedOrgaUserInvitation,orgaIdAsRecipient:e.orgaUser.orgaId,orgaUser:e.orgaUser})}declineInvitation(e){const t=this.notificationList.find(t=>t.id===e);if(t){switch(t.type){case Fg.AccountVerification:break;case Fg.InvitationOrgaUser:this._declineInvitationOrgaUser(t)}this.removeNotification(e)}}acceptInvitation(e){const t=this.notificationList.find(t=>t.id===e);if(t){switch(t.type){case Fg.AccountVerification:break;case Fg.InvitationOrgaUser:this._acceptInvitationOrgaUser(t)}this.removeNotification(e)}}removeNotification(e){const t=this.notificationList.findIndex(t=>t.id===e);t>=0&&this.notificationList.splice(t,1),this.eventService.publishTokenChangedEvent()}_acceptInvitationOrgaUser(e){return!!this.orgaService.acceptOrgaUserInvitation(e.orgaUser,this.tokenService.getAccount())&&(this.addNotification({type:Fg.AcceptedOrgaUserInvitation,orgaIdAsRecipient:e.orgaUser.orgaId,orgaUser:e.orgaUser}),!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(zg),Le(Ng))},token:e,providedIn:"root"}),e})(),jg=(()=>{class e{constructor(e,t,n){this.accountService=e,this.notificationService=t,this.orgaService=n,this.mailList=[]}_fillWithTestData(){this.mailList.push({type:Vg.AccountVerification,id:1,email:"Klaus.Hetzelein@datev.de",account:{name:"Klaus Hetzelein",email:""}},{type:Vg.InvitationOrgaUser,id:2,email:"klaus@bk",account:{name:"Klaus",email:""},orgaUser:{id:110,name:"Orga Klaus Name",orgaId:300}},{type:Vg.InfoOfInvitationOrgaUser,id:3,email:"klaus@mail.de",account:{name:"Klaus",email:""},orgaUser:{id:110,name:"Orga Klaus Name",orgaId:300}})}mailsAvailable(){return this.mailList.length>0}getNumberOfMails(){return this.mailList.length}setTaskInProgress(e){return!this.taskByMailInProgress&&(this.taskByMailInProgress=e,!0)}resetTaskInProgress(){this.taskByMailInProgress=void 0}getTaskInProgress(){return this.taskByMailInProgress}addMailTask(e){let t=0;this.mailList.forEach(e=>{e.id>t&&(t=e.id)}),e.id=t+1,this.mailList.push(e),this.resetTaskInProgress()}getAllMailsByType(e){return this.mailList.filter(t=>t.type===e)}getAllMails(){return this.mailList}_declineAccountVerification(e){this.accountService.deleteAccount(e.account.id)}_declineInvitationOrgaUser(e){this.orgaService.leaveOrganizationByOrgaUser(e.orgaUser.id)}declineTask(e){const t=this.mailList.find(t=>t.id===e);if(t){switch(t.type){case Vg.AccountVerification:this._declineAccountVerification(t);break;case Vg.InvitationOrgaUser:this._declineInvitationOrgaUser(t)}this.removeTask(e)}}removeTask(e){const t=this.getTaskInProgress();t&&t.id===e&&this.resetTaskInProgress();const n=this.mailList.findIndex(t=>t.id===e);n>=0&&this.mailList.splice(n,1)}_fulfillInvitationOrgaUserTask(e){const t=this.getTaskInProgress();return!!t&&t.email===e.account.email&&(this.notificationService.addNotification({type:Fg.InvitationOrgaUser,accountAsRecipient:e.account,orgaUser:t.orgaUser}),this.removeTask(t.id),!0)}_fulfillAccountVerificationTask(e){const t=this.getTaskInProgress();return!!t&&t.account.id===e.account.id&&(e.account.verified=!0,this.accountService.updateAccount(e.account),this.notificationService.addNotification({type:Fg.AccountVerification,accountAsRecipient:e.account}),this.removeTask(t.id),!0)}thisFulfillsPendingTask(e){if(!this.taskByMailInProgress)return;const t=Object.assign({},this.taskByMailInProgress);return t.type===Vg.AccountVerification&&this._fulfillAccountVerificationTask(e)?t:t.type===Vg.InvitationOrgaUser&&this._fulfillInvitationOrgaUserTask(e)?t:void this.resetTaskInProgress()}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Lg),Le(Bg),Le(zg))},token:e,providedIn:"root"}),e})();var Hg=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:30em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.verweise[_ngcontent-%COMP%]   .knubbel[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:2.2em;min-width:16px;text-align:rigth;margin-right:.8em;border-radius:4px 0 0 4px}.badge[_ngcontent-%COMP%]{margin-right:.5em}span.badge.new[_ngcontent-%COMP%]{font-weight:500!important;font-size:1rem!important;color:#fff!important}"]],data:{}});function $g(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),us(2,null,[" Hallo ",", herzlich willkommen auf unserer Plattform."]))],null,(function(e,t){e(t,2,0,t.component.displayName)}))}function qg(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),us(-1,null,[" Herzlich willkommen auf unserer der Plattform."]))],null,null)}function Gg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),us(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.newBadgeCount)}))}function Kg(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==Zl(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"click"===t&&(l=!1!==r.onClick(e.context.$implicit.text)&&l),l}),null,null)),ar(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(3,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,Gg)),ar(5,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.link),e(t,5,0,t.context.$implicit.newBadgeCount>0)}),(function(e,t){e(t,1,0,Zl(t,2).target,Zl(t,2).href),e(t,3,0,t.context.$implicit.text)}))}function Wg(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,$g)),ar(1,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,qg)),ar(3,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(4,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(-1,null,["Du hast folgende M\xf6glichkeiten:"])),(e()(),Qi(6,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Kg)),ar(8,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.loggedIn),e(t,3,0,!n.loggedIn),e(t,8,0,n.availableLinks)}),null)}function Zg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-oes-main",[],null,null,null,Wg,Hg)),ar(1,245760,null,0,Og,[xg,Dg,jg,Ng],null,null)],(function(e,t){e(t,1,0)}),null)}var Qg=Vl("app-oes-main",Og,Zg,{},{},[]);class Jg extends j{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let l=0;l<n;l++){const e=B(this,t[l],null,l);e&&this.add(e)}}notifyNext(e,t,n,l,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:l}=this,r=l.length;e._hasValue?(this.completed++,this.completed===r&&(n===r&&t.next(l),t.complete())):t.complete()}}const Yg=new Oe("NgValueAccessor");class Xg{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}const ep=new Oe("CompositionEventMode");class tp{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=pu()?pu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class np{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lp extends np{get formDirective(){return null}get path(){return null}}function rp(){throw new Error("unimplemented")}class ip extends np{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return rp()}get asyncValidator(){return rp()}}class sp{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class op extends sp{constructor(e){super(e)}}class ap extends sp{constructor(e){super(e)}}function up(e){return null==e||0===e.length}const cp=new Oe("NgValidators"),dp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hp{static min(e){return t=>{if(up(t.value)||up(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(up(t.value)||up(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return up(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return up(e.value)?null:dp.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(up(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return hp.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(up(e.value))return null;const l=e.value;return t.test(l)?null:{pattern:{requiredPattern:n,actualValue:l}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(gp);return 0==t.length?null:function(e){return fp(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(gp);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),0===t.length?xo:n?e(t).pipe(H(e=>n(...e))):new w(e=>new Jg(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(pp)).pipe(H(fp))}}}function gp(e){return null!=e}function pp(e){const t=Yt(e)?K(e):e;if(!Xt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function fp(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function mp(e){return e.validate?t=>e.validate(t):e}function vp(e){return e.validate?t=>e.validate(t):e}class yp{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const bp={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function _p(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class wp{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Kt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=_p(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class Cp{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_p(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Sp(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class kp{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Sp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Sp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Ip(e,t){return[...t.path,e]}function Op(e,t){e||Ap(t,"Cannot find control with"),t.valueAccessor||Ap(t,"No value accessor for form control with"),e.validator=hp.compose([e.validator,t.validator]),e.asyncValidator=hp.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&xp(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&xp(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function xp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ap(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Tp(e){return null!=e?hp.compose(e.map(mp)):null}function Pp(e){return null!=e?hp.composeAsync(e.map(vp)):null}const Ep=[Xg,class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},wp,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Kt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const l=e.item(t),r=this._getOptionValue(l.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const l=e.item(t);if(l.selected){const e=this._getOptionValue(l.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,l){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=l,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ip),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Mp="VALID",Rp="INVALID",Np="PENDING",Up="DISABLED";function Dp(e){const t=Vp(e)?e.validators:e;return Array.isArray(t)?Tp(t):t||null}function Fp(e,t){const n=Vp(t)?t.asyncValidators:e;return Array.isArray(n)?Pp(n):n||null}function Vp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Lp{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Mp}get invalid(){return this.status===Rp}get pending(){return this.status==Np}get disabled(){return this.status===Up}get enabled(){return this.status!==Up}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Dp(e)}setAsyncValidators(e){this.asyncValidator=Fp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Np,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Up,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mp,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Mp&&this.status!==Np||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Up:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Np;const t=pp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Bp?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof jp&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mr,this.statusChanges=new Mr}_calculateStatus(){return this._allControlsDisabled()?Up:this.errors?Rp:this._anyControlsHaveStatus(Np)?Np:this._anyControlsHaveStatus(Rp)?Rp:Mp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class zp extends Lp{constructor(e=null,t,n){super(Dp(t),Fp(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Bp extends Lp{constructor(e,t,n){super(Dp(t),Fp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,l)=>{n.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof zp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,l)=>{t=t||this.contains(l)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,l)=>{n=t(n,e,l)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class jp extends Lp{constructor(e,t,n){super(Dp(t),Fp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,l)=>{n.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof zp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Hp=(()=>Promise.resolve(null))();class $p extends lp{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Mr,this.form=new Bp({},Tp(e),Pp(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Hp.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Op(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Hp.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){Hp.then(()=>{const t=this._findContainer(e.path),n=new Bp({});(function(e,t){null==e&&Ap(t,"Cannot find control with"),e.validator=hp.compose([e.validator,t.validator]),e.asyncValidator=hp.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Hp.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Hp.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class qp{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${bp.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${bp.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${bp.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${bp.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${bp.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${bp.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Gp=new Oe("NgFormSelectorWarning");class Kp extends lp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ip(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tp(this._validators)}get asyncValidator(){return Pp(this._asyncValidators)}_checkParentType(){}}class Wp extends Kp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Wp||this._parent instanceof $p||qp.modelGroupParentException()}}const Zp=(()=>Promise.resolve(null))();class Qp extends ip{constructor(e,t,n,l){super(),this.control=new zp,this._registered=!1,this.update=new Mr,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Ap(e,"Value accessor was not provided as an array for form control with");let n=void 0,l=void 0,r=void 0;return t.forEach(t=>{t.constructor===tp?n=t:function(e){return Ep.some(t=>e.constructor===t)}(t)?(l&&Ap(e,"More than one built-in value accessor matches form control with"),l=t):(r&&Ap(e,"More than one custom value accessor matches form control with"),r=t)}),r||l||n||(Ap(e,"No valid value accessor for form control with"),null)}(this,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Kt(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ip(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tp(this._rawValidators)}get asyncValidator(){return Pp(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Op(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Wp)&&this._parent instanceof Kp?qp.formGroupNameException():this._parent instanceof Wp||this._parent instanceof $p||qp.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||qp.missingNameException()}_updateValue(e){Zp.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Zp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Jp{}class Yp{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?hp.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class Xp{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=hp.minLength(parseInt(this.minlength,10))}}class ef{}class tf{static withConfig(e){return{ngModule:tf,providers:[{provide:Gp,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class nf{constructor(e){this.el=e}ngAfterViewInit(){this.el.nativeElement.focus()}}class lf{constructor(e,t,n,l,r){this.loginService=e,this.router=t,this.settingsService=n,this.taskService=l,this.authService=r}ngOnInit(){this.settingsService.setTitle("Anmeldung"),this.initMembers()}initMembers(){this.credential={kennung:"",secret:""}}clearForm(){this.initMembers()}loginWithGoogle(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{if(e){console.log("provider: "+e.provider),console.log("id: "+e.id);const t=this.loginService.login({type:Pg.SocialLogin,kennung:"",secret:"",provider:"google",userIdFromProvider:e.id});return this._onLogin(t)}alert("not logged in..."),console.log("not logged in...")}).catch(e=>alert("Sociallogin failed: "+e))}_getAllowUnverifiedState(){const e=this.taskService.getTaskInProgress();return!(!e||e.type!==Vg.AccountVerification)}_handleAccountVerification(e){if(e.account.verified||this.taskService.thisFulfillsPendingTask(e))return this.taskService.resetTaskInProgress(),e;this.taskService.resetTaskInProgress()}_handleTaskInProgressIfAny(e){this.taskService.thisFulfillsPendingTask(e)}_orgaSelectionNeeded(e){return e.availableOrgas&&e.availableOrgas.length>1}onLogin(){const e=this._getAllowUnverifiedState();let t=this.loginService.login(this.credential,e);t&&t.authType!==Tg.None?(this.loginService.logout(),e&&!(t=this._handleAccountVerification(t))||(this._handleTaskInProgressIfAny(t),this._orgaSelectionNeeded(t)?this.router.navigateByUrl("/iam/select-organization"):(this.loginService.setToken(t),this.initMembers(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())))):alert("Das Anmelden hat nicht geklappt...")}_onLogin(e){e&&e.authType!==Tg.None?(this.loginService.logout(),this._orgaSelectionNeeded(e)?this.router.navigateByUrl("/iam/select-organization"):(this.loginService.setToken(e),this.initMembers(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri()))):alert("Das Anmelden hat nicht geklappt...")}}var rf=tl({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin-right:15px;margin-top:20px}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function sf(e){return hs(0,[(e()(),Qi(0,0,null,null,37,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,4).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,4).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.onLogin()&&l),l}),null,null)),ar(3,16384,null,0,Jp,[],null,null),ar(4,4210688,[["loginForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(6,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(7,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"label",[["for","kennung"]],null,null,null,null,null)),(e()(),us(-1,null,["Kennung"])),(e()(),Qi(10,0,null,null,8,"input",[["appAutofocus",""],["class","form-control"],["id","kennung"],["name","kennung"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,11)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,11).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,11)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,11)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.credential.kennung=n)&&l),l}),null,null)),ar(11,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(12,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(15,671744,[["kennung",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(17,16384,null,0,op,[[4,ip]],null,null),ar(18,4210688,null,0,nf,[dn],null,null),(e()(),Qi(19,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(20,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),us(-1,null,["Passwort"])),(e()(),Qi(22,0,null,null,5,"input",[["class","form-control"],["id","secret"],["name","secret"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,23)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,23).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,23)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,23)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.credential.secret=n)&&l),l}),null,null)),ar(23,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(25,671744,[["secret",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(27,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(28,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.clearForm()&&l),l}),null,null)),(e()(),us(-1,null,["Zur\xfccksetzen"])),(e()(),Qi(30,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Anmelden"])),(e()(),Qi(32,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.loginWithGoogle()&&l),l}),null,null)),(e()(),us(-1,null,["Anmelden mit Google"])),(e()(),Qi(34,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(35,0,null,null,2,"a",[["routerLink","/iam/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(36,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,[" Neu bei uns? "]))],(function(e,t){var n=t.component;e(t,12,0,""),e(t,15,0,"kennung",n.credential.kennung),e(t,25,0,"secret",n.credential.secret),e(t,36,0,"/iam/register")}),(function(e,t){e(t,2,0,Zl(t,6).ngClassUntouched,Zl(t,6).ngClassTouched,Zl(t,6).ngClassPristine,Zl(t,6).ngClassDirty,Zl(t,6).ngClassValid,Zl(t,6).ngClassInvalid,Zl(t,6).ngClassPending),e(t,10,0,Zl(t,12).required?"":null,Zl(t,17).ngClassUntouched,Zl(t,17).ngClassTouched,Zl(t,17).ngClassPristine,Zl(t,17).ngClassDirty,Zl(t,17).ngClassValid,Zl(t,17).ngClassInvalid,Zl(t,17).ngClassPending),e(t,22,0,Zl(t,27).ngClassUntouched,Zl(t,27).ngClassTouched,Zl(t,27).ngClassPristine,Zl(t,27).ngClassDirty,Zl(t,27).ngClassValid,Zl(t,27).ngClassInvalid,Zl(t,27).ngClassPending),e(t,30,0,!Zl(t,4).valid),e(t,35,0,Zl(t,36).target,Zl(t,36).href)}))}function of(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-login",[],null,null,null,sf,rf)),ar(1,114688,null,0,lf,[Dg,Zh,xg,jg,Vo],null,null)],(function(e,t){e(t,1,0)}),null)}var af=Vl("app-iam-login",lf,of,{},{},[]);class uf{constructor(e,t,n){this.loginService=e,this.router=t,this.settingsService=n,this.orgas=[]}ngOnInit(){this.settingsService.setTitle("Organisationsauswahl"),this.initMembers()}initMembers(){this.token=this.loginService.getTempToken(),this.token.availableOrgas.forEach(e=>this.orgas.push(e))}selectOrga(e){this.loginService.loginWithOrganization(this.orgas[e].id),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())}cancelLogin(){this.loginService.logout(),this.settingsService.resetRedirectUri(),this.router.navigateByUrl("")}loginWithAccountOnly(){this.loginService.loginWithAccountOnly(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())}}var cf=tl({encapsulation:0,styles:[[".btn2[_ngcontent-%COMP%]{margin-top:.5em;width:40em;text-align:left}.additionalButton[_ngcontent-%COMP%]{margin-top:-.5em}.cancelButton[_ngcontent-%COMP%]{margin-top:3em;background-color:#f08080}"]],data:{}});function df(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,2,"div",[["style","display:flex"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"button",[["class","btn btn2"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.selectOrga(e.context.index)&&l),l}),null,null)),(e()(),us(3,null,["Anmelden mit: ","-",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.id,t.context.$implicit.name)}))}function hf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),us(1,null,["Hallo ",", du bist in mehreren Organisationen Mitglied."])),(e()(),Qi(2,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(-1,null,["W\xe4hle bitte die gew\xfcnschte Organisation aus:"])),(e()(),Qi(4,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,df)),ar(6,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(7,0,null,null,1,"button",[["class","btn btn2 additionalButton"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.loginWithAccountOnly()&&l),l}),null,null)),(e()(),us(-1,null,["Ohne Organisation anmelden"])),(e()(),Qi(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(10,0,null,null,1,"button",[["class","btn cancelButton"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancelLogin()&&l),l}),null,null)),(e()(),us(-1,null,["Anmelden abbrechen"]))],(function(e,t){e(t,6,0,t.component.orgas)}),(function(e,t){e(t,1,0,t.component.token.account.name)}))}function gf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-select-orga",[],null,null,null,hf,cf)),ar(1,114688,null,0,uf,[Dg,Zh,xg],null,null)],(function(e,t){e(t,1,0)}),null)}var pf=Vl("app-iam-select-orga",uf,gf,{},{},[]);class ff{constructor(e,t,n,l,r,i){this.registerService=e,this.router=t,this.eventService=n,this.settingsService=l,this.taskService=r,this.authService=i,this.registrationSuccessful=!0,this.errorFromBackend="",this.registrationViaGoogle=!1}ngOnInit(){this.initMembers(),this.settingsService.setTitle("Registrierung")}initMembers(){this.account={name:"",email:""},this.credential={kennung:"",secret:"",type:Pg.Benutzerkonto},this.registrationSuccessful=!0,this.errorFromBackend="",this.settingsService.registeredAccountMustBeVerifiedByMail()||(this.account.verified=!0),this.registrationViaGoogle=!1}clearForm(){this.initMembers()}startRegistrationWithGoogle(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{e?(console.log("provider: "+e.provider),console.log("id: "+e.id),this.registrationViaGoogle=!0,this.account={name:e.name,email:e.email},this.credential={kennung:"",secret:"",provider:"google",userIdFromProvider:e.id,type:Pg.SocialLogin}):(alert("Registration via Google-Login nicht erfolgreich!"),console.log("not registered with google"))}).catch(e=>alert("SocialRegistration failed: "+e))}finishRegistrationWithGoogle(){const e=this.registerService.register(this.account,this.credential);this._finishRegistration(e)}register(){this.credential.kennung=this.account.email;const e=this.registerService.register(this.account,this.credential);this._finishRegistration(e)}_finishRegistration(e){if(e){if(this.registerService.logout(),this.settingsService.registeredAccountMustBeVerifiedByMail())return this.taskService.addMailTask({type:Vg.AccountVerification,email:e.account.email,account:e.account}),void this.router.navigateByUrl("/iam/registration-successful",{state:{actionDone:"Registration"}});if(!this.settingsService.afterRegistrationLoginIsRequired()){this.registerService.setToken(e);const t=this.taskService.thisFulfillsPendingTask(e);t&&(this.eventService.publishTokenChangedEvent(),alert("Hiermit hast du eine Einladung vom Typ: "+Vg[t.type]+" best\xe4tigt. Wir stellen dir auch eine pers\xf6nliche Nachricht ein."))}if(this.settingsService.showInfoPageAfterRegistration())return void this.router.navigateByUrl("/iam/registration-successful",{state:{actionDone:"Registration"}});if(this.settingsService.afterRegistrationLoginIsRequired())return void this.router.navigateByUrl("/iam/login");this.router.navigateByUrl(this.settingsService.getRedirectUri())}else alert("Das Registrieren hat nicht geklappt..."),this.errorFromBackend=this.registrationViaGoogle?"Dieser Google-Account wird schon verwendet.":"Die Email-Adresse muss eindeutig sein.",this.registrationSuccessful=!1}}var mf=tl({encapsulation:0,styles:[[".ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1}button[_ngcontent-%COMP%]{margin-right:15px;margin-top:20px}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function vf(e){return hs(0,[(e()(),Qi(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),us(-1,null,["Passwort"])),(e()(),Qi(3,0,null,null,7,"input",[["class","form-control"],["id","secret"],["name","secret"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,4)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,4)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.credential.secret=n)&&l),l}),null,null)),ar(4,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(5,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(8,671744,[["secret",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(10,16384,null,0,op,[[4,ip]],null,null)],(function(e,t){var n=t.component;e(t,5,0,""),e(t,8,0,"secret",n.credential.secret)}),(function(e,t){e(t,3,0,Zl(t,5).required?"":null,Zl(t,10).ngClassUntouched,Zl(t,10).ngClassTouched,Zl(t,10).ngClassPristine,Zl(t,10).ngClassDirty,Zl(t,10).ngClassValid,Zl(t,10).ngClassInvalid,Zl(t,10).ngClassPending)}))}function yf(e){return hs(0,[(e()(),Qi(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"label",[["for","providersUserId"]],null,null,null,null,null)),(e()(),us(-1,null,["User-ID vom Provider"])),(e()(),Qi(3,0,null,null,7,"input",[["class","form-control"],["id","providersUserId"],["name","providersUserId"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,4)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,4)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.credential.userIdFromProvider=n)&&l),l}),null,null)),ar(4,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(5,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(8,671744,[["providersUserId",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(10,16384,null,0,op,[[4,ip]],null,null)],(function(e,t){var n=t.component;e(t,5,0,""),e(t,8,0,"providersUserId",!0,n.credential.userIdFromProvider)}),(function(e,t){e(t,3,0,Zl(t,5).required?"":null,Zl(t,10).ngClassUntouched,Zl(t,10).ngClassTouched,Zl(t,10).ngClassPristine,Zl(t,10).ngClassDirty,Zl(t,10).ngClassValid,Zl(t,10).ngClassInvalid,Zl(t,10).ngClassPending)}))}function bf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.register()&&l),l}),null,null)),(e()(),us(-1,null,["Registrieren"]))],null,(function(e,t){e(t,0,0,!Zl(t.parent,4).valid)}))}function _f(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.startRegistrationWithGoogle()&&l),l}),null,null)),(e()(),us(-1,null,["Registrieren mit Google"]))],null,null)}function wf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.finishRegistrationWithGoogle()&&l),l}),null,null)),(e()(),us(-1,null,["Registrieren mit Google abschlie\xdfen"]))],null,null)}function Cf(e){return hs(0,[(e()(),Qi(0,0,null,null,49,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,4).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,4).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.register()&&l),l}),null,null)),ar(3,16384,null,0,Jp,[],null,null),ar(4,4210688,[["registrationForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(6,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(7,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),us(-1,null,["Wie m\xf6chtest du angesprochen werden? (mind. 3 Zeichen)"])),(e()(),Qi(10,0,null,null,9,"input",[["appAutofocus",""],["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,11)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,11).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,11)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,11)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.account.name=n)&&l),l}),null,null)),ar(11,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(12,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(13,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(16,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(18,16384,null,0,op,[[4,ip]],null,null),ar(19,4210688,null,0,nf,[dn],null,null),(e()(),Qi(20,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(21,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),us(-1,null,["Email (Anmeldename)"])),(e()(),Qi(23,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,24)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,24).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,24)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,24)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.account.email=n)&&l),l}),null,null)),ar(24,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(25,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(28,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(30,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,vf)),ar(32,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,yf)),ar(34,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(35,0,null,null,2,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(36,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(37,null,["Fehlermeldung vom Server: ",""])),(e()(),Qi(38,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.clearForm()&&l),l}),null,null)),(e()(),us(-1,null,["Zur\xfccksetzen"])),(e()(),Zi(16777216,null,null,1,null,bf)),ar(41,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,_f)),ar(43,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,wf)),ar(45,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(46,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(47,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,48).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(48,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,[" Du bist bereits registriert? "]))],(function(e,t){var n=t.component;e(t,12,0,""),e(t,13,0,"3"),e(t,16,0,"name",n.account.name),e(t,25,0,""),e(t,28,0,"email",n.account.email),e(t,32,0,!n.registrationViaGoogle),e(t,34,0,n.registrationViaGoogle),e(t,41,0,!n.registrationViaGoogle),e(t,43,0,!n.registrationViaGoogle),e(t,45,0,n.registrationViaGoogle),e(t,48,0,"/iam/login")}),(function(e,t){var n=t.component;e(t,2,0,Zl(t,6).ngClassUntouched,Zl(t,6).ngClassTouched,Zl(t,6).ngClassPristine,Zl(t,6).ngClassDirty,Zl(t,6).ngClassValid,Zl(t,6).ngClassInvalid,Zl(t,6).ngClassPending),e(t,10,0,Zl(t,12).required?"":null,Zl(t,13).minlength?Zl(t,13).minlength:null,Zl(t,18).ngClassUntouched,Zl(t,18).ngClassTouched,Zl(t,18).ngClassPristine,Zl(t,18).ngClassDirty,Zl(t,18).ngClassValid,Zl(t,18).ngClassInvalid,Zl(t,18).ngClassPending),e(t,23,0,Zl(t,25).required?"":null,Zl(t,30).ngClassUntouched,Zl(t,30).ngClassTouched,Zl(t,30).ngClassPristine,Zl(t,30).ngClassDirty,Zl(t,30).ngClassValid,Zl(t,30).ngClassInvalid,Zl(t,30).ngClassPending),e(t,35,0,n.registrationSuccessful),e(t,37,0,n.errorFromBackend),e(t,47,0,Zl(t,48).target,Zl(t,48).href)}))}function Sf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-register",[],null,null,null,Cf,mf)),ar(1,114688,null,0,ff,[Dg,Zh,Ng,xg,jg,Vo],null,null)],(function(e,t){e(t,1,0)}),null)}var kf=Vl("app-iam-register",ff,Sf,{},{},[]);class If{constructor(e,t){this.tokenService=e,this.settingsService=t,this.usersDisplayname="",this.action="angemeldet",this.credentialType="",this.authLevel="",this.redirectUri="",this.alreadyLoggedIn=!1,this.showVerificationNeeded=!1,this.showLinkToLoginPage=!1}ngOnInit(){this.alreadyLoggedIn=this.tokenService.isLoggedIn;const{actionDone:e}=window.history.state;e&&e.toLowerCase().includes("regist")&&(this.action="registriert",this.settingsService.setTitle("Erfolgreich registriert..."),this.showVerificationNeeded=this.settingsService.registeredAccountMustBeVerifiedByMail()),this.redirectUri=this.settingsService.getRedirectUri(),this.alreadyLoggedIn?(this.usersDisplayname=this.tokenService.getUsersDisplayName(),this.credential=this.tokenService.getCredential(),this.credentialType=Pg[this.credential.type],this.authLevel=this.tokenService.getAuthLevelAsString(),this.settingsService.setTitle("Erfolgreich angemeldet...")):this.showVerificationNeeded?this.redirectUri="":this.redirectUri||(this.showLinkToLoginPage=!0)}}var Of=tl({encapsulation:0,styles:[[""]],data:{}});function xf(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Um die Registrierung abzuschlie\xdfen, must du deine Email-Adresse noch verifizieren."])),(e()(),Qi(3,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(4,0,null,null,3,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(5,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),ss(6,1),(e()(),us(-1,null,[" Alle notwendigen Informationen dazu finden sich in der Email."]))],(function(e,t){var n=e(t,6,0,"/fakes/mail-view");e(t,5,0,n)}),(function(e,t){e(t,4,0,Zl(t,5).target,Zl(t,5).href)}))}function Af(e){return hs(0,[(e()(),Qi(0,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["mit folgender Kennung: "])),(e()(),Qi(4,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),us(5,null,["",""])),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["diesem Medien-Typ: "])),(e()(),Qi(8,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),us(9,null,["",""])),(e()(),Qi(10,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["dein Authentifizierungslevel ist somit: "])),(e()(),Qi(12,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),us(13,null,["",""])),(e()(),Qi(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(15,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Du kannst nun auch entsprechend gesch\xfctzte Seiten aufrufen..."]))],null,(function(e,t){var n=t.component;e(t,5,0,n.credential.kennung),e(t,9,0,n.credentialType),e(t,13,0,n.authLevel)}))}function Tf(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,2,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,["Weiter zum eigentlichen Ziel (redirect)"]))],(function(e,t){e(t,2,0,t.component.redirectUri)}),(function(e,t){e(t,1,0,Zl(t,2).target,Zl(t,2).href)}))}function Pf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),ss(3,1),(e()(),us(-1,null,["Direkt zum Login..."]))],(function(e,t){var n=e(t,3,0,"/iam/login");e(t,2,0,n)}),(function(e,t){e(t,1,0,Zl(t,2).target,Zl(t,2).href)}))}function Ef(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),us(1,null,["Hallo ",""])),(e()(),Qi(2,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),us(-1,null,["Herzlich willkommen im unserem \xd6kosystem."])),(e()(),Qi(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(6,null,["Du hast dich erfolgreich ","."])),(e()(),Zi(16777216,null,null,1,null,xf)),ar(8,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Af)),ar(10,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Tf)),ar(12,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Pf)),ar(14,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.showVerificationNeeded),e(t,10,0,n.alreadyLoggedIn),e(t,12,0,n.redirectUri),e(t,14,0,n.showLinkToLoginPage)}),(function(e,t){var n=t.component;e(t,1,0,n.usersDisplayname),e(t,6,0,n.action)}))}function Mf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-successful-registration",[],null,null,null,Ef,Of)),ar(1,114688,null,0,If,[Dg,xg],null,null)],(function(e,t){e(t,1,0)}),null)}var Rf=Vl("app-iam-successful-registration",If,Mf,{},{},[]);class Nf{constructor(e,t){this.settingsService=e,this.router=t,this.requirements=[],this.redirectUri=""}ngOnInit(){this.settingsService.setTitle("Seite gesch\xfctzt..."),this.redirectUri=this.settingsService.getRedirectUri(),this.requirements=this.settingsService.getRequiredByGuardHelptext(!0).split("-")}}var Uf=tl({encapsulation:0,styles:[["ol.bullet[_ngcontent-%COMP%]{list-style-type:circle;margin-bottom:2em}"]],data:{}});function Df(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function Ff(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),us(-1,null,["Die Seite, die du aufgerufen hast, ist gesch\xfctzt."])),(e()(),Qi(2,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Folgende Seite hast du aufgerufen: "])),(e()(),Qi(4,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),us(5,null,["",""])),(e()(),Qi(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(-1,null,["Du must folgende Bedingung(en) erf\xfcllen, um die Seite aufzurufen:"])),(e()(),Qi(8,0,null,null,4,"ol",[["class","bullet"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["du must angemeldet sein"])),(e()(),Zi(16777216,null,null,1,null,Df)),ar(12,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(13,0,null,null,2,"a",[["routerLink","/iam/login"],["style","font-size: larger;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(14,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,[" Weiter zum Login...\n"]))],(function(e,t){e(t,12,0,t.component.requirements),e(t,14,0,"/iam/login")}),(function(e,t){e(t,5,0,t.component.redirectUri),e(t,13,0,Zl(t,14).target,Zl(t,14).href)}))}function Vf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-guard-fail",[],null,null,null,Ff,Uf)),ar(1,114688,null,0,Nf,[xg,Zh],null,null)],(function(e,t){e(t,1,0)}),null)}var Lf=Vl("app-iam-guard-fail",Nf,Vf,{},{},[]);class zf{constructor(e,t,n,l,r){this.accountService=e,this.tokenService=t,this.eventService=n,this.settingsService=l,this.router=r,this.deleteAccountAllowed=!1}ngOnInit(){this.settingsService.setTitle("Account-Verwaltung"),this.principal=this.tokenService.getAccount(),this.initMembers()}initMembers(){this.account=Object.assign({},this.principal),this.deleteAccountAllowed=!this.tokenService.userHasOrgaMembership()||this.settingsService.allowDeletionOfAccountWithOrgaMemberships()}resetForm(){this.initMembers()}submitForm(){this.accountService.updateAccount(this.account)?(this.eventService.publishTokenChangedEvent(),alert("\xc4nderungen wurden \xfcbernommen...")):alert("\xc4nderungen konnten nicht \xfcbernommen werden ???")}deleteAccount(){confirm("Willst du wirklich deinen Account l\xf6schen?")&&this.accountService.deleteAccount(this.principal.id)&&(this.tokenService.logout(),this.router.navigateByUrl("/"))}}var Bf=tl({encapsulation:0,styles:[[".ng-valid.ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}hr[_ngcontent-%COMP%]{height:3px;background:teal;margin-top:2em;margin-bottom:1em}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.myButton[_ngcontent-%COMP%]{margin-right:1em}"]],data:{}});function jf(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Du kannst deinen Account derzeit noch nicht l\xf6schen, da du noch in mind. einer Organisation Mitglied bist."])),(e()(),Qi(3,0,null,null,2,"a",[["routerLink","/iam/organization-management"],["style","font-size: larger;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(4,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,[" Weiter zur Verwaltung deiner Mitgliedschaften... "]))],(function(e,t){e(t,4,0,"/iam/organization-management")}),(function(e,t){e(t,3,0,Zl(t,4).target,Zl(t,4).href)}))}function Hf(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"button",[["class","btn btn-default btnDelete"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.deleteAccount()&&l),l}),null,null)),(e()(),us(-1,null,["Account l\xf6schen"]))],null,null)}function $f(e){return hs(0,[(e()(),Qi(0,0,null,null,35,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Hier kannst du deine Accountdaten \xe4ndern:"])),(e()(),Qi(3,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,5).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,5).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.submitForm()&&l),l}),null,null)),ar(4,16384,null,0,Jp,[],null,null),ar(5,4210688,[["changeAccountForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(7,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(8,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),us(-1,null,["Name (muss mind. 3 Zeichen haben)"])),(e()(),Qi(11,0,null,null,9,"input",[["appAutofocus",""],["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,12)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,12).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,12)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,12)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.account.name=n)&&l),l}),null,null)),ar(12,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(13,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(14,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(17,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(19,16384,null,0,op,[[4,ip]],null,null),ar(20,4210688,null,0,nf,[dn],null,null),(e()(),Qi(21,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(22,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),us(-1,null,["Email (Pflichtfeld, eindeutig)"])),(e()(),Qi(24,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,25)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,25).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,25)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,25)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.account.email=n)&&l),l}),null,null)),ar(25,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(26,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(29,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(31,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(32,0,null,null,1,"button",[["class","btn myButton"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.resetForm()&&l),l}),null,null)),(e()(),us(-1,null,["\xc4nderungen verwerfen"])),(e()(),Qi(34,0,null,null,1,"button",[["class","btn myButton"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["\xc4nderungen \xfcbernehmen"])),(e()(),Qi(36,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Qi(37,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(38,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Hier kannst du deinen Account l\xf6schen."])),(e()(),Zi(16777216,null,null,1,null,jf)),ar(41,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Hf)),ar(43,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,13,0,""),e(t,14,0,"3"),e(t,17,0,"name",n.account.name),e(t,26,0,""),e(t,29,0,"email",n.account.email),e(t,41,0,!n.deleteAccountAllowed),e(t,43,0,n.deleteAccountAllowed)}),(function(e,t){e(t,3,0,Zl(t,7).ngClassUntouched,Zl(t,7).ngClassTouched,Zl(t,7).ngClassPristine,Zl(t,7).ngClassDirty,Zl(t,7).ngClassValid,Zl(t,7).ngClassInvalid,Zl(t,7).ngClassPending),e(t,11,0,Zl(t,13).required?"":null,Zl(t,14).minlength?Zl(t,14).minlength:null,Zl(t,19).ngClassUntouched,Zl(t,19).ngClassTouched,Zl(t,19).ngClassPristine,Zl(t,19).ngClassDirty,Zl(t,19).ngClassValid,Zl(t,19).ngClassInvalid,Zl(t,19).ngClassPending),e(t,24,0,Zl(t,26).required?"":null,Zl(t,31).ngClassUntouched,Zl(t,31).ngClassTouched,Zl(t,31).ngClassPristine,Zl(t,31).ngClassDirty,Zl(t,31).ngClassValid,Zl(t,31).ngClassInvalid,Zl(t,31).ngClassPending),e(t,34,0,!Zl(t,5).valid)}))}function qf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-account-mgmt",[],null,null,null,$f,Bf)),ar(1,114688,null,0,zf,[Lg,Dg,Ng,xg,Zh],null,null)],(function(e,t){e(t,1,0)}),null)}var Gf=Vl("app-iam-account-mgmt",zf,qf,{},{},[]);class Kf{constructor(e,t,n,l){this.settingsService=e,this.tokenService=t,this.credentialService=n,this.orgaService=l,this.usersDisplayName="",this.loggedInAs="",this.authLevel="",this.credentials=[],this.orgaAndUserList=[]}ngOnInit(){this.settingsService.setTitle("User-Infos"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getAccount(),this._initMembers()}_initMembers(){this.credentials=this.credentialService.getAllCredentialsForUser(this.principal.id),this._setLoggedInInfo(),this._setOrgasMemberships()}_setLoggedInInfo(){let e=this.tokenService.getOrgaUser();e&&e.id?this.loggedInAs="Organisations-Identit\xe4t <"+e.name+"> in der Organisation: <"+this.tokenService.getOrgaName()+">":(e=this.tokenService.getAccount(),this.loggedInAs="Account-Identit\xe4t <"+e.name+">"),this.authLevel=this.tokenService.getAuthLevelAsString()}_setOrgasMemberships(){const e=this.tokenService.getToken();e.availableOrgas&&e.availableOrgas.forEach(e=>{this.orgaAndUserList.push({orga:e,user:this.orgaService.findOrgaUserByAccountId(e.id,this.principal.id)})})}getCredentialTypeAsString(e){return Pg[this.credentials[e].type]}getCredentialDescription(e){const t=this.credentials[e];let n="Kennung: <"+t.kennung+">";return t.type>9&&t.orgaId&&(n+=" ("+t.orgaId+")"),t.type===Pg.SocialLogin&&(n=t.provider+"-ID: "+t.userIdFromProvider),n+", Auth-Level: <"+Ag[this.tokenService.determineAuthLevel(t)]+">"}}let Wf=(()=>{class e{constructor(e){this.fakeBackend=e}getAllCredentialsForUser(e){return this.fakeBackend.getAllCredentials(e)}removeCredential(e){this.fakeBackend.removeCredential(e)}addNewCredential(e){return this.fakeBackend.addNewCredential(e)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug))},token:e,providedIn:"root"}),e})();var Zf=tl({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;margin-left:0!important;float:left}.verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:18em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}hr[_ngcontent-%COMP%]{float:left;width:50em;height:3px;background:teal;margin-top:.4em;margin-bottom:.2em}"]],data:{}});function Qf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(4,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,2,0,n.getCredentialTypeAsString(t.context.index)),e(t,4,0,n.getCredentialDescription(t.context.index))}))}function Jf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(2,null,[" "," (",") "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(4,null,[" "," (",") "]))],null,(function(e,t){e(t,2,0,t.context.$implicit.orga.name,t.context.$implicit.orga.id),e(t,4,0,t.context.$implicit.user.name,t.context.$implicit.user.id)}))}function Yf(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["In folgenden Organisationen bist du Mitglied, hast also eine Organisations-Identit\xe4t:"])),(e()(),Qi(5,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Jf)),ar(7,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,7,0,t.component.orgaAndUserList)}),null)}function Xf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(1,null,[" Hallo ",""])),(e()(),Qi(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(3,null,["Du bist angemeldet als ","."])),(e()(),Qi(4,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(5,null,["Dein aktuelles Authentifizierungsniveau ist: <",">."])),(e()(),Qi(6,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Du hast folgende Zugangsmedien:"])),(e()(),Qi(8,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Qf)),ar(10,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Yf)),ar(12,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,10,0,n.credentials),e(t,12,0,n.orgaAndUserList.length>0)}),(function(e,t){var n=t.component;e(t,1,0,n.usersDisplayName),e(t,3,0,n.loggedInAs),e(t,5,0,n.authLevel)}))}function em(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-user-info",[],null,null,null,Xf,Zf)),ar(1,114688,null,0,Kf,[xg,Dg,Wf,zg],null,null)],(function(e,t){e(t,1,0)}),null)}var tm=Vl("app-iam-user-info",Kf,em,{},{},[]);class nm{constructor(e,t,n,l){this.settingsService=e,this.tokenService=t,this.credentialService=n,this.authService=l,this.usersDisplayName="",this.credentials=[]}ngOnInit(){this.settingsService.setTitle("Zugangsmedien-Verwaltung"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getAccount(),this.enumOptions=[{text:"Benutzerkonto",type:Pg.Benutzerkonto},{text:"Benutzerkonto mit Sms-Tan",type:Pg.SmsTan},{text:"SmartCard",type:Pg.SmartCard},{text:"SmartLogin",type:Pg.SmartLogin}],this._initMembers()}_initMembers(){this.credentials=this.credentialService.getAllCredentialsForUser(this.principal.id),this.newCredential={accountId:this.principal.id,type:Pg.Benutzerkonto,kennung:"",secret:""}}getCredentialTypeAsString(e){return Pg[this.credentials[e].type]}getCredentialDescription(e){const t=this.credentials[e];let n="";return t.type>=Pg.StartSpezialTypen&&t.orgaId&&(n=" ("+t.orgaId+")"),t.type===Pg.SocialLogin?t.provider+"-ID: "+t.userIdFromProvider:t.kennung+n}removeCredential(e){this.credentialService.removeCredential(this.credentials[e].id),this._initMembers()}addNewCredential(){this.credentialService.addNewCredential(this.newCredential)?this._initMembers():alert("Das Anlegen des Zugangsmediums hat nicht geklappt...")}linkWithGoogleLogin(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{e?(console.log("provider: "+e.provider),console.log("id: "+e.id),this.newCredential.type=Pg.SocialLogin,this.newCredential.kennung="",this.newCredential.secret="",this.newCredential.provider="google",this.newCredential.userIdFromProvider=e.id,this.addNewCredential()):(alert("Google-Login hat nicht geklappt."),console.log("Google-Login hat nicht geklappt."))}).catch(e=>alert("Google-Login hat nicht geklappt: "+e))}}var lm=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:13em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:25em;text-align:left}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}hr[_ngcontent-%COMP%]{height:3px;background:teal;margin-top:0;margin-bottom:0}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]:disabled, .btnDelete[_ngcontent-%COMP%]:disabled:hover{background-color:#d3d3d3!important}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.row[_ngcontent-%COMP%]{margin-bottom:0!important}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function rm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btnDelete"],["style","position: absolute; right: 0.7em;"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.removeCredential(e.parent.context.index)&&l),l}),null,null)),(e()(),us(-1,null,[" L\xf6schen"]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.type>9)}))}function im(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(4,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,rm)),ar(6,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,6,0,1!==t.component.credentials.length)}),(function(e,t){var n=t.component;e(t,2,0,n.getCredentialTypeAsString(t.context.index)),e(t,4,0,n.getCredentialDescription(t.context.index))}))}function sm(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ar(1,147456,null,0,Cp,[dn,mn,[2,wp]],{ngValue:[0,"ngValue"]},null),ar(2,147456,null,0,kp,[dn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),us(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit.type),e(t,2,0,t.context.$implicit.type)}),(function(e,t){e(t,3,0,t.context.$implicit.text)}))}function om(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(1,null,[" Hallo ",", das sind deine Zugangsmedien:"])),(e()(),Qi(2,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,im)),ar(4,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(5,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(6,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(7,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(-1,null,['Hier kannst du neue Zugangsmedien "bestellen".'])),(e()(),Qi(9,0,null,null,43,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,11).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,11).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.addNewCredential()&&l),l}),null,null)),ar(10,16384,null,0,Jp,[],null,null),ar(11,4210688,[["registrationForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(13,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(14,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(15,0,null,null,8,"div",[["class","input-field col s4"]],null,null,null,null,null)),(e()(),Qi(16,0,null,null,7,"select",[["class","browser-default"],["name","credTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,17).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,17).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.newCredential.type=n)&&l),l}),null,null)),ar(17,16384,null,0,wp,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[wp]),ar(19,671744,[["credTyp",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(21,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,sm)),ar(23,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(24,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,1,"label",[["for","kennung"]],null,null,null,null,null)),(e()(),us(-1,null,["Kennung (Mussfeld, darf noch nicht existieren)"])),(e()(),Qi(28,0,null,null,8,"input",[["appAutofocus",""],["class","form-control"],["id","kennung"],["name","kennung"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,29)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,29).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,29)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,29)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newCredential.kennung=n)&&l),l}),null,null)),ar(29,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(30,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(33,671744,[["kennung",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(35,16384,null,0,op,[[4,ip]],null,null),ar(36,4210688,null,0,nf,[dn],null,null),(e()(),Qi(37,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(38,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),us(-1,null,["Passwort (Mussfeld)"])),(e()(),Qi(40,0,null,null,7,"input",[["class","form-control"],["id","secret"],["name","secret"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,41)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,41).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,41)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,41)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newCredential.secret=n)&&l),l}),null,null)),ar(41,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(42,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(45,671744,[["secret",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(47,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(48,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(49,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Hinzuf\xfcgen"])),(e()(),Qi(51,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.linkWithGoogleLogin()&&l),l}),null,null)),(e()(),us(-1,null,["mit Google-Login verkn\xfcpfen"]))],(function(e,t){var n=t.component;e(t,4,0,n.credentials),e(t,19,0,"credTyp",n.newCredential.type),e(t,23,0,n.enumOptions),e(t,30,0,""),e(t,33,0,"kennung",n.newCredential.kennung),e(t,42,0,""),e(t,45,0,"secret",n.newCredential.secret)}),(function(e,t){e(t,1,0,t.component.usersDisplayName),e(t,9,0,Zl(t,13).ngClassUntouched,Zl(t,13).ngClassTouched,Zl(t,13).ngClassPristine,Zl(t,13).ngClassDirty,Zl(t,13).ngClassValid,Zl(t,13).ngClassInvalid,Zl(t,13).ngClassPending),e(t,16,0,Zl(t,21).ngClassUntouched,Zl(t,21).ngClassTouched,Zl(t,21).ngClassPristine,Zl(t,21).ngClassDirty,Zl(t,21).ngClassValid,Zl(t,21).ngClassInvalid,Zl(t,21).ngClassPending),e(t,28,0,Zl(t,30).required?"":null,Zl(t,35).ngClassUntouched,Zl(t,35).ngClassTouched,Zl(t,35).ngClassPristine,Zl(t,35).ngClassDirty,Zl(t,35).ngClassValid,Zl(t,35).ngClassInvalid,Zl(t,35).ngClassPending),e(t,40,0,Zl(t,42).required?"":null,Zl(t,47).ngClassUntouched,Zl(t,47).ngClassTouched,Zl(t,47).ngClassPristine,Zl(t,47).ngClassDirty,Zl(t,47).ngClassValid,Zl(t,47).ngClassInvalid,Zl(t,47).ngClassPending),e(t,49,0,!Zl(t,11).valid)}))}function am(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-creds-mgmt",[],null,null,null,om,lm)),ar(1,114688,null,0,nm,[xg,Dg,Wf,Vo],null,null)],(function(e,t){e(t,1,0)}),null)}var um=Vl("app-iam-creds-mgmt",nm,am,{},{},[]);class cm{constructor(e,t,n){this.settingsService=e,this.tokenService=t,this.organizationService=n,this.usersDisplayName="",this.orgas=[],this.allowJoiningOrgaByAccount=!0,this.searchOrgaId="",this.foundOrgaDisplayname="",this.mShowSearch=!1,this.mShowNewPart=!1}get showSearch(){return this.mShowSearch}set showSearch(e){this.mShowSearch=e,this.mShowSearch&&(this.mShowNewPart=!1)}get showNewPart(){return this.mShowNewPart}set showNewPart(e){this.mShowNewPart=e,this.mShowNewPart&&(this.mShowSearch=!1)}ngOnInit(){this.settingsService.setTitle("Organisations-Verwaltung"),this.principal=this.tokenService.getAccount(),this.allowJoiningOrgaByAccount=this.settingsService.allowJoiningOrganizationByAccount(),this.usersDisplayName=this.principal.name,this.typeOptions=[{text:"Privat",type:Mg.Privat},{text:"Unternehmen",type:Mg.Unternehmen},{text:"Kanzlei",type:Mg.Kanzlei}],this.initMembers()}initMembers(){this.foundOrgaDisplayname="Bitte erst suchen...",this.foundOrganization={name:""},this.newOrganization={name:"",type:Mg.Privat},this.newOrgaUserJoinOrga={accountId:this.principal.id,name:this.principal.name},this.newOrgaUserNewOrga={accountId:this.principal.id,adminType:Rg.SuperAdmin,name:this.principal.name},this.searchOrgaId="",this.orgas=this.organizationService.getAllOrgasForUser(this.principal.id)}getOrganizationTypeAsString(e){return Mg[e]}leaveOrganization(e){const t=this.orgas[e].orga.id,n=this.tokenService.getToken().organization;if(n&&t===n.id){if(!confirm("Du verl\xe4sst die Organisation, in der du angemeldet bist.\nDu wirst damit umgemeldet! Ist das OK?"))return;this.tokenService.logoutFromOrganization(n.id)}this.organizationService.leaveOrganizationByAccountId(this.orgas[e].orga.id,this.principal.id),this.initMembers()}_arrangeFoundDisplayname(){this.foundOrgaDisplayname="Bitte erst suchen...";const e=this.foundOrganization;void 0===e.id?this.foundOrgaDisplayname="Gesuchte Organisation gibt es nicht.":this.organizationService.accountIsAlreadyMemberInOrga(e.id,this.principal.id)?(this.foundOrgaDisplayname="In "+e.name+" bist du schon Mitglied.",this.foundOrganization.id=void 0):this.foundOrgaDisplayname=e.name}searchOrganization(){const e=parseInt(this.searchOrgaId,10);this.foundOrganization=Object.assign({},this.organizationService.findOrgaById(e)),this._arrangeFoundDisplayname()}joinFoundOrganization(){this.foundOrganization.id&&this.organizationService.joinOrganization(this.foundOrganization.id,this.newOrgaUserJoinOrga)&&this.initMembers()}createNewOrganization(){this.organizationService.createNewOrganization(this.newOrganization,this.newOrgaUserNewOrga),this.initMembers()}}var dm=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:8em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:25em;text-align:left}.verweise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:right;margin-right:.7em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:2em;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}.toggled-container[_ngcontent-%COMP%]{margin-top:1em}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#000}.row[_ngcontent-%COMP%]{margin-bottom:0!important}"]],data:{}});function hm(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(4,null,[" "," (",") "])),(e()(),Qi(5,0,null,null,2,"div",[["class","buttons-right-div"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,1,"button",[["class","btnInListe "]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.leaveOrganization(e.context.index)&&l),l}),null,null)),(e()(),us(-1,null,[" Organisation verlassen"]))],null,(function(e,t){e(t,2,0,t.component.getOrganizationTypeAsString(t.context.$implicit.orga.type)),e(t,4,0,t.context.$implicit.orga.name,t.context.$implicit.orgaUser.name)}))}function gm(e){return hs(0,[(e()(),Qi(0,0,null,null,52,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,9,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,8,"label",[["for","toggle-suche"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,5,"input",[["id","toggle-suche"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,4).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,4).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.showSearch=n)&&l),l}),null,null)),ar(4,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(6,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(8,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(10,null,["",""])),(e()(),Qi(11,0,null,null,41,"div",[["class","col s12"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(12,0,null,null,10,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(13,0,null,null,6,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(14,0,null,null,5,"input",[["placeholder","hier Organisations-ID eingeben..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,15)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,15).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,15)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,15)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.searchOrgaId=n)&&l),"keydown.enter"===t&&(l=!1!==r.searchOrganization()&&l),l}),null,null)),ar(15,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(17,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(19,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(20,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(21,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.searchOrganization()&&l),l}),null,null)),(e()(),us(-1,null,[" Suche Organisation "])),(e()(),Qi(23,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(24,0,null,null,4,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,1,"span",[["class","list-item-text-left"],["style","font-weight: bold; "]],null,null,null,null,null)),(e()(),us(26,null,["",""])),(e()(),Qi(27,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(28,null,["",""])),(e()(),Qi(29,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(30,0,null,null,22,"form",[["class","row valign-wrapper"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,32).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,32).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.joinFoundOrganization()&&l),l}),null,null)),ar(31,16384,null,0,Jp,[],null,null),ar(32,4210688,[["newOrgaUserForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(34,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(35,0,null,null,14,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,4,"label",[["for","userName1"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(38,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(39,{active:0}),(e()(),us(-1,null,["Dein Mitarbeitername in der Organisation"])),(e()(),Qi(41,0,null,null,8,"input",[["class","form-control"],["id","userName1"],["minlength","3"],["name","userName1"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,42)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,42).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,42)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,42)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newOrgaUserJoinOrga.name=n)&&l),l}),null,null)),ar(42,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(43,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(44,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(47,671744,[["userName1",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(49,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(50,0,null,null,2,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(51,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Organisation beitreten"]))],(function(e,t){var n=t.component;e(t,6,0,n.showSearch),e(t,17,0,n.searchOrgaId);var l=e(t,39,0,n.newOrgaUserJoinOrga.name);e(t,38,0,l),e(t,43,0,""),e(t,44,0,"3"),e(t,47,0,"userName1",n.newOrgaUserJoinOrga.name)}),(function(e,t){var n=t.component;e(t,3,0,Zl(t,8).ngClassUntouched,Zl(t,8).ngClassTouched,Zl(t,8).ngClassPristine,Zl(t,8).ngClassDirty,Zl(t,8).ngClassValid,Zl(t,8).ngClassInvalid,Zl(t,8).ngClassPending),e(t,10,0,n.showSearch?"<Einer bestehenden Organisation beitreten> ausblenden":"<Einer bestehenden Organisation beitreten> einblenden"),e(t,11,0,!n.showSearch),e(t,14,0,Zl(t,19).ngClassUntouched,Zl(t,19).ngClassTouched,Zl(t,19).ngClassPristine,Zl(t,19).ngClassDirty,Zl(t,19).ngClassValid,Zl(t,19).ngClassInvalid,Zl(t,19).ngClassPending),e(t,26,0,n.getOrganizationTypeAsString(n.foundOrganization.type)),e(t,28,0,n.foundOrgaDisplayname),e(t,30,0,Zl(t,34).ngClassUntouched,Zl(t,34).ngClassTouched,Zl(t,34).ngClassPristine,Zl(t,34).ngClassDirty,Zl(t,34).ngClassValid,Zl(t,34).ngClassInvalid,Zl(t,34).ngClassPending),e(t,41,0,Zl(t,43).required?"":null,Zl(t,44).minlength?Zl(t,44).minlength:null,Zl(t,49).ngClassUntouched,Zl(t,49).ngClassTouched,Zl(t,49).ngClassPristine,Zl(t,49).ngClassDirty,Zl(t,49).ngClassValid,Zl(t,49).ngClassInvalid,Zl(t,49).ngClassPending),e(t,51,0,void 0===n.foundOrganization.id||!Zl(t,32).valid)}))}function pm(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ar(1,147456,null,0,Cp,[dn,mn,[2,wp]],{ngValue:[0,"ngValue"]},null),ar(2,147456,null,0,kp,[dn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),us(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit.type),e(t,2,0,t.context.$implicit.type)}),(function(e,t){e(t,3,0,t.context.$implicit.text)}))}function fm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(1,null,[" Hallo ",", in diesen Organisationen bist du Mitglied:"])),(e()(),Qi(2,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,hm)),ar(4,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,gm)),ar(6,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(7,0,null,null,54,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(9,0,null,null,8,"label",[["for","toggle-new"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,5,"input",[["id","toggle-new"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,11).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,11).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.showNewPart=n)&&l),l}),null,null)),ar(11,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(13,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(15,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(17,null,["",""])),(e()(),Qi(18,0,null,null,43,"div",[["class","row toggled-container"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(19,0,null,null,42,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,21).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,21).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.createNewOrganization()&&l),l}),null,null)),ar(20,16384,null,0,Jp,[],null,null),ar(21,4210688,[["newOrgaForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(23,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(24,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,8,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,7,"select",[["class","browser-default"],["name","orgaTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,27).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,27).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.newOrganization.type=n)&&l),l}),null,null)),ar(27,16384,null,0,wp,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[wp]),ar(29,671744,[["orgaTyp",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(31,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,pm)),ar(33,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(34,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(35,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,1,"label",[["for","orgaName"]],null,null,null,null,null)),(e()(),us(-1,null,["Name der Organisation"])),(e()(),Qi(38,0,null,null,7,"input",[["class","form-control"],["id","orgaName"],["name","orgaName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,39)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,39).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,39)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,39)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newOrganization.name=n)&&l),l}),null,null)),ar(39,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(40,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(43,671744,[["orgaName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(45,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(46,0,null,null,13,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(47,0,null,null,4,"label",[["for","userName"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(49,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(50,{active:0}),(e()(),us(-1,null,["Dein Mitarbeitername in der Organisation"])),(e()(),Qi(52,0,null,null,7,"input",[["class","form-control"],["id","userName"],["name","userName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,53)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,53).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,53)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,53)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newOrgaUserNewOrga.name=n)&&l),l}),null,null)),ar(53,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(54,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(57,671744,[["userName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(59,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(60,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Organisation anlegen"]))],(function(e,t){var n=t.component;e(t,4,0,n.orgas),e(t,6,0,!0===n.allowJoiningOrgaByAccount),e(t,13,0,n.showNewPart),e(t,29,0,"orgaTyp",n.newOrganization.type),e(t,33,0,n.typeOptions),e(t,40,0,""),e(t,43,0,"orgaName",n.newOrganization.name);var l=e(t,50,0,n.newOrgaUserNewOrga.name);e(t,49,0,l),e(t,54,0,""),e(t,57,0,"userName",n.newOrgaUserNewOrga.name)}),(function(e,t){var n=t.component;e(t,1,0,n.usersDisplayName),e(t,10,0,Zl(t,15).ngClassUntouched,Zl(t,15).ngClassTouched,Zl(t,15).ngClassPristine,Zl(t,15).ngClassDirty,Zl(t,15).ngClassValid,Zl(t,15).ngClassInvalid,Zl(t,15).ngClassPending),e(t,17,0,n.showNewPart?"<Eine neue Organisation anlegen> ausblenden":"<Eine neue Organisation anlegen> einblenden"),e(t,18,0,!n.showNewPart),e(t,19,0,Zl(t,23).ngClassUntouched,Zl(t,23).ngClassTouched,Zl(t,23).ngClassPristine,Zl(t,23).ngClassDirty,Zl(t,23).ngClassValid,Zl(t,23).ngClassInvalid,Zl(t,23).ngClassPending),e(t,26,0,Zl(t,31).ngClassUntouched,Zl(t,31).ngClassTouched,Zl(t,31).ngClassPristine,Zl(t,31).ngClassDirty,Zl(t,31).ngClassValid,Zl(t,31).ngClassInvalid,Zl(t,31).ngClassPending),e(t,38,0,Zl(t,40).required?"":null,Zl(t,45).ngClassUntouched,Zl(t,45).ngClassTouched,Zl(t,45).ngClassPristine,Zl(t,45).ngClassDirty,Zl(t,45).ngClassValid,Zl(t,45).ngClassInvalid,Zl(t,45).ngClassPending),e(t,52,0,Zl(t,54).required?"":null,Zl(t,59).ngClassUntouched,Zl(t,59).ngClassTouched,Zl(t,59).ngClassPristine,Zl(t,59).ngClassDirty,Zl(t,59).ngClassValid,Zl(t,59).ngClassInvalid,Zl(t,59).ngClassPending),e(t,60,0,!Zl(t,21).valid)}))}function mm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-orga-mgmt",[],null,null,null,fm,dm)),ar(1,114688,null,0,cm,[xg,Dg,zg],null,null)],(function(e,t){e(t,1,0)}),null)}var vm=Vl("app-iam-orga-mgmt",cm,mm,{},{},[]);class ym{constructor(e,t,n,l,r,i,s,o,a,u){this.settingsService=e,this.tokenService=t,this.accountService=n,this.orgaService=l,this.mailService=r,this.notificationService=i,this.organizationService=s,this.accessService=o,this.eventService=a,this.router=u,this.users=[],this.usersDisplayName="",this.mShowInviteUser=!1,this.mShowInviteForeign=!0,this.nothingFound=!0,this.searchResult2Display="",this.newForeignProxyUser={}}get showInviteUser(){return this.mShowInviteUser}set showInviteUser(e){this.mShowInviteUser=e,this.mShowInviteUser&&(this.mShowInviteForeign=!1,this.cancelEditMode())}get showInviteForeign(){return this.mShowInviteForeign}set showInviteForeign(e){this.mShowInviteForeign=e,this.mShowInviteForeign&&(this.mShowInviteUser=!1,this.cancelEditMode())}ngOnInit(){this.settingsService.setTitle("Organisations-Administration"),this.principal=this.tokenService.getOrgaUser(),this.usersDisplayName=this.principal.name,this.organization=this.orgaService.findOrgaById(this.principal.orgaId),this.enumOptions=[{text:"Kein Administrator",type:Rg.MemberOnly},{text:"Administrator",type:Rg.Admin},{text:"Haupt-Administrator",type:Rg.SuperAdmin}],this.initMembers()}initMembers(){this.users=this.orgaService.getAllOrgaUsers(this.principal.orgaId),this.user2edit={name:""},this.newUser={name:"",email:""},this.searchResult2Display="",this.searchForeignInput="",this.nothingFound=!0,this.newForeignProxyUser={}}enterEditMode(e){this.user2edit=Object.assign({},this.users[e]),this.user2edit.adminType||(this.user2edit.adminType=Rg.MemberOnly),this.mShowInviteUser=!1,this.mShowInviteForeign=!1}cancelEditMode(){this.user2edit={name:""}}persistEditUserChanges(){this.user2edit.name.length<=0||(this.orgaService.updateOrgaUser(this.user2edit),this.initMembers())}getUserIdAndAdminTypeAsString(e){let t="";const n=this.users[e];return n.adminType&&n.adminType>=Rg.Admin&&(t=": "+Rg[n.adminType]),n.id+t}removeUserFromOrga(e){const t=this.users[e];let n=!1;if(this.principal.id===t.id){if(!confirm("Du l\xf6schst dich gerade selbst? \nIst das OK?"))return;n=!0}this.orgaService.leaveOrganizationByOrgaUser(t.id),n?(this.tokenService.logoutFromOrganization(this.organization.id),this.router.navigateByUrl("/")):this.initMembers()}deleteOrganisation(){confirm("Willst du wirklich die gesamte Organsation \n- mit allen Anwendern, Ressourcen und Rechten l\xf6schen?")&&(this.orgaService.deleteOrganization(this.organization.id),this.tokenService.logoutFromOrganization(this.organization.id),this.router.navigateByUrl("/"))}inviteUser(){let e={name:this.newUser.name,orgaId:this.organization.id};e=this.orgaService.joinOrganization(this.organization.id,e);const t=this.accountService.findAccountByMail(this.newUser.email);let n,l=Vg.InvitationOrgaUser;t&&(this.notificationService.addNotification({type:Fg.InvitationOrgaUser,accountAsRecipient:t,orgaUser:e}),l=Vg.InfoOfInvitationOrgaUser,n=t),this.mailService.addMailTask({type:l,email:this.newUser.email,account:n,orgaUser:e}),this.initMembers()}isForeign(e){return!(!e.foreignOrgaId&&!e.foreignUserId)}inviteForeign(){if(this.newForeignProxyUser.foreignOrganization||this.newForeignProxyUser.foreignUser){let e={name:this.newForeignProxyUser.newName,orgaId:this.organization.id};this.newForeignProxyUser.foreignOrganization?e.foreignOrgaId=this.newForeignProxyUser.foreignOrganization.id:e.foreignUserId=this.newForeignProxyUser.foreignUser.id,e=this.orgaService.joinOrganization(this.organization.id,e)}this.initMembers()}getOrganizationTypeAsString(e){return Mg[e]}_arrangeDisplaynameForFoundOrga(e){e&&e.id&&(this.principal.orgaId===e.id?this.searchResult2Display="Das ist deine eigene Organisation!":this.organizationService.foreignOrgaIsAlreadyMemberInOrga(this.organization.id,e.id)?this.searchResult2Display=e.name+" hast du schon eingeladen.":(this.nothingFound=!1,this.searchResult2Display=e.name+" (Typ: "+this.getOrganizationTypeAsString(e.type)+")",this.newForeignProxyUser.foreignOrganization=e,this.newForeignProxyUser.newName="Orga - <"+e.name+">"))}_arrangeDisplaynameForFoundOrgaUser(e){e&&(this.principal.orgaId===e.orgaId?this.searchResult2Display="Der Benutzer ist direktes Mitglied deiner Organisation!":this.organizationService.foreignUserIsAlreadyMemberInOrga(this.organization.id,e.id)?this.searchResult2Display=e.name+" hast du schon eingeladen.":(this.nothingFound=!1,this.searchResult2Display=e.name+" (Typ: Anwender)",this.newForeignProxyUser.foreignUser=e,this.newForeignProxyUser.newName="User - <"+e.name+">"))}search4ForeignUserOrOrga(){this.newForeignProxyUser={},this.nothingFound=!0;const e=parseInt(this.searchForeignInput,10),t=this.organizationService.findOrgaById(e);if(t)this._arrangeDisplaynameForFoundOrga(t);else{const t=this.organizationService.findOrgaUserByOrgaUserId(e);t?this._arrangeDisplaynameForFoundOrgaUser(t):this.searchResult2Display="Weder Organisation noch User mit dieser ID gefunden."}}}var bm=function(e){return e[e.FolderRoot=1]="FolderRoot",e[e.Folder=2]="Folder",e[e.FibuStatic=3]="FibuStatic",e}({});let _m=(()=>{class e{constructor(e,t,n){this.tokenService=e,this.orgaService=t,this.eventService=n,this.isActive=!0,this.resourceTypes=[],this.resources=[],this.accessRights=[],this.readFolderPermissionKey="read",this.writeFolderPermissionKey="write",this.deleteFolderPermissionKey="delete",this.createFolderPermissionKey="create",this._setTestResourceTypes(),this._setTestResources(),this._setTestPermissions(),this.eventService.idmEvent.pipe(Go(()=>this.isActive)).subscribe(e=>this._onIdmEvent(e))}ngOnDestroy(){this.isActive=!1}_onIdmEvent(e){switch(e.type){case Eg.OrgaUserRemoved:this._onOrgaUserRemoval(e.orgaUser);break;case Eg.OrganisationRemoved:this._onOrganizationRemoval(e.organizationId)}}hasPermission(e,t,n){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===t.type&&l.resourceId===t.id&&l.permission===n)}hasAdministratedPermission(e,t,n){return this.isForeignResource(e)?this._permissionAdministrable(t.id,e,n):this.isForeignUser(t)?this._getPermissions4foreignUser4administrationView(t.foreignUserId,e,n):this.hasPermission(t.id,e,n)}getAllResources4UserWithAtLeastOneOfGivenPermissions(e,t,n){if(!n)return[];const l=this.accessRights.filter(l=>l.userId===e&&l.resourceType===t&&n.includes(l.permission)).map(e=>e.resourceId);return l.filter((e,t)=>l.indexOf(e)===t)}getAllResources4UserWithAllOfGivenPermissions(e,t,n){if(!n)return[];const l=this.accessRights.filter(n=>n.userId===e&&n.resourceType===t),r=[];return l.forEach(e=>{let t=!0;for(const r in n)if(!l.find(t=>t.resourceId===e.resourceId&&t.permission===n[r])){t=!1;break}t&&r.push(e.resourceId)}),r.filter((e,t)=>r.indexOf(e)===t)}getAllResources4UserWithAtLeastOnePermission(e,t){const n=this.accessRights.filter(n=>n.userId===e&&n.resourceType===t).map(e=>e.resourceId);return n.filter((e,t)=>n.indexOf(e)===t)}getAllResourcesOwnedByOrDelegatedToOrga(e,t){const n=this.accessRights.filter(n=>n.resourceType===e&&(n.resourceOwningOrgaId===t||n.proxyResourceOrgaId===t)).map(e=>e.resourceId);return n.filter((e,t)=>n.indexOf(e)===t)}permissionIsAdministrable(e,t,n){return!!this.isOwnResource(e)||!this.isForeignUser(t)&&!this.isForeignOrga(t)&&this._hasDelegatedPermissionToCurrentOrga(e,n)}isForeignUser(e){return!!e.foreignUserId}isForeignOrga(e){return!!e.foreignOrgaId}isForeignResource(e){return!this.isOwnResource(e)}isForeignResourceOfUser(e,t){return t.orgaId!==e.orgaId}isOwnResource(e){return e.orgaId===this._getPrincipal().orgaId}setPermissionsOfUser2resource(e,t,n){return this.isForeignUser(e)?this._setPermissionsOfUser2resource4directForeignUser(e,t,n):this.isForeignOrga(e)?this._setPermissionsOfUser2resource4ForeignOrga(e,t,n):this.isForeignResourceOfUser(e,t)?this._setPermissionsOfUser2resource4foreignUserDelegated(e,t,n):this._setPermissionsOfUser2resource4ownUser(e,t,n)}createNewResource(e){const t=this._findResourceType(e.type);if(!t||!t.dynamic)throw new Error("Resource ist nicht dynamisch...");this.resources.push(e),t.defaultPermissionsOnCreate&&t.defaultPermissionsOnCreate.forEach(t=>{this._setAccessRight(this._getPrincipal().id,this._getPrincipal().orgaId,e,t)})}removeResource(e){for(;;){const t=this.accessRights.findIndex(t=>t.resourceType===e.type&&t.resourceId===e.id);if(!(t>=0))break;this.accessRights.splice(t,1)}}_onOrganizationRemoval(e){for(;;){const t=this.accessRights.findIndex(t=>t.usersOrgaId===e||t.resourceOwningOrgaId===e);if(!(t>=0))break;this.accessRights.splice(t,1)}}_onOrgaUserRemoval(e){this.isForeignUser(e)?this._removeAllPersmissionsOfGivenUserFromAllResourcesOwnedByGivenOrgaId(e.foreignUserId,e.orgaId):this.isForeignOrga(e)?(this._removeAllPermissionsOfProxyOrgaIdFromAllResourcesOwnedByGivenOrgaId(e.foreignOrgaId,e.orgaId),this._removeAllUserOfGivenOrgaIdFromAllResourcesOwnedByGivenOrgaId(e.foreignOrgaId,e.orgaId)):this._removeAllPermissionsOfUser(e.id)}_setPermissionsOfUser2resource4ownUser(e,t,n){this._removeAllPermissionsOfUser4resource(e.id,t,void 0),n.forEach(n=>this._setAccessRight(e.id,e.orgaId,t,n,void 0))}_setPermissionsOfUser2resource4directForeignUser(e,t,n){const l=e.foreignUserId,r=this.orgaService.findOrgaUserByOrgaUserId(e.foreignUserId).orgaId;this._removeAllPermissionsOfUser4resource(l,t,void 0),n.forEach(e=>this._setAccessRight(l,r,t,e,void 0))}_setPermissionsOfUser2resource4foreignUserDelegated(e,t,n){const l=e.orgaId;this._removeAllPermissionsOfUser4resource(e.id,t,l),n.forEach(n=>this._setAccessRight(e.id,e.orgaId,t,n,l))}_setPermissionsOfUser2resource4ForeignOrga(e,t,n){const l=e.foreignOrgaId;if(n.length<=0)this._removeProxyResourceAndAllPermissions2it(l,t);else{const r=this._getAllDelegatedPermissions4resource(e.id,l,t);n.forEach(e=>{const t=r.findIndex(t=>t===e);t>=0&&r.splice(t,1)}),r.forEach(e=>{this._removePermission4resourceDelegatedFromAllUsersOfGivenOrga(l,t,e)})}this._removeAllPermissionsOfUser4resource(e.id,t,l),n.forEach(n=>this._setAccessRight(e.id,e.orgaId,t,n,l))}_getNewUniqueId(){let e=0;return this.accessRights.forEach(t=>{t.id>e&&(e=t.id)}),e+1}_findResourceType(e){return this.resourceTypes.find(t=>t.typeId===e)}_findResource(e){return this.resources.find(t=>t.type===e.type&&t.id===e.id)}_assertPermissionRange(e,t){const n=this._findResourceType(e.type),l=this._findResource(e);if(!(n&&l&&n.possiblePermissions.includes(t)))throw new Error("Permission "+t+" not valid for type "+l.type)}_setAccessRight(e,t,n,l,r){this._assertPermissionRange(n,l),this.accessRights.push({id:this._getNewUniqueId(),userId:e,usersOrgaId:t,resourceType:n.type,resourceId:n.id,resourceOwningOrgaId:n.orgaId,permission:l,proxyResourceOrgaId:r})}_getPrincipal(){const e=this.tokenService.getOrgaUser();if(!e)throw new Error("Principal nicht gesetzt!");return e}_getAllDelegatedPermissions4resource(e,t,n){const l=this.accessRights.filter(l=>l.userId===e&&l.proxyResourceOrgaId===t&&l.resourceType===n.type&&l.resourceId===n.id).map(e=>e.permission);return l.filter((e,t)=>l.indexOf(e)===t)}_permissionAdministrable(e,t,n){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===t.type&&l.resourceId===t.id&&l.permission===n&&void 0!==l.proxyResourceOrgaId)}_getPermissions4foreignUser4administrationView(e,t,n){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===t.type&&l.resourceId===t.id&&l.permission===n&&void 0===l.proxyResourceOrgaId)}_hasDelegatedPermissionToCurrentOrga(e,t){return!!this.accessRights.find(n=>n.proxyResourceOrgaId===this._getPrincipal().orgaId&&n.resourceType===e.type&&n.resourceId===e.id&&n.permission===t)}_removeAllPermissionsOfUser4resource(e,t,n){for(;;){const l=this.accessRights.findIndex(l=>l.userId===e&&l.resourceType===t.type&&l.resourceId===t.id&&l.proxyResourceOrgaId===n);if(!(l>=0))break;this.accessRights.splice(l,1)}}_removeAllPermissionsOfUser(e){this.accessRights=this.accessRights.filter(t=>t.userId!==e)}_removePermission4resourceDelegatedFromAllUsersOfGivenOrga(e,t,n){let l;do{(l=this.accessRights.findIndex(l=>l.resourceType===t.type&&l.resourceId===t.id&&l.permission===n&&l.usersOrgaId===e&&l.proxyResourceOrgaId===e))>=0&&this.accessRights.splice(l,1)}while(l>=0)}_removeAllPersmissionsOfGivenUserFromAllResourcesOwnedByGivenOrgaId(e,t){for(;;){const n=this.accessRights.findIndex(n=>n.userId===e&&n.resourceOwningOrgaId===t);if(!(n>=0))break;this.accessRights.splice(n,1)}}_removeAllUserOfGivenOrgaIdFromAllResourcesOwnedByGivenOrgaId(e,t){for(;;){const n=this.accessRights.findIndex(n=>n.usersOrgaId===e&&n.resourceOwningOrgaId===t);if(!(n>=0))break;this.accessRights.splice(n,1)}}_removeAllPermissionsOfProxyOrgaIdFromAllResourcesOwnedByGivenOrgaId(e,t){for(;;){const n=this.accessRights.findIndex(n=>n.proxyResourceOrgaId===e&&n.resourceOwningOrgaId===t);if(!(n>=0))break;this.accessRights.splice(n,1)}}_removeProxyResourceAndAllPermissions2it(e,t){for(;;){const n=this.accessRights.findIndex(n=>n.proxyResourceOrgaId===e&&n.resourceType===t.type&&n.resourceId===t.id);if(!(n>=0))break;this.accessRights.splice(n,1)}}_setTestResourceTypes(){this.resourceTypes.push({typeId:bm.FolderRoot,dynamic:!1,displayName:"statischer Wurzel-Ordner",possiblePermissions:[this.createFolderPermissionKey]},{typeId:bm.Folder,dynamic:!0,displayName:"Ordner",possiblePermissions:[this.readFolderPermissionKey,this.writeFolderPermissionKey,this.deleteFolderPermissionKey],defaultPermissionsOnCreate:[this.readFolderPermissionKey]},{typeId:bm.FibuStatic,dynamic:!1,displayName:"Fibu-Statisch",possiblePermissions:["view","change"]})}_setTestResources(){this.resources.push({type:bm.FolderRoot,id:1,displayName:"statischer Wurzel-Ordner"},{type:bm.Folder,id:1,orgaId:300,displayName:"Notizen"},{type:bm.Folder,id:2,orgaId:300,displayName:"Steuersachen"},{type:bm.Folder,id:3,orgaId:300,displayName:"Golfausfl\xfcge"},{type:bm.Folder,id:4,orgaId:300,displayName:"Kollaboration von Heinzelmann f\xfcr Grubinger"},{type:bm.Folder,id:10,orgaId:301,displayName:"Rechtliches"},{type:bm.Folder,id:11,orgaId:301,displayName:"Kassenarchiv"},{type:bm.Folder,id:20,orgaId:302,displayName:"Finanzen"},{type:bm.Folder,id:21,orgaId:302,displayName:"Rechnungen"},{type:bm.FibuStatic,id:1,displayName:"Fibu-Statisch-Auswertungen"},{type:bm.FibuStatic,id:2,displayName:"Fibu-Statisch-Buchen"})}_setTestPermissions(){this._setAccessRight(400,300,{type:bm.FolderRoot,id:1,orgaId:300},this.createFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:1,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:1,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:1,orgaId:300},this.deleteFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:2,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:2,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:2,orgaId:300},this.deleteFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:3,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:3,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:3,orgaId:300},this.deleteFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:4,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:4,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(400,300,{type:bm.Folder,id:4,orgaId:300},this.deleteFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:1,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:1,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:2,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:2,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:4,orgaId:300},this.readFolderPermissionKey),this._setAccessRight(401,300,{type:bm.Folder,id:4,orgaId:300},this.writeFolderPermissionKey),this._setAccessRight(402,300,{type:bm.Folder,id:4,orgaId:300},this.readFolderPermissionKey,302),this._setAccessRight(402,300,{type:bm.Folder,id:4,orgaId:300},this.writeFolderPermissionKey,302),this._setAccessRight(420,302,{type:bm.Folder,id:4,orgaId:300},this.readFolderPermissionKey,302),this._setAccessRight(421,302,{type:bm.Folder,id:4,orgaId:300},this.readFolderPermissionKey,302),this._setAccessRight(421,302,{type:bm.Folder,id:4,orgaId:300},this.writeFolderPermissionKey,302),this._setAccessRight(410,301,{type:bm.FolderRoot,id:1,orgaId:301},this.createFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:10,orgaId:301},this.readFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:10,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:10,orgaId:301},this.deleteFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:11,orgaId:301},this.readFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:11,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(410,301,{type:bm.Folder,id:11,orgaId:301},this.deleteFolderPermissionKey),this._setAccessRight(411,301,{type:bm.Folder,id:10,orgaId:301},this.readFolderPermissionKey),this._setAccessRight(411,301,{type:bm.Folder,id:10,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(411,301,{type:bm.Folder,id:11,orgaId:301},this.readFolderPermissionKey),this._setAccessRight(411,301,{type:bm.Folder,id:11,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(412,301,{type:bm.Folder,id:10,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(412,301,{type:bm.Folder,id:11,orgaId:301},this.writeFolderPermissionKey),this._setAccessRight(420,302,{type:bm.FolderRoot,id:1,orgaId:302},this.createFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:20,orgaId:302},this.readFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:20,orgaId:302},this.writeFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:20,orgaId:302},this.deleteFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:21,orgaId:302},this.readFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:21,orgaId:302},this.writeFolderPermissionKey),this._setAccessRight(420,302,{type:bm.Folder,id:21,orgaId:302},this.deleteFolderPermissionKey),this._setAccessRight(421,302,{type:bm.Folder,id:20,orgaId:302},this.readFolderPermissionKey),this._setAccessRight(421,302,{type:bm.Folder,id:20,orgaId:302},this.writeFolderPermissionKey),this._setAccessRight(421,302,{type:bm.Folder,id:21,orgaId:302},this.readFolderPermissionKey),this._setAccessRight(421,302,{type:bm.Folder,id:21,orgaId:302},this.writeFolderPermissionKey)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(zg),Le(Ng))},token:e,providedIn:"root"}),e})();var wm=tl({encapsulation:0,styles:[['.verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:60em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:60em;position:relative;background-color:#eee;margin-bottom:.3em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-user[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:10em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}.buttons-right-div[_ngcontent-%COMP%]{float:right;margin-right:.7em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.editButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btn-delete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}hr[_ngcontent-%COMP%]{height:2px;background:#000;margin-top:1em;margin-bottom:1em;width:50em}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:.5em;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#000}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;border-bottom:.5px dotted #000}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#90ee90;color:#000;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-60px;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.row[_ngcontent-%COMP%]{margin-bottom:0!important}']],data:{}});function Cm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btn-delete"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.removeUserFromOrga(e.parent.context.index)&&l),l}),null,null)),(e()(),us(-1,null,[" Dich aus Organisation entfernen"]))],null,null)}function Sm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe "]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.removeUserFromOrga(e.parent.context.index)&&l),l}),null,null)),(e()(),us(-1,null,[" Benutzer aus Organisation entfernen"]))],null,null)}function km(e){return hs(0,[(e()(),Qi(0,0,null,null,16,"li",[],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(3,{"foreign-user":0}),(e()(),Qi(4,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(6,null,[" "," "])),(e()(),Qi(7,0,null,null,4,"div",[["class","tooltip"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text tooltip"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.enterEditMode(e.context.index)&&l),l}),null,null)),(e()(),us(9,null,[" "," "])),(e()(),Qi(10,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(e()(),us(-1,null,["Klicken zum \xc4ndern..."])),(e()(),Qi(12,0,null,null,4,"div",[["class"," buttons-right-div"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Cm)),ar(14,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Sm)),ar(16,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.isForeign(t.context.$implicit));e(t,2,0,l),e(t,14,0,t.context.$implicit.id===n.principal.id),e(t,16,0,t.context.$implicit.id!==n.principal.id)}),(function(e,t){e(t,6,0,t.component.getUserIdAndAdminTypeAsString(t.context.index)),e(t,9,0,t.context.$implicit.name)}))}function Im(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ar(1,147456,null,0,Cp,[dn,mn,[2,wp]],{ngValue:[0,"ngValue"]},null),ar(2,147456,null,0,kp,[dn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),us(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit.type),e(t,2,0,t.context.$implicit.type)}),(function(e,t){e(t,3,0,t.context.$implicit.text)}))}function Om(e){return hs(0,[(e()(),Qi(0,0,null,null,29,"div",[["class","row editButtons"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,23,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,8,"div",[["class","input-field col s5"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,7,"select",[["class","browser-default"],["name","credTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,5).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,5).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.user2edit.adminType=n)&&l),l}),null,null)),ar(5,16384,null,0,wp,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[wp]),ar(7,671744,[["credTyp",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(9,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,Im)),ar(11,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(12,0,null,null,12,"div",[["class","input-field col s7"]],null,null,null,null,null)),(e()(),Qi(13,0,null,null,1,"label",[["for","editName"]],null,null,null,null,null)),(e()(),us(-1,null,["Anwendernamen \xe4ndern (mind. 3 Zeichen)"])),(e()(),Qi(15,0,null,null,9,"input",[["appAutofocus",""],["id","editName"],["minlength","3"],["name","editName"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,16)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,16).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,16)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,16)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.user2edit.name=n)&&l),"keydown.enter"===t&&(l=!1!==r.persistEditUserChanges()&&l),l}),null,null)),ar(16,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(17,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(18,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(21,671744,[["editName",4]],0,Qp,[[8,null],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(23,16384,null,0,op,[[4,ip]],null,null),ar(24,4210688,null,0,nf,[dn],null,null),(e()(),Qi(25,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancelEditMode()&&l),l}),null,null)),(e()(),us(-1,null,[" Abbrechen "])),(e()(),Qi(27,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.persistEditUserChanges()&&l),l}),null,null)),(e()(),us(-1,null,[" \xdcbernehmen "])),(e()(),Qi(29,0,null,null,0,"hr",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,7,0,"credTyp",n.user2edit.adminType),e(t,11,0,n.enumOptions),e(t,17,0,""),e(t,18,0,"3"),e(t,21,0,"editName",n.user2edit.name)}),(function(e,t){e(t,4,0,Zl(t,9).ngClassUntouched,Zl(t,9).ngClassTouched,Zl(t,9).ngClassPristine,Zl(t,9).ngClassDirty,Zl(t,9).ngClassValid,Zl(t,9).ngClassInvalid,Zl(t,9).ngClassPending),e(t,15,0,Zl(t,17).required?"":null,Zl(t,18).minlength?Zl(t,18).minlength:null,Zl(t,23).ngClassUntouched,Zl(t,23).ngClassTouched,Zl(t,23).ngClassPristine,Zl(t,23).ngClassDirty,Zl(t,23).ngClassValid,Zl(t,23).ngClassInvalid,Zl(t,23).ngClassPending),e(t,27,0,!Zl(t,21).valid)}))}function xm(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Hier kannst du die komplette Organisation l\xf6schen."])),(e()(),Qi(4,0,null,null,1,"button",[["class","btn btn-default btn-delete"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.deleteOrganisation()&&l),l}),null,null)),(e()(),us(-1,null,["Organisation l\xf6schen"]))],null,null)}function Am(e){return hs(0,[(e()(),Qi(0,0,null,null,105,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(2,null,["Hier verwaltest du die Mitglieder von <",">."])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,km)),ar(5,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(6,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Om)),ar(8,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(9,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(10,0,null,null,8,"label",[["for","toggle-invite"]],null,null,null,null,null)),(e()(),Qi(11,0,null,null,5,"input",[["id","toggle-invite"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,12).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.showInviteUser=n)&&l),l}),null,null)),ar(12,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(14,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(18,null,["",""])),(e()(),Qi(19,0,null,null,31,"div",[["class","toggled-container"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(20,0,null,null,30,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,22).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,22).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.inviteUser()&&l),l}),null,null)),ar(21,16384,null,0,Jp,[],null,null),ar(22,4210688,[["inviteUserForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(24,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(25,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(27,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),us(-1,null,["Name des Mitarbeiters"])),(e()(),Qi(29,0,null,null,8,"input",[["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,30)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,30).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,30)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,30)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newUser.name=n)&&l),l}),null,null)),ar(30,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(31,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(32,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(35,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(37,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(38,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(39,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),us(-1,null,["Adresse f\xfcr Einladungs-Mail"])),(e()(),Qi(41,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,42)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,42).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,42)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,42)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newUser.email=n)&&l),l}),null,null)),ar(42,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(43,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(46,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(48,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(49,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Benutzer einladen"])),(e()(),Qi(51,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(52,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(53,0,null,null,8,"label",[["for","toggle-invite-orga"]],null,null,null,null,null)),(e()(),Qi(54,0,null,null,5,"input",[["id","toggle-invite-orga"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,55).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,55).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.showInviteForeign=n)&&l),l}),null,null)),ar(55,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(57,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(59,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(60,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(61,null,["",""])),(e()(),Qi(62,0,null,null,41,"div",[["class","toggled-container col s12"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(63,0,null,null,10,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(64,0,null,null,6,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(65,0,null,null,5,"input",[["placeholder","via Orga-ID oder User-ID suchen..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,66)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,66).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,66)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,66)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.searchForeignInput=n)&&l),"keydown.enter"===t&&(l=!1!==r.search4ForeignUserOrOrga()&&l),l}),null,null)),ar(66,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(68,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(70,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(71,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(72,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.search4ForeignUserOrOrga()&&l),l}),null,null)),(e()(),us(-1,null,[" Suchen "])),(e()(),Qi(74,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(75,0,null,null,4,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(76,0,null,null,1,"span",[["style","font-weight: bold; margin-right: 0.5em; "]],null,null,null,null,null)),(e()(),us(-1,null,["Suchergebnis: "])),(e()(),Qi(78,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(79,null,["",""])),(e()(),Qi(80,0,null,null,23,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,82).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,82).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.inviteForeign()&&l),l}),null,null)),ar(81,16384,null,0,Jp,[],null,null),ar(82,4210688,[["inviteForeignForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(84,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(85,0,null,null,18,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(86,0,null,null,14,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(87,0,null,null,4,"label",[["for","nameProxyForeign"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(89,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(90,{active:0}),(e()(),us(-1,null,["Bezeichnung des Stellvertreters"])),(e()(),Qi(92,0,null,null,8,"input",[["class","form-control"],["id","nameProxyForeign"],["minlength","3"],["name","nameProxyForeign"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,93)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,93).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,93)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,93)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newForeignProxyUser.newName=n)&&l),l}),null,null)),ar(93,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(94,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(95,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ur(1024,null,cp,(function(e,t){return[e,t]}),[Yp,Xp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(98,671744,[["nameProxyForeign",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(100,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(101,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(102,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["einladen"])),(e()(),Zi(16777216,null,null,1,null,xm)),ar(105,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.users),e(t,8,0,n.user2edit.id),e(t,14,0,n.showInviteUser),e(t,31,0,""),e(t,32,0,"3"),e(t,35,0,"name",n.newUser.name),e(t,43,0,""),e(t,46,0,"email",n.newUser.email),e(t,57,0,n.showInviteForeign),e(t,68,0,n.searchForeignInput);var l=e(t,90,0,n.newForeignProxyUser.newName);e(t,89,0,l),e(t,94,0,""),e(t,95,0,"3"),e(t,98,0,"nameProxyForeign",n.nothingFound,n.newForeignProxyUser.newName),e(t,105,0,!0)}),(function(e,t){var n=t.component;e(t,2,0,n.organization.name),e(t,11,0,Zl(t,16).ngClassUntouched,Zl(t,16).ngClassTouched,Zl(t,16).ngClassPristine,Zl(t,16).ngClassDirty,Zl(t,16).ngClassValid,Zl(t,16).ngClassInvalid,Zl(t,16).ngClassPending),e(t,18,0,n.showInviteUser?"<Benutzer einladen> ausblenden":"<Benutzer einladen> einblenden"),e(t,19,0,!n.showInviteUser),e(t,20,0,Zl(t,24).ngClassUntouched,Zl(t,24).ngClassTouched,Zl(t,24).ngClassPristine,Zl(t,24).ngClassDirty,Zl(t,24).ngClassValid,Zl(t,24).ngClassInvalid,Zl(t,24).ngClassPending),e(t,29,0,Zl(t,31).required?"":null,Zl(t,32).minlength?Zl(t,32).minlength:null,Zl(t,37).ngClassUntouched,Zl(t,37).ngClassTouched,Zl(t,37).ngClassPristine,Zl(t,37).ngClassDirty,Zl(t,37).ngClassValid,Zl(t,37).ngClassInvalid,Zl(t,37).ngClassPending),e(t,41,0,Zl(t,43).required?"":null,Zl(t,48).ngClassUntouched,Zl(t,48).ngClassTouched,Zl(t,48).ngClassPristine,Zl(t,48).ngClassDirty,Zl(t,48).ngClassValid,Zl(t,48).ngClassInvalid,Zl(t,48).ngClassPending),e(t,49,0,!Zl(t,22).valid),e(t,54,0,Zl(t,59).ngClassUntouched,Zl(t,59).ngClassTouched,Zl(t,59).ngClassPristine,Zl(t,59).ngClassDirty,Zl(t,59).ngClassValid,Zl(t,59).ngClassInvalid,Zl(t,59).ngClassPending),e(t,61,0,n.showInviteUser?"<mit Organisation zusammenarbeiten> ausblenden":"<mit Organisation zusammenarbeiten> einblenden"),e(t,62,0,!n.showInviteForeign),e(t,65,0,Zl(t,70).ngClassUntouched,Zl(t,70).ngClassTouched,Zl(t,70).ngClassPristine,Zl(t,70).ngClassDirty,Zl(t,70).ngClassValid,Zl(t,70).ngClassInvalid,Zl(t,70).ngClassPending),e(t,79,0,n.searchResult2Display),e(t,80,0,Zl(t,84).ngClassUntouched,Zl(t,84).ngClassTouched,Zl(t,84).ngClassPristine,Zl(t,84).ngClassDirty,Zl(t,84).ngClassValid,Zl(t,84).ngClassInvalid,Zl(t,84).ngClassPending),e(t,92,0,Zl(t,94).required?"":null,Zl(t,95).minlength?Zl(t,95).minlength:null,Zl(t,100).ngClassUntouched,Zl(t,100).ngClassTouched,Zl(t,100).ngClassPristine,Zl(t,100).ngClassDirty,Zl(t,100).ngClassValid,Zl(t,100).ngClassInvalid,Zl(t,100).ngClassPending),e(t,102,0,n.nothingFound||!Zl(t,82).valid)}))}function Tm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-orga-admin",[],null,null,null,Am,wm)),ar(1,114688,null,0,ym,[xg,Dg,Lg,zg,jg,Bg,zg,_m,Ng,Zh],null,null)],(function(e,t){e(t,1,0)}),null)}var Pm=Vl("app-iam-orga-admin",ym,Tm,{},{},[]);class Em{constructor(e,t,n,l){this.notificationService=e,this.tokenService=t,this.settingsService=n,this.orgaService=l,this.allNotifications=[],this.notificationDescription="",this.settingsService.setTitle("Nachrichten")}ngOnInit(){this.principal=this.tokenService.getAccount(),this.initMembers()}initMembers(){this.allNotifications=this.notificationService.getAllNotificationsForCurrentPrincipal(),this.allNotifications.length>0?(this.idxNotificationTodo||(this.idxNotificationTodo=0),this.allNotifications[this.idxNotificationTodo]||(this.idxNotificationTodo=this.idxNotificationTodo-1),this.showNotification(this.idxNotificationTodo)):(this.idxNotificationTodo=void 0,this.notificationTodo={type:Fg.None,accountAsRecipient:void 0,id:0},this.notificationDescription="")}getTypeAsString(e){const t=this.allNotifications[e];return t.id+": "+Fg[t.type]}getOrgaName(e){const t=this.orgaService.findOrgaById(e);return t&&t.name||"unknown-Orga"}getDetailsOfNotification(e){const t=this.allNotifications[e];switch(t.type){case Fg.AccountVerification:return t.accountAsRecipient.name;case Fg.InvitationOrgaUser:case Fg.DeclinedOrgaUserInvitation:case Fg.AcceptedOrgaUserInvitation:return t.orgaUser.name+" in Organisation "+this.getOrgaName(t.orgaUser.orgaId)}}showNotification(e){this.idxNotificationTodo=e,this.notificationTodo=this.allNotifications[e]}acceptInvitation(){this.notificationService.acceptInvitation(this.notificationTodo.id),this.initMembers()}declineInvitation(){this.notificationService.declineInvitation(this.notificationTodo.id),this.initMembers()}}var Mm=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:60em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.editMode[_ngcontent-%COMP%]{background-color:#40e0d0!important}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:15em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em;width:60em}li[_ngcontent-%COMP%]{margin-bottom:.2em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}.btn-delete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}"]],data:{}});function Rm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),us(1,null,["",", du hast keine Nachrichten."]))],null,(function(e,t){e(t,1,0,t.component.principal.name)}))}function Nm(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.showNotification(e.context.index)&&l),l}),null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(3,{editMode:0}),(e()(),Qi(4,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(5,null,[" "," "])),(e()(),Qi(6,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(7,null,[" "," "]))],(function(e,t){var n=e(t,3,0,t.context.$implicit.id===t.component.notificationTodo.id);e(t,2,0,n)}),(function(e,t){var n=t.component;e(t,5,0,n.getTypeAsString(t.context.index)),e(t,7,0,n.getDetailsOfNotification(t.context.index))}))}function Um(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Du hast deine Mail-Adresse erfolgreich verifiziert und damit deinen Account aktiviert. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Dies ist nur eine Information, du musst weiter nichts unternehmen."])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Nachricht l\xf6schen"]))],null,null)}function Dm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen. '])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[' Durch "Annehmen" akzeptierst du die Einladung und der Vorgang ist abgeschlossen. '])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn btn-delete"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Ablehnen"])),(e()(),Qi(7,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Annehmen"]))],null,(function(e,t){var n=t.component;e(t,2,0,n.getOrgaName(n.notificationTodo.orgaUser.orgaId))}))}function Fm(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(2,null,["Der Benutzer "," hat die Einladung als Mitarbeiter in dieser Organisation abgelehnt. Der entsprechende Organisations-User wurde entfernt. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Dies ist nur eine Information. "])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Nachricht l\xf6schen"]))],null,(function(e,t){e(t,2,0,t.component.notificationTodo.orgaUser.name)}))}function Vm(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(2,null,["Der Benutzer "," hat die Einladung als Mitarbeiter in dieser Organisation angenommen. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Dies ist nur eine Information. "])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Nachricht l\xf6schen"]))],null,(function(e,t){e(t,2,0,t.component.notificationTodo.orgaUser.name)}))}function Lm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Um)),ar(2,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Dm)),ar(4,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Fm)),ar(6,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Vm)),ar(8,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,1===n.notificationTodo.type),e(t,4,0,2===n.notificationTodo.type),e(t,6,0,3===n.notificationTodo.type),e(t,8,0,4===n.notificationTodo.type)}),null)}function zm(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(2,null,["",", du hast folgende Nachrichten:"])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Nm)),ar(5,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Lm)),ar(7,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.allNotifications),e(t,7,0,n.notificationTodo.id>0)}),(function(e,t){e(t,2,0,t.component.principal.name)}))}function Bm(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,Rm)),ar(1,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,zm)),ar(3,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,0===n.allNotifications.length),e(t,3,0,n.allNotifications.length>0)}),null)}function jm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-notification-view",[],null,null,null,Bm,Mm)),ar(1,114688,null,0,Em,[Bg,Dg,xg,zg],null,null)],(function(e,t){e(t,1,0)}),null)}var Hm=Vl("app-notification-view",Em,jm,{},{},[]);class $m{constructor(e,t,n,l){this.taskService=e,this.tokenService=t,this.settingsService=n,this.orgaService=l,this.allTasks=[],this.taskTodoDescription="",this.tokenService.logout(),this.settingsService.setTitle("Fake Mailbox"),this.taskService.resetTaskInProgress()}ngOnInit(){this.initMembers()}initMembers(){this.allTasks=this.taskService.getAllMails(),this.allTasks.length>0?(this.idxTaskTodo||(this.idxTaskTodo=0),this.allTasks[this.idxTaskTodo]||(this.idxTaskTodo=this.idxTaskTodo-1),this.showTask(this.idxTaskTodo)):(this.idxTaskTodo=void 0,this.taskTodo={type:Vg.None,id:0},this.taskTodoDescription="")}getTypeAsString(e){const t=this.allTasks[e];return t.id+": "+Vg[t.type]}getOrganame(e){const t=this.orgaService.findOrgaById(e);return t&&t.name||"unknown-Orga"}getDetailsOfTask(e){const t=this.allTasks[e];switch(t.type){case Vg.AccountVerification:case Vg.InvitationOrgaUser:case Vg.InfoOfInvitationOrgaUser:return t.email+", "+t.account.name}}showTask(e){this.idxTaskTodo=e,this.taskTodo=this.allTasks[e]}wantsToFulfill(){this.taskTodo.type!==Vg.InfoOfInvitationOrgaUser?this.taskService.setTaskInProgress(this.taskTodo)||alert("Da stimmt was mit der aktuellen Best\xe4tigung/Task nicht?!?"):this.taskService.removeTask(this.taskTodo.id)}declineInvitation(){this.taskService.declineTask(this.taskTodo.id),this.initMembers()}}var qm=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.editMode[_ngcontent-%COMP%]{background-color:#40e0d0!important}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:15em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em;width:50em}li[_ngcontent-%COMP%]{margin-bottom:.2em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}"]],data:{}});function Gm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),us(-1,null,['Derzeit sind keine "Mails" vorhanden.']))],null,null)}function Km(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.showTask(e.context.index)&&l),l}),null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(3,{editMode:0}),(e()(),Qi(4,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),us(5,null,[" "," "])),(e()(),Qi(6,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(7,null,[" "," "]))],(function(e,t){var n=e(t,3,0,t.context.$implicit.id===t.component.taskTodo.id);e(t,2,0,n)}),(function(e,t){var n=t.component;e(t,5,0,n.getTypeAsString(t.context.index)),e(t,7,0,n.getDetailsOfTask(t.context.index))}))}function Wm(e){return hs(0,[(e()(),Qi(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(-1,null,["Du hast dich registriert, aber deine Email-Adresse noch nicht verifiziert. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Wenn du untenstehendem Link folgst und dich mit deinem registrierten Account anmeldest, best\xe4tigst du deine Email-Adresse. "])),(e()(),Qi(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(-1,null,['Damit wird dein Account "aktiv" (und die "Nachricht" verschwindet automatisch...)'])),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==Zl(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"click"===t&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ar(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,["Hiermit verifizierst du deine Email-Adresse."]))],(function(e,t){e(t,8,0,"/iam/login")}),(function(e,t){e(t,7,0,Zl(t,8).target,Zl(t,8).href)}))}function Zm(e){return hs(0,[(e()(),Qi(0,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen.'])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Wenn dies in Ordnung ist, f\xfchre folgende Schritte durch:"])),(e()(),Qi(5,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==Zl(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"click"===t&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ar(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,["Melde dich mit deinem Account an."])),(e()(),Qi(10,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(11,0,null,null,2,"a",[["routerLink","/iam/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==Zl(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"click"===t&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ar(12,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,[" Oder registriere dich zun\xe4chst und melde dich danach an."])),(e()(),Qi(14,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,[" Danach gehst du in deine Nachrichten und stimmst der Mitgliedschaft zu."]))],(function(e,t){e(t,8,0,"/iam/login"),e(t,12,0,"/iam/register")}),(function(e,t){var n=t.component;e(t,2,0,n.getOrganame(n.taskTodo.orgaUser.orgaId)),e(t,7,0,Zl(t,8).target,Zl(t,8).href),e(t,11,0,Zl(t,12).target,Zl(t,12).href)}))}function Qm(e){return hs(0,[(e()(),Qi(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),us(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen.'])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),us(-1,null,[" Dir wurde eine Nachricht an deinen Account geschickt. Daher einfach anmelden und deine Nachrichten pr\xfcfen. "])),(e()(),Qi(5,0,null,null,6,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0,r=e.component;return"click"===t&&(l=!1!==Zl(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"click"===t&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ar(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(-1,null,["Melde dich mit deinem Account an."])),(e()(),Qi(10,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,[" Danach gehst du in deine Nachrichten und stimmst der Mitgliedschaft zu."]))],(function(e,t){e(t,8,0,"/iam/login")}),(function(e,t){var n=t.component;e(t,2,0,n.getOrganame(n.taskTodo.orgaUser.orgaId)),e(t,7,0,Zl(t,8).target,Zl(t,8).href)}))}function Jm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Wm)),ar(2,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Zm)),ar(4,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Qm)),ar(6,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(7,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),us(-1,null,["Nachricht l\xf6schen"]))],(function(e,t){var n=t.component;e(t,2,0,1===n.taskTodo.type),e(t,4,0,2===n.taskTodo.type),e(t,6,0,3===n.taskTodo.type)}),null)}function Ym(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(-1,null,['Folgende "Mails" sind vorhanden:'])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Km)),ar(5,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Jm)),ar(7,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.allTasks),e(t,7,0,n.taskTodo.id>0)}),null)}function Xm(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,Gm)),ar(1,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Ym)),ar(3,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,0===n.allTasks.length),e(t,3,0,n.allTasks.length>0)}),null)}function ev(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-fake-mail-view",[],null,null,null,Xm,qm)),ar(1,114688,null,0,$m,[jg,Dg,xg,zg],null,null)],(function(e,t){e(t,1,0)}),null)}var tv=Vl("app-fake-mail-view",$m,ev,{},{},[]);class nv{constructor(e,t){this.settingsService=e,this.eventService=t,this.checked=!1,this.boolSettings=[]}ngOnInit(){this.settingsService.setTitle("Programmeinstellungen");const e=this.settingsService.getAllBooleanSettings();for(const t in e)this.boolSettings.push({key:t,value:e[t]})}toggleValue(e){const t=this.boolSettings[e];t.value=!t.value,this.settingsService.booleanValueSet(t.key,t.value),"useGreenLikeColors"!==t.key&&"useAccountName4DisplayingUsername"!==t.key||this.eventService.publishTokenChangedEvent()}}var lv=tl({encapsulation:0,styles:[[".list-item-text-left[_ngcontent-%COMP%]{margin-bottom:1em;float:left;width:28em;text-align:left;font-weight:700}.list-item-text[_ngcontent-%COMP%]{margin-bottom:1em;float:left;width:30em;text-align:left}li[_ngcontent-%COMP%]{white-space:nowrap;display:inline-block}"]],data:{}});function rv(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,7,"div",[["class","switch"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"label",[["class","list-item-text-left"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.toggleValue(e.context.index)&&l),l}),null,null)),(e()(),us(3,null,["",":"])),(e()(),Qi(4,0,null,null,4,"label",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(-1,null,[" Nee "])),(e()(),Qi(6,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.toggleValue(e.context.index)&&l),l}),null,null)),(e()(),Qi(7,0,null,null,0,"span",[["class","lever"]],null,null,null,null,null)),(e()(),us(-1,null,[" Jaa "]))],null,(function(e,t){e(t,3,0,t.context.$implicit.key),e(t,6,0,t.context.$implicit.value)}))}function iv(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,rv)),ar(2,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.boolSettings)}),null)}function sv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-settings",[],null,null,null,iv,lv)),ar(1,114688,null,0,nv,[xg,Ng],null,null)],(function(e,t){e(t,1,0)}),null)}var ov=Vl("app-settings",nv,sv,{},{},[]);class av{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.setTitle("Hilfe / Anleitung");const e=document.querySelectorAll(".collapsible");M.Collapsible.init(e,{})}}var uv=tl({encapsulation:0,styles:[["br[_ngcontent-%COMP%]{margin-bottom:.4em}"]],data:{}});function cv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),us(-1,null,["Hier gibt's Hilfe bzw. Anleitungen, nat\xfcrlich nur in aller K\xfcrze..."])),(e()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(3,0,null,null,131,"ul",[["class","collapsible popout"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Wozu das Ganze? Was kann ich machen? "])),(e()(),Qi(9,0,null,null,7,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,6,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(11,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Kurz gesagt, man kann sich registrieren, einloggen, Organisationen beitreten/anlegen."])),(e()(),Qi(13,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Ferner kann man Ordner (dynamische Resourcen) anlegen und verrechten."])),(e()(),Qi(15,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Und als Highlight kann man Kollaboration auf so einem Ordner einrichten."])),(e()(),Qi(17,0,null,null,14,"li",[],null,null,null,null,null)),(e()(),Qi(18,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(19,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Was sehe ich wo?"])),(e()(),Qi(22,0,null,null,9,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(23,0,null,null,8,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(24,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Auf der Startseite sieht man ein "Men\xfc" der M\xf6glicheiten.'])),(e()(),Qi(26,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Unten rechts gibt es Einstellungen, womit man das Verhalten des Prototyps beeinflussen kann."])),(e()(),Qi(28,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Ist man angemeldet, wird in der Titelzeile die Organisation (so vorhanden) und der Username angezeigt."])),(e()(),Qi(30,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Au\xdferdem gibt es ein "Kontext-Men\xfc" mit mehr-oder-weniger sinnigen Aktionen.'])),(e()(),Qi(32,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),Qi(33,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(34,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Das Datenmodell"])),(e()(),Qi(37,0,null,null,13,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(38,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(39,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Ein Account hat 1-n Credentials (Zugangsmedien)"])),(e()(),Qi(41,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Ein Account kann in 0-n Organisationen eine Organisations-Identit\xe4t haben."])),(e()(),Qi(43,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Ist man in mehreren Organisationen Mitglied, muss man beim Login eine Organisation ausw\xe4hlen."])),(e()(),Qi(45,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Eine Organisation beherbergt User, Resourcen und deren Rechte."])),(e()(),Qi(47,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Ein Recht besteht aus (Subjekt = User, Objekt = Resource, Erlaubnis = "lesen")'])),(e()(),Qi(49,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Pro Berechtigung entsteht ein Eintrag in der "Rechte-Liste"'])),(e()(),Qi(51,0,null,null,16,"li",[],null,null,null,null,null)),(e()(),Qi(52,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(53,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Sicherheit? Passw\xf6rter?"])),(e()(),Qi(56,0,null,null,11,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(57,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(58,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Die Seite hat echte Logik, speichert aber nichts dauerhaft."])),(e()(),Qi(60,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Alles spielt sich im Browser ab."])),(e()(),Qi(62,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Durch Neu-Laden der Seite (F5) ist man wieder am Anfang!"])),(e()(),Qi(64,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Eingegebene Passw\xf6rter werden im Klartext "gespeichert".'])),(e()(),Qi(66,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Die Testpassw\xf6rter lauten s\xe4mtlich "test".'])),(e()(),Qi(68,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),Qi(69,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(70,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Tipps und Tricks"])),(e()(),Qi(73,0,null,null,7,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(74,0,null,null,6,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(75,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Man muss beim Login kein Passwort eingeben (geht schneller), gibt man aber eines ein, muss es mit dem "registrierten" \xfcbereinstimmen.'])),(e()(),Qi(77,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Es sind einige vor-eingetragende Testdaten vorhanden. Bei den Test-Kennungen (Username) gibt die Endung Aufschluss \xfcber den Authentifizierungs-Grad. z.B. tom@bk entspricht einem BenutzerKonto, tom@sc einer SmartCard. "])),(e()(),Qi(79,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,[' Kommt einfach "so" die Login-Seite erneut, ist die Ziel-Seite gesch\xfctzt. Entweder generell, dass man eingeloggt sein muss, oder es muss ein "besonderer" Login sein. (Admin, Secure). Meist hilft das Anmelden mit *@sc. '])),(e()(),Qi(81,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),Qi(82,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(83,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Testdaten"])),(e()(),Qi(86,0,null,null,13,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(87,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(88,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Kanzlei Heinzelmann mit Simone und Klaus (Admin) (@sc etc.)"])),(e()(),Qi(90,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Kanzlei Palmengarten mit Sonja und Martin (Admin)"])),(e()(),Qi(92,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Familie Martin privat mit Martin (Admin). D.h. bei Login mit "Martin" kommt eine Organisationsauswahl'])),(e()(),Qi(94,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Holzhandel Grubinger mit Petra und Tom (Admin)"])),(e()(),Qi(96,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Resi ohne Organisation, d.h. nur Account"])),(e()(),Qi(98,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Kanzlei Heinzelmann und Holzhandel Grubinger kollaborieren bereits auf einem Ordner"])),(e()(),Qi(100,0,null,null,34,"li",[],null,null,null,null,null)),(e()(),Qi(101,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(102,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["dehaze"])),(e()(),us(-1,null,["Kollaboration, was ist damit gemeint?"])),(e()(),Qi(105,0,null,null,29,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(106,0,null,null,28,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(107,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Kollaboration meint hier, dass Mitarbeiter verschiedener Organisationen auf ein-und-derselben Resource (Ordner) arbeiten."])),(e()(),Qi(109,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Das Ganze geht via Delegation, d.h. ein Admin einer Organisation berechtigt eine zweite Organisation. Ein Admin dieser zweiten Organisation vergibt dann letztendlich die Rechte an seine Mitarbeiter, aber nur die, welche er delegiert bekommen hat."])),(e()(),Qi(111,0,null,null,10,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Am besten ausprobieren: "])),(e()(),Qi(113,0,null,null,8,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(114,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Zwei Organisationen mit jeweils zwei Mitarbieter anlegen"])),(e()(),Qi(116,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["In der einen einen Ordner anlegen"])),(e()(),Qi(118,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Dann der zweiten Organisation "freigeben"'])),(e()(),Qi(120,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Und dort an einen der beiden Mitarbieter "freigeben"'])),(e()(),Qi(122,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["und folgende Szenarien nachvollziehen, was mit den Zugriffs-Rechten passiert: "])),(e()(),Qi(124,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(125,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Die Rechte werden vom Original-Admin eingeschr\xe4nkt"])),(e()(),Qi(127,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,['Der "geteilte" Ordner wird gel\xf6scht'])),(e()(),Qi(129,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["Der Kollaborations-Users wird aus einladender Organisation entfernt"])),(e()(),Qi(131,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["die ganze einladende Organisation wird gel\xf6scht"])),(e()(),Qi(133,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),us(-1,null,["..."]))],null,null)}function dv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-help",[],null,null,null,cv,uv)),ar(1,114688,null,0,av,[xg],null,null)],(function(e,t){e(t,1,0)}),null)}var hv=Vl("app-help",av,dv,{},{},[]);class gv{constructor(e,t,n){this.settingsService=e,this.folderService=t,this.tokenService=n,this.usersDisplayName="",this.folders=[],this.userMayCreateNewFolder=!1,this.errorMessage=""}ngOnInit(){this.settingsService.setTitle("Ordneransicht"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getOrgaUser(),this.userMayCreateNewFolder=this.folderService.userMayCreateNewFolder(this.principal.id),this._initMembers()}_initMembers(){this.errorMessage="",this.folders=this.folderService.getAllAccessibleFolders4CurrentUser(),this.newFolder={orgaId:this.principal.orgaId,name:""}}isForeignFolder(e){return e.orgaId!==this.principal.orgaId}removeFolder(e){this.folderService.removeFolder(e)?this._initMembers():this.errorMessage="Du darfst diesen Ordner nicht l\xf6schen, fehlende Berechtigung!"}addNewFolder(){this.userMayCreateNewFolder&&(this.folderService.addNewFolder(this.newFolder)?this._initMembers():this.errorMessage="Der Ordnername wird schon verwendet.")}somethingChanged(e){"Enter"!==e.code&&(this.errorMessage="")}}let pv=(()=>{class e{constructor(e,t,n){this.tokenService=e,this.accessService=t,this.orgaService=n,this.allFolders=[],this.ResourceId4staticRoot=1,this.readPermissionKey="read",this.writePermissionKey="write",this.deletePermissionKey="delete",this.createPermissionKey="create",this._fillTestdata()}_fillTestdata(){this.allFolders.push({id:1,orgaId:300,name:"Notizen"},{id:2,orgaId:300,name:"Steuersachen"},{id:3,orgaId:300,name:"Golfausfl\xfcge"},{id:4,orgaId:300,name:"Kollaboration von Heinzelmann f\xfcr Grubinger"},{id:10,orgaId:301,name:"Rechtliches"},{id:11,orgaId:301,name:"Kassenarchiv"},{id:20,orgaId:302,name:"Finanzen"},{id:21,orgaId:302,name:"Rechnungen"})}getPrincipal(){const e=this.tokenService.getOrgaUser();if(!e)throw new Error("Principal nicht gesetzt!");return e}assureCurrentPrincipalHasAdminPermission(){const e=this.getPrincipal();if(!this.orgaService.isAdmin(e.id))throw new Error("Principal is not admin of current orga!")}findFolderById(e){return this.allFolders.find(t=>t.id===e)}sort(e){const t=this.getPrincipal().orgaId;return e.sort((e,n)=>{if(e.orgaId===t&&n.orgaId===t)return e.id-n.id;if(e.orgaId===t)return-1;if(n.orgaId===t)return 1;const l=e.orgaId-n.orgaId;return 0===l?e.id-n.id:l})}getAllFoldersOfOrgaWithRightsOfGivenUser4Administration(e){this.assureCurrentPrincipalHasAdminPermission();const t=this.getPrincipal().orgaId,n=this.accessService.getAllResourcesOwnedByOrDelegatedToOrga(bm.Folder,t),l=[];return n.forEach(t=>{const n=this.findFolderById(t),r={id:t,orgaId:n.orgaId,name:n.name};l.push(r),this.setMaxEnabledPermissions(n,e,r),this.setAdministratedPermissions(n,e,r)}),this.sort(l)}setAdministratedPermissions(e,t,n){const l={type:bm.Folder,id:n.id,orgaId:e.orgaId};n.readAllowed=this.accessService.hasAdministratedPermission(l,t,this.readPermissionKey),n.writeAllowed=this.accessService.hasAdministratedPermission(l,t,this.writePermissionKey),n.deleteAllowed=this.accessService.hasAdministratedPermission(l,t,this.deletePermissionKey)}setMaxEnabledPermissions(e,t,n){const l={type:bm.Folder,id:n.id,orgaId:e.orgaId};n.readDisabled=!this.accessService.permissionIsAdministrable(l,t,this.readPermissionKey),n.writeDisabled=!this.accessService.permissionIsAdministrable(l,t,this.writePermissionKey),n.deleteDisabled=!this.accessService.permissionIsAdministrable(l,t,this.deletePermissionKey)}getAllAccessibleFolders4CurrentUser(){const e=this.getPrincipal(),t=this.accessService.getAllResources4UserWithAtLeastOnePermission(e.id,bm.Folder),n=[];return t.forEach(t=>{const l=this.allFolders.find(e=>e.id===t);if(l){let t={};Object.assign(t,l);const r={type:bm.Folder,id:l.id};t.readAllowed=this.accessService.hasPermission(e.id,r,this.readPermissionKey),t.writeAllowed=this.accessService.hasPermission(e.id,r,this.writePermissionKey),t.deleteAllowed=this.accessService.hasPermission(e.id,r,this.deletePermissionKey),this._adjustNameForListingFolders(t),n.push(t)}}),this.sort(n)}_adjustNameForListingFolders(e){const t=this.getPrincipal();e.name+=" (",e.readAllowed&&(e.name+="r"),e.writeAllowed&&(e.name+="w"),e.deleteAllowed&&(e.name+="d"),e.name+=")",e.orgaId!==t.orgaId&&(e.name+=" (von: "+e.orgaId+")")}setFolderRightsOfGivenUser(e,t){this.assureCurrentPrincipalHasAdminPermission(),t.forEach(t=>{if(t.dirty){const n=[];t.readAllowed&&n.push(this.readPermissionKey),t.writeAllowed&&n.push(this.writePermissionKey),t.deleteAllowed&&n.push(this.deletePermissionKey),this.accessService.setPermissionsOfUser2resource(e,{type:bm.Folder,id:t.id,orgaId:t.orgaId},n)}})}removeFolder(e){const t=this.getPrincipal();if(!this.accessService.hasPermission(t.id,{type:bm.Folder,id:e},this.deletePermissionKey))return!1;this.accessService.removeResource({type:bm.Folder,id:e});const n=this.allFolders.findIndex(t=>t.id===e);return n>=0&&this.allFolders.splice(n,1),!0}isFolderNameAlreadyUsedInOrga(e){return!!this.allFolders.find(t=>t.orgaId===e.orgaId&&t.name.toLowerCase()===e.name.toLowerCase())}userMayCreateNewFolder(e){return this.accessService.hasPermission(e,{type:bm.FolderRoot,id:this.ResourceId4staticRoot},this.createPermissionKey)}setUserMayCreateNewFolder(e,t){this.assureCurrentPrincipalHasAdminPermission(),this.accessService.setPermissionsOfUser2resource(e,{type:bm.FolderRoot,id:this.ResourceId4staticRoot,orgaId:e.orgaId},t?[this.createPermissionKey]:[])}getNewUniqueId(){let e=0;return this.allFolders.forEach(t=>{t.id>e&&(e=t.id)}),e+1}addNewFolder(e){if(this.isFolderNameAlreadyUsedInOrga(e))return!1;const t=this.getPrincipal();return!!this.userMayCreateNewFolder(t.id)&&(e.id=this.getNewUniqueId(),this.allFolders.push(e),this.accessService.createNewResource({type:bm.Folder,id:e.id,orgaId:e.orgaId,displayName:e.name}),!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(_m),Le(zg))},token:e,providedIn:"root"}),e})();var fv=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-folder[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:4em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;margin-left:0!important;float:left}.row[_ngcontent-%COMP%]{margin-bottom:0!important;margin-left:0!important}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]:disabled, .btnDelete[_ngcontent-%COMP%]:disabled:hover{background-color:#d3d3d3!important}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.error[_ngcontent-%COMP%]{font-weight:700;color:#dc143c}"]],data:{}});function mv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btnDelete"],["style","position: absolute; right: 0.7em;"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.removeFolder(e.parent.context.$implicit.id)&&l),l}),null,null)),(e()(),us(-1,null,[" L\xf6schen"]))],null,null)}function vv(e){return hs(0,[(e()(),Qi(0,0,null,null,11,"li",[["class","valign-wrapper"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{"foreign-folder":0}),(e()(),Qi(4,0,null,null,3,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"i",[["class","material-icons left blue-text"]],null,null,null,null,null)),(e()(),us(-1,null,["folder"])),(e()(),us(7,null,[" "," "])),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(9,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,mv)),ar(11,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,t.component.isForeignFolder(t.context.$implicit));e(t,2,0,"valign-wrapper",n),e(t,11,0,t.context.$implicit.deleteAllowed)}),(function(e,t){e(t,7,0,t.context.$implicit.id),e(t,9,0,t.context.$implicit.name)}))}function yv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(1,null,[" Hallo ",", auf folgende Ordner hast du mind. eine Berechtigung (egal welche):"])),(e()(),Qi(2,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,vv)),ar(4,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(5,0,null,null,25,"div",[["class","container col s12"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(7,0,null,null,20,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,r=e.component;return"submit"===t&&(l=!1!==Zl(e,9).onSubmit(n)&&l),"reset"===t&&(l=!1!==Zl(e,9).onReset()&&l),"ngSubmit"===t&&(l=!1!==r.addNewFolder()&&l),l}),null,null)),ar(8,16384,null,0,Jp,[],null,null),ar(9,4210688,[["newFolderForm",4]],0,$p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ur(2048,null,lp,null,[$p]),ar(11,16384,null,0,ap,[[4,lp]],null,null),(e()(),Qi(12,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(13,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(14,0,null,null,1,"label",[["for","folderName"]],null,null,null,null,null)),(e()(),us(-1,null,["Ordnername"])),(e()(),Qi(16,0,null,null,8,"input",[["appAutofocus",""],["class","form-control"],["id","folderName"],["name","folderName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0,r=e.component;return"input"===t&&(l=!1!==Zl(e,17)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,17).onTouched()&&l),"compositionstart"===t&&(l=!1!==Zl(e,17)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Zl(e,17)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(r.newFolder.name=n)&&l),"keyup"===t&&(l=!1!==r.somethingChanged(n)&&l),l}),null,null)),ar(17,16384,null,0,tp,[mn,dn,[2,ep]],null,null),ar(18,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(1024,null,cp,(function(e){return[e]}),[Yp]),ur(1024,null,Yg,(function(e){return[e]}),[tp]),ar(21,671744,[["folderName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(23,16384,null,0,op,[[4,ip]],null,null),ar(24,4210688,null,0,nf,[dn],null,null),(e()(),Qi(25,0,null,null,2,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),us(-1,null,["Ordner anlegen"])),(e()(),Qi(28,0,null,null,2,"div",[["class","error"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(29,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),us(30,null,["Hinweis/Fehler: ",""]))],(function(e,t){var n=t.component;e(t,4,0,n.folders),e(t,18,0,""),e(t,21,0,"folderName",n.newFolder.name)}),(function(e,t){var n=t.component;e(t,1,0,n.usersDisplayName),e(t,5,0,!n.userMayCreateNewFolder),e(t,7,0,Zl(t,11).ngClassUntouched,Zl(t,11).ngClassTouched,Zl(t,11).ngClassPristine,Zl(t,11).ngClassDirty,Zl(t,11).ngClassValid,Zl(t,11).ngClassInvalid,Zl(t,11).ngClassPending),e(t,16,0,Zl(t,18).required?"":null,Zl(t,23).ngClassUntouched,Zl(t,23).ngClassTouched,Zl(t,23).ngClassPristine,Zl(t,23).ngClassDirty,Zl(t,23).ngClassValid,Zl(t,23).ngClassInvalid,Zl(t,23).ngClassPending),e(t,26,0,!Zl(t,9).valid),e(t,28,0,!n.errorMessage),e(t,30,0,n.errorMessage)}))}function bv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-listfolders",[],null,null,null,yv,fv)),ar(1,114688,null,0,gv,[xg,pv,Dg],null,null)],(function(e,t){e(t,1,0)}),null)}var _v=Vl("app-listfolders",gv,bv,{},{},[]);class wv{constructor(e,t,n,l){this.settingsService=e,this.folderService=t,this.tokenService=n,this.orgaService=l,this.usersDisplayName="",this.users2Admin=[],this.folders=[],this.createNewFolderAllowed=!1,this.createNewFolderOldValue=!1,this.dirty=!1}ngOnInit(){this.settingsService.setTitle("dezentrale Ordner-Administration"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getOrgaUser(),this.users2Admin=this.orgaService.getAllOrgaUsers(this.principal.orgaId),this.selectedUser2Admin=this.users2Admin[0],this.selectedUsersId=this.selectedUser2Admin.id,this._initMembers()}_initMembers(){this.folders=this.folderService.getAllFoldersOfOrgaWithRightsOfGivenUser4Administration(this.selectedUser2Admin),this.createNewFolderAllowed=this.folderService.userMayCreateNewFolder(this.selectedUser2Admin.id),this.createNewFolderOldValue=this.createNewFolderAllowed,this.dirty=!1}isForeignUser(e){return!(!e.foreignOrgaId&&!e.foreignUserId)}isForeignFolder(e){return e.orgaId!==this.principal.orgaId}resetFolderRights(){this._initMembers()}_afterSavingPermissions(){this.dirty=!1,this.createNewFolderOldValue=this.createNewFolderAllowed,this.folders.forEach(e=>e.dirty=!1)}saveFolderRights(){this.createNewFolderAllowed!==this.createNewFolderOldValue&&this.folderService.setUserMayCreateNewFolder(this.selectedUser2Admin,this.createNewFolderAllowed),this.folderService.setFolderRightsOfGivenUser(this.selectedUser2Admin,this.folders),this._afterSavingPermissions()}onChangedUser(){if(this.dirty&&!confirm("Willst du den User wechseln und deine \xc4nderungen verwerfen?")){const e=this.users2Admin.find(e=>e.id===this.selectedUsersId);if(e)return void(this.selectedUser2Admin=e)}this._initMembers()}onChanged(e=-1){if(this.dirty=!0,e>=0){const t=this.folders[e];t&&(t.dirty=!0)}}}var Cv=tl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:70em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:70em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-folder[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:4em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}.verweise[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:3em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}select[_ngcontent-%COMP%]{border:3px solid teal}.foreign-user[_ngcontent-%COMP%]{border:3px solid red!important}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff}"]],data:{}});function Sv(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ar(1,147456,null,0,Cp,[dn,mn,[2,wp]],{ngValue:[0,"ngValue"]},null),ar(2,147456,null,0,kp,[dn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),us(3,null,[" ",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function kv(e){return hs(0,[(e()(),Qi(0,0,null,null,36,"li",[["class","valign-wrapper"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{"foreign-folder":0}),(e()(),Qi(4,0,null,null,3,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"i",[["class","material-icons left blue-text"]],null,null,null,null,null)),(e()(),us(-1,null,["folder"])),(e()(),us(7,null,[" "," "])),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),us(9,null,[" "," "])),(e()(),Qi(10,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(11,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,12).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(e.context.$implicit.readAllowed=n)&&l),"ngModelChange"===t&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ar(12,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(14,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(-1,null,["lesen"])),(e()(),Qi(19,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(20,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,21).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,21).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(e.context.$implicit.writeAllowed=n)&&l),"ngModelChange"===t&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ar(21,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(23,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(25,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(26,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(-1,null,["schreiben"])),(e()(),Qi(28,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(29,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,30).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,30).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(e.context.$implicit.deleteAllowed=n)&&l),"ngModelChange"===t&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ar(30,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(32,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(34,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(35,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(-1,null,["l\xf6schen"]))],(function(e,t){var n=e(t,3,0,t.component.isForeignFolder(t.context.$implicit));e(t,2,0,"valign-wrapper",n),e(t,14,0,t.context.$implicit.readDisabled,t.context.$implicit.readAllowed),e(t,23,0,t.context.$implicit.writeDisabled,t.context.$implicit.writeAllowed),e(t,32,0,t.context.$implicit.deleteDisabled,t.context.$implicit.deleteAllowed)}),(function(e,t){e(t,7,0,t.context.$implicit.id),e(t,9,0,t.context.$implicit.name),e(t,11,0,Zl(t,16).ngClassUntouched,Zl(t,16).ngClassTouched,Zl(t,16).ngClassPristine,Zl(t,16).ngClassDirty,Zl(t,16).ngClassValid,Zl(t,16).ngClassInvalid,Zl(t,16).ngClassPending),e(t,20,0,Zl(t,25).ngClassUntouched,Zl(t,25).ngClassTouched,Zl(t,25).ngClassPristine,Zl(t,25).ngClassDirty,Zl(t,25).ngClassValid,Zl(t,25).ngClassInvalid,Zl(t,25).ngClassPending),e(t,29,0,Zl(t,34).ngClassUntouched,Zl(t,34).ngClassTouched,Zl(t,34).ngClassPristine,Zl(t,34).ngClassDirty,Zl(t,34).ngClassValid,Zl(t,34).ngClassInvalid,Zl(t,34).ngClassPending)}))}function Iv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),us(1,null,[" Hallo ",", hier kannst du f\xfcr bestimmte Ordner Rechte vergeben."])),(e()(),Qi(2,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,15,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,14,"div",[["class","row inner-row"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"div",[["class","input-field col s2 "]],null,null,null,null,null)),(e()(),us(-1,null,[" Benutzer w\xe4hlen: "])),(e()(),Qi(7,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,10,"select",[["class","browser-default"],["name","user2admin"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,12).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.selectedUser2Admin=n)&&l),"ngModelChange"===t&&(l=!1!==r.onChangedUser()&&l),l}),null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(10,278528,null,0,ga,[ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(11,{"foreign-user":0}),ar(12,16384,null,0,wp,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[wp]),ar(14,671744,[["user2admin",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,Sv)),ar(18,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(19,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(20,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0,r=e.component;return"change"===t&&(l=!1!==Zl(e,21).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Zl(e,21).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(r.createNewFolderAllowed=n)&&l),"ngModelChange"===t&&(l=!1!==r.onChanged()&&l),l}),null,null)),ar(21,16384,null,0,Xg,[mn,dn],null,null),ur(1024,null,Yg,(function(e){return[e]}),[Xg]),ar(23,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ur(2048,null,ip,null,[Qp]),ar(25,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(26,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),us(-1,null,["Darf neue Ordner anlegen"])),(e()(),Qi(28,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,kv)),ar(30,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(31,0,null,null,1,"button",[["class","btn btn-delete"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.resetFolderRights()&&l),l}),null,null)),(e()(),us(-1,null,["Zur\xfccksetzen"])),(e()(),Qi(33,0,null,null,1,"button",[["class","btn"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.saveFolderRights()&&l),l}),null,null)),(e()(),us(-1,null,["\xdcbernehmen"]))],(function(e,t){var n=t.component,l=e(t,11,0,n.isForeignUser(n.selectedUser2Admin));e(t,10,0,"browser-default",l),e(t,14,0,"user2admin",n.selectedUser2Admin),e(t,18,0,n.users2Admin),e(t,23,0,n.isForeignUser(n.selectedUser2Admin),n.createNewFolderAllowed),e(t,30,0,n.folders)}),(function(e,t){var n=t.component;e(t,1,0,n.usersDisplayName),e(t,8,0,Zl(t,16).ngClassUntouched,Zl(t,16).ngClassTouched,Zl(t,16).ngClassPristine,Zl(t,16).ngClassDirty,Zl(t,16).ngClassValid,Zl(t,16).ngClassInvalid,Zl(t,16).ngClassPending),e(t,20,0,Zl(t,25).ngClassUntouched,Zl(t,25).ngClassTouched,Zl(t,25).ngClassPristine,Zl(t,25).ngClassDirty,Zl(t,25).ngClassValid,Zl(t,25).ngClassInvalid,Zl(t,25).ngClassPending),e(t,31,0,!n.dirty),e(t,33,0,!n.dirty)}))}function Ov(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-admin-folders",[],null,null,null,Iv,Cv)),ar(1,114688,null,0,wv,[xg,pv,Dg,zg],null,null)],(function(e,t){e(t,1,0)}),null)}var xv=Vl("app-admin-folders",wv,Ov,{},{},[]);class Av{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.setTitle("Information - Page not found")}}var Tv=tl({encapsulation:0,styles:[[""]],data:{}});function Pv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),us(-1,null,["Hoppla, da hast du dich wohl verirrt."])),(e()(),Qi(2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),us(-1,null,["Die Seite, die du aufgerufen hast, gibt es nicht."]))],null,null)}function Ev(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-page-not-found",[],null,null,null,Pv,Tv)),ar(1,114688,null,0,Av,[xg],null,null)],(function(e,t){e(t,1,0)}),null)}var Mv=Vl("app-page-not-found",Av,Ev,{},{},[]),Rv=tl({encapsulation:0,styles:[[".left[_ngcontent-%COMP%]{margin-left:3em}.header-text-left[_ngcontent-%COMP%]{position:absolute;display:inline-block;font-size:1.7rem;padding:0}.header-text[_ngcontent-%COMP%]{font-size:1.5rem;font-style:italic}.vertical-tab-target[_ngcontent-%COMP%]{display:none}.vertical-tabs[_ngcontent-%COMP%]{border-left:3px solid #1976d2!important;padding:0!important}.vertical-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000!important}.divider[_ngcontent-%COMP%]{border-bottom:2px solid #1976d2}.badge[_ngcontent-%COMP%]{margin-left:.5em}span.badge.new[_ngcontent-%COMP%]{font-weight:500!important;font-size:1rem!important;color:#fff!important}"]],data:{}});function Nv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","header-text"]],null,null,null,null,null)),(e()(),us(1,null,[" ","\xa0\xa0\xa0 "]))],null,(function(e,t){e(t,1,0,t.component.orgaName)}))}function Uv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),us(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.countOfNewBadgeItems)}))}function Dv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"i",[["class","material-icons right"]],null,null,null,null,null)),(e()(),us(-1,null,["arrow_drop_down"]))],null,null)}function Fv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),us(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.newCount)}))}function Vv(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[["style","font-weight: 450; color: black !important"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onDropDownProfileClick(e.context.index)&&l),l}),null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(3,{divider:0}),(e()(),Qi(4,0,null,null,3,"a",[],null,null,null,null,null)),(e()(),us(5,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,Fv)),ar(7,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,t.context.$implicit.isDivider);e(t,2,0,n),e(t,7,0,t.context.$implicit.newCount>0)}),(function(e,t){e(t,5,0,t.context.$implicit.text)}))}function Lv(e){return hs(0,[(e()(),Qi(0,0,null,null,22,"nav",[],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(2,278528,null,0,ga,[ca],{ngClass:[0,"ngClass"]},null),os(3,{"blue darken-2":0,"teal lighten-2":1}),(e()(),Qi(4,0,null,null,3,"div",[["class","container left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,2,"a",[["class","header-text-left"],["routerLink",""],["title","zur\xfcck zur Startseite..."]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(6,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),us(7,null,["",""])),(e()(),Qi(8,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,10,"ul",[["class","right"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Nv)),ar(12,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(13,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),Qi(14,0,null,null,5,"a",[["class","dropdown-trigger header-text valign-wrapper"],["data-target","dd-profile"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onProfileClick()&&l),l}),null,null)),(e()(),us(15,null,[" \xa0","\xa0 "])),(e()(),Zi(16777216,null,null,1,null,Uv)),ar(17,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Dv)),ar(19,16384,null,0,va,[Fn,Un],{ngIf:[0,"ngIf"]},null),(e()(),Qi(20,0,null,null,2,"ul",[["class","dropdown-content vertical-tabs col s4"],["id","dd-profile"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Vv)),ar(22,278528,null,0,fa,[Fn,Un,Pn],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(23,0,null,null,4,"main",[],null,null,null,null,null)),(e()(),Qi(24,0,null,null,3,"div",[["class","section no-pad-bot"],["id","index-banner"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(26,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ar(27,212992,null,0,eg,[Xh,Fn,on,[8,null],Et],null,null),(e()(),Qi(28,0,null,null,15,"footer",[["class","page-footer"]],null,null,null,null,null)),ur(512,null,ca,da,[Pn,En,dn,mn]),ar(30,278528,null,0,ga,[ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(31,{orange:0,"teal accent-4":1}),(e()(),Qi(32,0,null,null,2,"div",[["class","container left"]],null,null,null,null,null)),(e()(),us(-1,null,[" Made by Klaus Hetzelein (c) 2019 - 2020 "])),(e()(),Qi(34,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(35,0,null,null,8,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,3,"a",[["class","white-text right valign-wrapper"],["routerLink","/help"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(37,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),Qi(38,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["help_outline"])),(e()(),Qi(40,0,null,null,3,"a",[["class","white-text right valign-wrapper"],["routerLink","/iam/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Zl(e,41).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),ar(41,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),Qi(42,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),us(-1,null,["settings_applications"]))],(function(e,t){var n=t.component,l=e(t,3,0,n.useMyColors,!n.useMyColors);e(t,2,0,l),e(t,6,0,""),e(t,12,0,n.orgaName.length>0),e(t,17,0,n.countOfNewBadgeItems>0),e(t,19,0,n.usersDisplayName.length>0),e(t,22,0,n.dropDownItems),e(t,27,0);var r=e(t,31,0,n.useMyColors,!n.useMyColors);e(t,30,0,"page-footer",r),e(t,37,0,"/help"),e(t,41,0,"/iam/settings")}),(function(e,t){var n=t.component;e(t,5,0,Zl(t,6).target,Zl(t,6).href),e(t,7,0,n.settingsService.getTitle()),e(t,15,0,n.usersDisplayName),e(t,36,0,Zl(t,37).target,Zl(t,37).href),e(t,40,0,Zl(t,41).target,Zl(t,41).href)}))}function zv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-root",[],null,null,null,Lv,Rv)),ar(1,245760,null,0,Zo,[Zh,Dg,zg,Bg,_m,Ng,xg],null,null)],(function(e,t){e(t,1,0)}),null)}var Bv=Vl("app-root",Zo,zv,{},{},[]);class jv{}class Hv{}class $v{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),l=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,l),this.headers.has(l)?this.headers.get(l).push(r):this.headers.set(l,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const l=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(l,n),this.maybeSetNormalizedName(t,l))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof $v?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new $v;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $v?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const l=("a"===e.op?this.headers.get(t):void 0)||[];l.push(...n),this.headers.set(t,l);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qv{encodeKey(e){return Gv(e)}encodeValue(e){return Gv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Gv(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Kv{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const l=e.indexOf("="),[r,i]=-1==l?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,l)),t.decodeValue(e.slice(l+1))],s=n.get(r)||[];s.push(i),n.set(r,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new Kv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Wv(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Zv(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Qv(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Jv{constructor(e,t,n,l){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==n?n:null,r=l):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new $v),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Kv,this.urlWithParams=t}serializeBody(){return null===this.body?null:Wv(this.body)||Zv(this.body)||Qv(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Qv(this.body)?null:Zv(this.body)?this.body.type||null:Wv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,l=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let o=e.headers||this.headers,a=e.params||this.params;return void 0!==e.setHeaders&&(o=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),o)),e.setParams&&(a=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),a)),new Jv(t,n,r,{params:a,headers:o,reportProgress:s,responseType:l,withCredentials:i})}}const Yv=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Xv{constructor(e,t=200,n="OK"){this.headers=e.headers||new $v,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ey extends Xv{constructor(e={}){super(e),this.type=Yv.ResponseHeader}clone(e={}){return new ey({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ty extends Xv{constructor(e={}){super(e),this.type=Yv.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ty({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ny extends Xv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ly(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class ry{constructor(e){this.handler=e}request(e,t,n={}){let l;if(e instanceof Jv)l=e;else{let r=void 0;r=n.headers instanceof $v?n.headers:new $v(n.headers);let i=void 0;n.params&&(i=n.params instanceof Kv?n.params:new Kv({fromObject:n.params})),l=new Jv(e,t,void 0!==n.body?n.body:null,{headers:r,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Po(l).pipe(cu(e=>this.handler.handle(e)));if(e instanceof Jv||"events"===n.observe)return r;const i=r.pipe(Ma(e=>e instanceof ty));switch(n.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return i.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return i.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return i.pipe(H(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return i.pipe(H(e=>e.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Kv).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,ly(n,t))}post(e,t,n={}){return this.request("POST",e,ly(n,t))}put(e,t,n={}){return this.request("PUT",e,ly(n,t))}}class iy{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const sy=new Oe("HTTP_INTERCEPTORS");class oy{intercept(e,t){return t.handle(e)}}const ay=/^\)\]\}',?\n/;class uy{}class cy{constructor(){}build(){return new XMLHttpRequest}}class dy{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const l=e.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,l=n.statusText||"OK",i=new $v(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new ey({headers:i,status:t,statusText:l,url:s})},s=()=>{let{headers:l,status:r,statusText:s,url:o}=i(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let u=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(ay,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=e,u&&(u=!1,a={error:c,text:a})}}u?(t.next(new ty({body:a,headers:l,status:r,statusText:s,url:o||void 0})),t.complete()):t.error(new ny({error:a,headers:l,status:r,statusText:s,url:o||void 0}))},o=e=>{const{url:l}=i(),r=new ny({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:l||void 0});t.error(r)};let a=!1;const u=l=>{a||(t.next(i()),a=!0);let r={type:Yv.DownloadProgress,loaded:l.loaded};l.lengthComputable&&(r.total=l.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},c=e=>{let n={type:Yv.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",o),e.reportProgress&&(n.addEventListener("progress",u),null!==l&&n.upload&&n.upload.addEventListener("progress",c)),n.send(l),t.next({type:Yv.Sent}),()=>{n.removeEventListener("error",o),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",u),null!==l&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const hy=new Oe("XSRF_COOKIE_NAME"),gy=new Oe("XSRF_HEADER_NAME");class py{}class fy{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ua(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class my{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const l=this.tokenService.getToken();return null===l||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,l)})),t.handle(e)}}class vy{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(sy,[]);this.chain=e.reduceRight((e,t)=>new iy(e,t),this.backend)}return this.chain.handle(e)}}class yy{static disable(){return{ngModule:yy,providers:[{provide:my,useClass:oy}]}}static withOptions(e={}){return{ngModule:yy,providers:[e.cookieName?{provide:hy,useValue:e.cookieName}:[],e.headerName?{provide:gy,useValue:e.headerName}:[]]}}}class by{}let _y=(()=>{class e{constructor(e,t,n){this.tokenService=e,this.router=t,this.settingsService=n}canActivate(e,t){let n=!0,l="";this.settingsService.setRedirectUri(t.url);let r=Ag.Low;e.data.requiredAuthLevel&&(r=e.data.requiredAuthLevel),r&&(void 0===this.tokenService.getAuthLevel()||this.tokenService.getAuthLevel()<r)&&(n=!1,l="mindestens mit Level: "+Ag[r]);const i=e.data.requiredAuthType;return i&&this.tokenService.getAuthType()<i&&(l=n?"mindestens mit Typ: "+Tg[i]:l+"-mindestens mit Typ: "+Tg[i],n=!1),n?(this.settingsService.resetRedirectUri(),!0):(this.settingsService.addRequiredByGuardHelptext(l),this.settingsService.showInfoPageAfterGuardNotFulfilled()?this.router.parseUrl("/iam/guard-fail"):this.router.parseUrl("/iam/login"))}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(Zh),Le(xg))},token:e,providedIn:"root"}),e})(),wy=(()=>{class e{constructor(e,t,n,l){this.tokenService=e,this.router=t,this.settingsService=n,this.orgaService=l}canActivate(e,t){let n=!0,l="";return this.settingsService.resetRequiredByGuardHelptext(),this.settingsService.setRedirectUri(t.url),this.tokenService.getAuthType()<Tg.OrgaUser?(n=!1,l="in einer Organisation-und du musst Admin dieser Organisation sein."):this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)||(n=!1,l="und du musst Admin dieser Organisation sein."),n?(this.settingsService.resetRedirectUri(),!0):(this.settingsService.addRequiredByGuardHelptext(l),this.settingsService.showInfoPageAfterOrgaAdminGuardNotFulfilled()?this.router.parseUrl("/iam/guard-fail"):this.router.parseUrl("/iam/login"))}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(Zh),Le(xg),Le(zg))},token:e,providedIn:"root"}),e})();const Cy={requiredAuthLevel:Ag.Secure},Sy={requiredAuthLevel:Ag.Low,requiredAuthType:Tg.OrgaUser},ky={requiredAuthLevel:Ag.Secure,requiredAuthType:Tg.OrgaUser};class Iy{}var Oy=yo(qo,[Zo],(function(e){return function(e){const t={},n=[];let l=!1;for(let r=0;r<e.length;r++){const i=e[r];i.token===Rt&&!0===i.value&&(l=!0),1073741824&i.flags&&n.push(i.token),i.index=r,t[Yn(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:l}}([El(512,on,an,[[8,[Ig,Qg,af,pf,kf,Rf,Lf,Gf,tm,um,vm,Pm,Hm,tv,ov,hv,_v,xv,Mv,Bv]],[3,on],je]),El(5120,$r,Gi,[[3,$r]]),El(4608,oa,aa,[$r,[2,sa]]),El(5120,kr,Ki,[ai]),El(5120,Fr,Vr,[]),El(5120,Pn,$i,[]),El(5120,En,qi,[]),El(4608,vc,yc,[wa]),El(6144,Ot,null,[vc]),El(4608,cc,hc,[]),El(5120,Mu,(function(e,t,n,l,r,i,s,o){return[new ac(e,t,n),new mc(l),new gc(r,i,s,o)]}),[wa,ai,Br,wa,wa,cc,Hr,[2,dc]]),El(4608,Ru,Ru,[Mu,ai]),El(135680,Du,Du,[wa]),El(4608,Hu,Hu,[Ru,Du,Fr]),El(6144,pn,null,[Hu]),El(6144,Uu,null,[Du]),El(4608,fi,fi,[ai]),El(5120,Vd,vg,[Zh]),El(4608,rg,rg,[]),El(6144,ng,null,[rg]),El(135680,ig,ig,[Zh,Pi,Jr,Ut,ng]),El(4608,lg,lg,[]),El(5120,sg,hg,[Zh,Sa,og]),El(5120,wg,_g,[yg]),El(5120,jr,(function(e){return[e]}),[wg]),El(4608,yp,yp,[]),El(4608,py,fy,[wa,Br,hy]),El(4608,my,my,[py,gy]),El(5120,sy,(function(e){return[e]}),[my]),El(4608,cy,cy,[]),El(6144,uy,null,[cy]),El(4608,dy,dy,[uy]),El(6144,Hv,null,[dy]),El(4608,jv,vy,[Hv,Ut]),El(4608,ry,ry,[jv]),El(5120,Fo,$o,[]),El(4608,Vo,Vo,[Fo]),El(1073742336,_a,_a,[]),El(1024,et,Oc,[]),El(1024,Si,(function(){return[cg()]}),[]),El(512,yg,yg,[Ut]),El(1024,Ur,(function(e,t){return[(n=e,Tu("probe",Eu),Tu("coreTokens",Object.assign({},Pu,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Eu),bg(t)];var n}),[[2,Si],yg]),El(512,Dr,Dr,[[2,Ur]]),El(131584,Ai,Ai,[ai,Hr,Ut,et,on,Dr]),El(1073742336,Wi,Wi,[Ai]),El(1073742336,xc,xc,[[3,xc]]),El(1024,ag,pg,[[3,Zh]]),El(512,md,vd,[]),El(512,Xh,Xh,[]),El(256,og,{},[]),El(1024,Yo,gg,[Qo,[2,Xo],og]),El(512,ea,ea,[Yo,Qo]),El(512,Jr,Jr,[]),El(512,Pi,Ui,[Jr,[2,Ri]]),El(1024,jh,(function(){return[[{path:"",component:Og},{path:"iam/login",component:lf},{path:"iam/select-organization",component:uf},{path:"iam/register",component:ff},{path:"iam/registration-successful",component:If},{path:"iam/guard-fail",component:Nf},{path:"iam/account-management",component:zf,canActivate:[_y]},{path:"iam/user-info",component:Kf,canActivate:[_y]},{path:"iam/credentials-management",component:nm,canActivate:[_y]},{path:"iam/organization-management",component:cm,canActivate:[_y],data:Cy},{path:"iam/organization-administration",component:ym,canActivate:[wy]},{path:"notification-view",component:Em,canActivate:[_y]},{path:"fakes/mail-view",component:$m},{path:"iam/settings",component:nv},{path:"help",component:av},{path:"folderApp/main",component:gv,canActivate:[_y],data:Sy},{path:"folderApp/admin",component:wv,canActivate:[wy]},{path:"x/geschuetzt-mit-beidem-mit-parametern",component:nm,canActivate:[_y],data:ky},{path:"**",component:Av}]]}),[]),El(1024,Zh,mg,[Ai,md,Xh,ea,Ut,Pi,Jr,jh,og,[2,$h],[2,zh]]),El(1073742336,dg,dg,[[2,ag],[2,Zh]]),El(1073742336,Iy,Iy,[]),El(1073742336,ef,ef,[]),El(1073742336,tf,tf,[]),El(1073742336,yy,yy,[]),El(1073742336,by,by,[]),El(1073742336,Lo,Lo,[]),El(1073742336,qo,qo,[]),El(256,Rt,!0,[]),El(256,hy,"XSRF-TOKEN",[]),El(256,gy,"X-XSRF-TOKEN",[])])}));(function(){if(nt)throw new Error("Cannot enable prod mode after platform setup.");tt=!1})(),Ic().bootstrapModuleFactory(Oy).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);