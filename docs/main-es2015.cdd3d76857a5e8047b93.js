(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,n,t){e.exports=t("zUnb")},zUnb:function(e,n,t){"use strict";function l(e){return"function"==typeof e}t.r(n);let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function a(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,n)=>`${n+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let h=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,n=!1;if(this.closed)return;let{_parent:t,_parents:r,_unsubscribe:i,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=r?r.length:0;for(;t;)t.remove(this),t=++o<c&&r[o]||null;if(l(i))try{i.call(this)}catch(h){n=!0,e=h instanceof d?g(h.errors):[h]}if(u(s))for(o=-1,c=s.length;++o<c;){const t=s[o];if(a(t))try{t.unsubscribe()}catch(h){n=!0,e=e||[],h instanceof d?e=e.concat(g(h.errors)):e.push(h)}}if(n)throw new d(e)}add(n){let t=n;switch(typeof n){case"function":t=new e(n);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){const n=t;(t=new e)._subscriptions=[n]}break;default:if(!n)return e.EMPTY;throw new Error("unrecognized teardown "+n+" added to Subscription.")}if(t._addParent(this)){const e=this._subscriptions;e?e.push(t):this._subscriptions=[t]}return t}remove(e){const n=this._subscriptions;if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}_addParent(e){let{_parent:n,_parents:t}=this;return n!==e&&(n?t?-1===t.indexOf(e)&&(t.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function g(e){return e.reduce((e,n)=>e.concat(n instanceof d?n.errors:n),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends h{constructor(e,n,t){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,n,t)}}[p](){return this}static create(e,n,t){const l=new f(e,n,t);return l.syncErrorThrowable=!1,l}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:n}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this}}class m extends f{constructor(e,n,t,r){let i;super(),this._parentSubscriber=e;let s=this;l(n)?i=n:n&&(i=n.next,t=n.error,r=n.complete,n!==o&&(l((s=Object.create(n)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=t,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;i.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:t}=i;if(this._error)t&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)t?(n.syncErrorValue=e,n.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),t)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;s(t)}}__tryOrSetError(e,n,t){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,t)}catch(l){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=l,e.syncErrorThrown=!0,!0):(s(l),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function _(...e){return b(e)}function b(e){return e?1===e.length?e[0]:function(n){return e.reduce((e,n)=>n(e),n)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(n){const t=new e;return t.source=this,t.operator=n,t}subscribe(e,n,t){const{operator:l}=this,r=function(e,n,t){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||n||t?new f(e,n,t):new f(o)}(e,n,t);if(r.add(l?l.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(n){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),function(e){for(;e;){const{closed:n,destination:t,isStopped:l}=e;if(n||l)return!1;e=t&&t instanceof f?t:null}return!0}(e)?e.error(n):console.warn(n)}}forEach(e,n){return new(n=C(n))((n,t)=>{let l;l=this.subscribe(n=>{try{e(n)}catch(r){t(r),l&&l.unsubscribe()}},t,n)})}_subscribe(e){const{source:n}=this;return n&&n.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=C(e))((e,n)=>{let t;this.subscribe(e=>t=e,e=>n(e),()=>e(t))})}}return e.create=n=>new e(n),e})();function C(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function I(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}I.prototype=Object.create(Error.prototype);const S=I;class O extends h{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const t=n.indexOf(this.subscriber);-1!==t&&n.splice(t,1)}}class k extends f{constructor(e){super(e),this.destination=e}}let x=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(e){const n=new A(this,this);return n.operator=e,n}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:n}=this,t=n.length,l=n.slice();for(let r=0;r<t;r++)l[r].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:n}=this,t=n.length,l=n.slice();for(let r=0;r<t;r++)l[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,n=e.length,t=e.slice();for(let l=0;l<n;l++)t[l].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new O(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,n)=>new A(e,n),e})();class A extends x{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class P extends f{constructor(e,n,t){super(),this.parent=e,this.outerValue=n,this.outerIndex=t,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const E=e=>n=>{for(let t=0,l=e.length;t<l&&!n.closed;t++)n.next(e[t]);n.closed||n.complete()},R=e=>n=>(e.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,s),n);function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const U=N(),D=e=>n=>{const t=e[U]();for(;;){const e=t.next();if(e.done){n.complete();break}if(n.next(e.value),n.closed)break}return"function"==typeof t.return&&n.add(()=>{t.return&&t.return()}),n},F=e=>n=>{const t=e[v]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(n)},V=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const z=e=>{if(e instanceof w)return n=>e._isScalar?(n.next(e.value),void n.complete()):e.subscribe(n);if(e&&"function"==typeof e[v])return F(e);if(V(e))return E(e);if(L(e))return R(e);if(e&&"function"==typeof e[U])return D(e);{const n=a(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${n} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function B(e,n,t,l,r=new P(e,t,l)){if(!r.closed)return z(n)(r)}class j extends f{notifyNext(e,n,t,l,r){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function $(e,n){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new H(e,n))}}class H{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new q(e,this.project,this.thisArg))}}class q extends f{constructor(e,n,t){super(e),this.project=n,this.count=0,this.thisArg=t||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)}}function G(e,n){return new w(n?t=>{const l=new h;let r=0;return l.add(n.schedule((function(){r!==e.length?(t.next(e[r++]),t.closed||l.add(this.schedule())):t.complete()}))),l}:E(e))}function K(e,n){if(!n)return e instanceof w?e:new w(z(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,n){return new w(n?t=>{const l=new h;return l.add(n.schedule(()=>{const r=e[v]();l.add(r.subscribe({next(e){l.add(n.schedule(()=>t.next(e)))},error(e){l.add(n.schedule(()=>t.error(e)))},complete(){l.add(n.schedule(()=>t.complete()))}}))})),l}:F(e))}(e,n);if(L(e))return function(e,n){return new w(n?t=>{const l=new h;return l.add(n.schedule(()=>e.then(e=>{l.add(n.schedule(()=>{t.next(e),l.add(n.schedule(()=>t.complete()))}))},e=>{l.add(n.schedule(()=>t.error(e)))}))),l}:R(e))}(e,n);if(V(e))return G(e,n);if(function(e){return e&&"function"==typeof e[U]}(e)||"string"==typeof e)return function(e,n){if(!e)throw new Error("Iterable cannot be null");return new w(n?t=>{const l=new h;let r;return l.add(()=>{r&&"function"==typeof r.return&&r.return()}),l.add(n.schedule(()=>{r=e[U](),l.add(n.schedule((function(){if(t.closed)return;let e,n;try{const t=r.next();e=t.value,n=t.done}catch(l){return void t.error(l)}n?t.complete():(t.next(e),this.schedule())})))})),l}:D(e))}(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function W(e,n,t=Number.POSITIVE_INFINITY){return"function"==typeof n?l=>l.pipe(W((t,l)=>K(e(t,l)).pipe($((e,r)=>n(t,e,l,r))),t)):("number"==typeof n&&(t=n),n=>n.lift(new Z(e,t)))}class Z{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends j{constructor(e,n,t=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=t,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const t=this.index++;try{n=this.project(e,t)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(n,e,t)}_innerSub(e,n,t){const l=new P(this,void 0,void 0);this.destination.add(l),B(this,e,n,t,l)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,n,t,l,r){this.destination.next(n)}notifyComplete(e){const n=this.buffer;this.remove(e),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function J(e){return e}function Y(e=Number.POSITIVE_INFINITY){return W(J,e)}function X(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,n){const{connectable:t}=this;t._refCount++;const l=new ne(e,t),r=n.subscribe(l);return l.closed||(l.connection=t.connect()),r}}class ne extends f{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:t}=this,l=e._connection;this.connection=null,!l||t&&l!==t||l.unsubscribe()}}const te=class extends w{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new re(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e}refCount(){return X()(this)}}.prototype,le={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}};class re extends k{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function ie(){return new x}const se="__parameters__";function oe(e,n,t){const l=function(e){return function(...n){if(e){const t=e(...n);for(const e in t)this[e]=t[e]}}}(n);function r(...e){if(this instanceof r)return l.apply(this,e),this;const n=new r(...e);return t.annotation=n,t;function t(e,t,l){const r=e.hasOwnProperty(se)?e[se]:Object.defineProperty(e,se,{value:[]})[se];for(;r.length<=l;)r.push(null);return(r[l]=r[l]||[]).push(n),e}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}const ue=oe("Inject",e=>({token:e})),ae=oe("Optional"),ce=oe("Self"),de=oe("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ge(e){for(let n in e)if(e[n]===ge)return n;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){const n=e[me];return n&&n.token===e?n:null}const me=ge({ngInjectableDef:ge});function ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}const ye=ge({__forward_ref__:ge});function _e(e){return e.__forward_ref__=_e,e.toString=function(){return ve(this())},e}function be(e){const n=e;return"function"==typeof n&&n.hasOwnProperty(ye)&&n.__forward_ref__===_e?n():e}const we="undefined"!=typeof globalThis&&globalThis,Ce="undefined"!=typeof window&&window,Ie="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Se="undefined"!=typeof global&&global,Oe=we||Se||Ce||Ie;class ke{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xe=new ke("INJECTOR",-1),Ae=new Object,Te="ngTempTokenPath",Pe="ngTokenPath",Ee=/\n/gm,Re="\u0275",Me="__source",Ne=ge({provide:String,useValue:ge});let Ue,De=void 0;function Fe(e){const n=De;return De=e,n}function Ve(e,n=he.Default){if(void 0===De)throw new Error("inject() must be called from an injection context");return null===De?function(e,n,t){const l=fe(e);if(l&&"root"==l.providedIn)return void 0===l.value?l.value=l.factory():l.value;if(t&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ve(e)}]`)}(e,0,n):De.get(e,n&he.Optional?null:void 0,n)}function Le(e,n=he.Default){return(Ue||Ve)(e,n)}class ze{get(e,n=Ae){if(n===Ae){const n=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw n.name="NullInjectorError",n}return n}}function Be(e,n,t,l=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Re?e.substr(2):e;let r=ve(n);if(n instanceof Array)r=n.map(ve).join(" -> ");else if("object"==typeof n){let e=[];for(let t in n)if(n.hasOwnProperty(t)){let l=n[t];e.push(t+":"+("string"==typeof l?JSON.stringify(l):ve(l)))}r=`{${e.join(", ")}}`}return`${t}${l?"("+l+")":""}[${r}]: ${e.replace(Ee,"\n  ")}`}class je{}class $e{}function He(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function qe(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}const Ge=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))(),We="ngDebugContext",Ze="ngOriginalError",Qe="ngErrorLogger";function Je(e){return e[We]}function Ye(e){return e[Ze]}function Xe(e,...n){e.error(...n)}class en{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),t=this._findContext(e),l=function(e){return e[Qe]||Xe}(e);l(this._console,"ERROR",e),n&&l(this._console,"ORIGINAL ERROR",n),t&&l(this._console,"ERROR CONTEXT",t)}_findContext(e){return e?Je(e)?Je(e):this._findContext(Ye(e)):null}_findOriginalError(e){let n=Ye(e);for(;n&&Ye(n);)n=Ye(n);return n}}let nn=!0,tn=!1;function ln(){return tn=!0,nn}class rn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(l){return null}const n=new XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(void 0);const t=n.response.body;return t.removeChild(t.firstChild),t}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(n){return null}}getInertBodyElement_InertDocument(e){const n=this.inertDocument.createElement("template");return"content"in n?(n.innerHTML=e,n):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const n=e.attributes;for(let l=n.length-1;0<l;l--){const t=n.item(l).name;"xmlns:ns1"!==t&&0!==t.indexOf("ns1:")||e.removeAttribute(t)}let t=e.firstChild;for(;t;)t.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(t),t=t.nextSibling}}const sn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,on=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function un(e){return(e=String(e)).match(sn)||e.match(on)?e:(ln()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function an(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function cn(...e){const n={};for(const t of e)for(const e in t)t.hasOwnProperty(e)&&(n[e]=!0);return n}const dn=an("area,br,col,hr,img,wbr"),hn=an("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gn=an("rp,rt"),pn=cn(gn,hn),fn=cn(dn,cn(hn,an("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cn(gn,an("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pn),mn=an("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vn=an("srcset"),yn=cn(mn,vn,an("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),an("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_n=an("script,style,template");class bn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,t=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?t=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,t&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let e=this.checkClobberedElement(n,n.nextSibling);if(e){n=e;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!fn.hasOwnProperty(n))return this.sanitizedSomething=!0,!_n.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const t=e.attributes;for(let r=0;r<t.length;r++){const e=t.item(r),n=e.name,i=n.toLowerCase();if(!yn.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;mn[i]&&(s=un(s)),vn[i]&&(l=s,s=(l=String(l)).split(",").map(e=>un(e.trim())).join(", ")),this.buf.push(" ",n,'="',In(s),'"')}var l;return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();fn.hasOwnProperty(n)&&!dn.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(In(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const wn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cn=/([^\#-~ |!])/g;function In(e){return e.replace(/&/g,"&amp;").replace(wn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Cn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sn;function On(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const kn=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class xn{}const An=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Tn=/^url\(([^)]+)\)$/,Pn=/([A-Z])/g;function En(e){try{return null!=e?e.toString().slice(0,30):e}catch(n){return"[ERROR] Exception while trying to serialize the value"}}let Rn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Mn(),e})();const Mn=(...e)=>{},Nn=new ke("The presence of this token marks an injector as being the root injector."),Un=function(e,n,t){return new jn(e,n,t)};let Dn=(()=>{class e{static create(e,n){return Array.isArray(e)?Un(e,n,""):Un(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ae,e.NULL=new ze,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:()=>Le(xe)}),e.__NG_ELEMENT_ID__=-1,e})();const Fn=function(e){return e},Vn=[],Ln=Fn,zn=function(){return Array.prototype.slice.call(arguments)},Bn="\u0275";class jn{constructor(e,n=Dn.NULL,t=null){this.parent=n,this.source=t;const l=this._records=new Map;l.set(Dn,{token:Dn,fn:Fn,deps:Vn,value:this,useNew:!1}),l.set(xe,{token:xe,fn:Fn,deps:Vn,value:this,useNew:!1}),function e(n,t){if(t)if((t=be(t))instanceof Array)for(let l=0;l<t.length;l++)e(n,t[l]);else{if("function"==typeof t)throw Hn("Function/Class not supported",t);if(!t||"object"!=typeof t||!t.provide)throw Hn("Unexpected provider",t);{let e=be(t.provide);const l=function(e){const n=function(e){let n=Vn;const t=e.deps;if(t&&t.length){n=[];for(let e=0;e<t.length;e++){let l=6,r=be(t[e]);if(r instanceof Array)for(let e=0,n=r;e<n.length;e++){const t=n[e];t instanceof ae||t==ae?l|=1:t instanceof de||t==de?l&=-3:t instanceof ce||t==ce?l&=-5:r=t instanceof ue?t.token:be(t)}n.push({token:r,options:l})}}else if(e.useExisting)n=[{token:be(e.useExisting),options:6}];else if(!(t||Ne in e))throw Hn("'deps' required",e);return n}(e);let t=Fn,l=Vn,r=!1,i=be(e.provide);if(Ne in e)l=e.useValue;else if(e.useFactory)t=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,t=be(e.useClass);else{if("function"!=typeof i)throw Hn("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,t=i}return{deps:n,fn:t,useNew:r,value:l}}(t);if(!0===t.multi){let l=n.get(e);if(l){if(l.fn!==zn)throw $n(e)}else n.set(e,l={token:t.provide,deps:[],useNew:!1,fn:zn,value:Vn});l.deps.push({token:e=t,options:6})}const r=n.get(e);if(r&&r.fn==zn)throw $n(e);n.set(e,l)}}}(l,e)}get(e,n,t=he.Default){const l=this._records.get(e);try{return function e(n,t,l,r,i,s){try{return function(n,t,l,r,i,s){let o;if(!t||s&he.SkipSelf)s&he.Self||(o=r.get(n,i,he.Default));else{if((o=t.value)==Ln)throw Error(Bn+"Circular dependency");if(o===Vn){t.value=Ln;let n=void 0,i=t.useNew,s=t.fn,u=t.deps,a=Vn;if(u.length){a=[];for(let n=0;n<u.length;n++){const t=u[n],i=t.options,s=2&i?l.get(t.token):void 0;a.push(e(t.token,s,l,s||4&i?r:Dn.NULL,1&i?null:Dn.THROW_IF_NOT_FOUND,he.Default))}}t.value=o=i?new s(...a):s.apply(n,a)}}return o}(n,t,l,r,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[Te]=o[Te]||[]).unshift(n),t&&t.value==Ln&&(t.value=Vn),o}}(e,l,this._records,this.parent,n,t)}catch(r){return function(e,n,t,l){const r=e[Te];throw n[Me]&&r.unshift(n[Me]),e.message=Be("\n"+e.message,r,"StaticInjectorError",l),e[Pe]=r,e[Te]=null,e}(r,e,0,this.source)}}toString(){const e=[];return this._records.forEach((n,t)=>e.push(ve(t))),`StaticInjector[${e.join(", ")}]`}}function $n(e){return Hn("Cannot mix multi providers and regular providers",e)}function Hn(e,n){return new Error(Be(e,n,"StaticInjectorError"))}const qn=new ke("AnalyzeForEntryComponents");let Gn=null;function Kn(){if(!Gn){const e=Oe.Symbol;if(e&&e.iterator)Gn=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const t=e[n];"entries"!==t&&"size"!==t&&Map.prototype[t]===Map.prototype.entries&&(Gn=t)}}}return Gn}function Wn(e,n){return e===n||"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n)}function Zn(e,n){const t=Jn(e),l=Jn(n);if(t&&l)return function(e,n,t){const l=e[Kn()](),r=n[Kn()]();for(;;){const e=l.next(),n=r.next();if(e.done&&n.done)return!0;if(e.done||n.done)return!1;if(!t(e.value,n.value))return!1}}(e,n,Zn);{const r=e&&("object"==typeof e||"function"==typeof e),i=n&&("object"==typeof n||"function"==typeof n);return!(t||!r||l||!i)||Wn(e,n)}}class Qn{constructor(e){this.wrapped=e}static wrap(e){return new Qn(e)}static unwrap(e){return Qn.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Qn}}function Jn(e){return!!Yn(e)&&(Array.isArray(e)||!(e instanceof Map)&&Kn()in e)}function Yn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xn(e){return!!e&&"function"==typeof e.then}function et(e){return!!e&&"function"==typeof e.subscribe}class nt{constructor(e,n,t){this.previousValue=e,this.currentValue=n,this.firstChange=t}isFirstChange(){return this.firstChange}}class tt{}class lt{}function rt(e){const n=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return n[it]=e,n}const it="ngComponent";class st{resolveComponentFactory(e){throw rt(e)}}let ot=(()=>{class e{}return e.NULL=new st,e})();class ut{constructor(e,n,t){this._parent=n,this._ngModule=t,this._factories=new Map;for(let l=0;l<e.length;l++){const n=e[l];this._factories.set(n.componentType,n)}}resolveComponentFactory(e){let n=this._factories.get(e);if(!n&&this._parent&&(n=this._parent.resolveComponentFactory(e)),!n)throw rt(e);return new at(n,this._ngModule)}}class at extends lt{constructor(e,n){super(),this.factory=e,this.ngModule=n,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,n,t,l){return this.factory.create(e,n,t,l||this.ngModule)}}function ct(...e){}let dt=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>ht(e),e})();const ht=ct;class gt{}class pt{}const ft=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let mt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>vt(),e})();const vt=ct;class yt{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _t=new yt("8.2.14");class bt{constructor(){}supports(e){return Jn(e)}create(e){return new Ct(e)}}const wt=(e,n)=>n;class Ct{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wt}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,t=this._removalsHead,l=0,r=null;for(;n||t;){const i=!t||n&&n.currentIndex<kt(t,l,r)?n:t,s=kt(i,l,r),o=i.currentIndex;if(i===t)l--,t=t._nextRemoved;else if(n=n._next,null==i.previousIndex)l++;else{r||(r=[]);const e=s-l,n=o-l;if(e!=n){for(let t=0;t<e;t++){const l=t<r.length?r[t]:r[t]=0,i=l+t;n<=i&&i<e&&(r[t]=l+1)}r[i.previousIndex]=n-e}}s!==o&&e(i,s,o)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Jn(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n,t,l,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let n=0;n<this.length;n++)l=this._trackByFn(n,t=e[n]),null!==r&&Wn(r.trackById,l)?(i&&(r=this._verifyReinsertion(r,t,l,n)),Wn(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,l,n),i=!0),r=r._next}else n=0,function(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Kn()]();let l;for(;!(l=t.next()).done;)n(l.value)}}(e,e=>{l=this._trackByFn(n,e),null!==r&&Wn(r.trackById,l)?(i&&(r=this._verifyReinsertion(r,e,l,n)),Wn(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,l,n),i=!0),r=r._next,n++}),this.length=n;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,n;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=n)e.previousIndex=e.currentIndex,n=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,t,l){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(t,l))?(Wn(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,r,l)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(Wn(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,r,l)):e=this._addAfter(new It(n,t),r,l),e}_verifyReinsertion(e,n,t,l){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==r?e=this._reinsertAfter(r,e._prev,l):e.currentIndex!=l&&(e.currentIndex=l,this._addToMoves(e,l)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const l=e._prevRemoved,r=e._nextRemoved;return null===l?this._removalsHead=r:l._nextRemoved=r,null===r?this._removalsTail=l:r._prevRemoved=l,this._insertAfter(e,n,t),this._addToMoves(e,t),e}_moveAfter(e,n,t){return this._unlink(e),this._insertAfter(e,n,t),this._addToMoves(e,t),e}_addAfter(e,n,t){return this._insertAfter(e,n,t),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,t){const l=null===n?this._itHead:n._next;return e._next=l,e._prev=n,null===l?this._itTail=e:l._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ot),this._linkedRecords.put(e),e.currentIndex=t,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,t=e._next;return null===n?this._itHead=t:n._next=t,null===t?this._itTail=n:t._prev=n,e}_addToMoves(e,n){return e.previousIndex===n?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ot),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class It{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class St{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let t;for(t=this._head;null!==t;t=t._nextDup)if((null===n||n<=t.currentIndex)&&Wn(t.trackById,e))return t;return null}remove(e){const n=e._prevDup,t=e._nextDup;return null===n?this._head=t:n._nextDup=t,null===t?this._tail=n:t._prevDup=n,null===this._head}}class Ot{constructor(){this.map=new Map}put(e){const n=e.trackById;let t=this.map.get(n);t||(t=new St,this.map.set(n,t)),t.add(e)}get(e,n){const t=this.map.get(e);return t?t.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kt(e,n,t){const l=e.previousIndex;if(null===l)return l;let r=0;return t&&l<t.length&&(r=t[l]),l+n+r}class xt{constructor(){}supports(e){return e instanceof Map||Yn(e)}create(){return new At}}class At{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Yn(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,t)=>{if(n&&n.key===t)this._maybeAddToChanges(n,e),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(t,e);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let e=n;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const t=e._prev;return n._next=e,n._prev=t,e._prev=n,t&&(t._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const t=this._records.get(e);this._maybeAddToChanges(t,n);const l=t._prev,r=t._next;return l&&(l._next=r),r&&(r._prev=l),t._next=null,t._prev=null,t}const t=new Tt(e);return this._records.set(e,t),t.currentValue=n,this._addToAdditions(t),t}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Wn(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(t=>n(e[t],t))}}class Tt{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Pt=(()=>{class e{constructor(e){this.factories=e}static create(n,t){if(null!=t){const e=t.factories.slice();n=n.concat(e)}return new e(n)}static extend(n){return{provide:e,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(n,t)},deps:[[e,new de,new ae]]}}find(e){const n=this.factories.find(n=>n.supports(e));if(null!=n)return n;throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'`);var t}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new bt])}),e})(),Et=(()=>{class e{constructor(e){this.factories=e}static create(n,t){if(t){const e=t.factories.slice();n=n.concat(e)}return new e(n)}static extend(n){return{provide:e,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(n,t)},deps:[[e,new de,new ae]]}}find(e){const n=this.factories.find(n=>n.supports(e));if(n)return n;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new xt])}),e})();const Rt=[new xt],Mt=new Pt([new bt]),Nt=new Et(Rt);let Ut=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Dt(e,dt),e})();const Dt=ct;let Ft=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Vt(e,dt),e})();const Vt=ct;function Lt(e,n,t,l){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${n}'. Current value: '${t}'.`;return l&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,n){const t=new Error(e);return zt(t,n),t}(r,e)}function zt(e,n){e[We]=n,e[Qe]=n.logError.bind(n)}function Bt(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function jt(e,n,t){const l=e.state,r=1792&l;return r===n?(e.state=-1793&l|t,e.initIndex=-1,!0):r===t}function $t(e,n,t){return(1792&e.state)===n&&e.initIndex<=t&&(e.initIndex=t+1,!0)}function Ht(e,n){return e.nodes[n]}function qt(e,n){return e.nodes[n]}function Gt(e,n){return e.nodes[n]}function Kt(e,n){return e.nodes[n]}function Wt(e,n){return e.nodes[n]}const Zt={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Qt=()=>{},Jt=new Map;function Yt(e){let n=Jt.get(e);return n||(n=ve(e)+"_"+Jt.size,Jt.set(e,n)),n}const Xt="$$undefined",el="$$empty";function nl(e){return{id:Xt,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let tl=0;function ll(e,n,t,l){return!(!(2&e.state)&&Wn(e.oldValues[n.bindingIndex+t],l))}function rl(e,n,t,l){return!!ll(e,n,t,l)&&(e.oldValues[n.bindingIndex+t]=l,!0)}function il(e,n,t,l){const r=e.oldValues[n.bindingIndex+t];if(1&e.state||!Zn(r,l)){const i=n.bindings[t].name;throw Lt(Zt.createDebugContext(e,n.nodeIndex),`${i}: ${r}`,`${i}: ${l}`,0!=(1&e.state))}}function sl(e){let n=e;for(;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function ol(e,n){let t=e;for(;t&&t!==n;)t.state|=64,t=t.viewContainerParent||t.parent}function ul(e,n,t,l){try{return sl(33554432&e.def.nodes[n].flags?qt(e,n).componentView:e),Zt.handleEvent(e,n,t,l)}catch(r){e.root.errorHandler.handleError(r)}}function al(e){return e.parent?qt(e.parent,e.parentNodeDef.nodeIndex):null}function cl(e){return e.parent?e.parentNodeDef.parent:null}function dl(e,n){switch(201347067&n.flags){case 1:return qt(e,n.nodeIndex).renderElement;case 2:return Ht(e,n.nodeIndex).renderText}}function hl(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function gl(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function pl(e){const n={};let t=0;const l={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(n[e]=r,t|=function(e){return 1<<e%32}(e)):l[e]=r}),{matchedQueries:n,references:l,matchedQueryIds:t}}function fl(e,n){return e.map(e=>{let t,l;return Array.isArray(e)?[l,t]=e:(l=0,t=e),t&&("function"==typeof t||"object"==typeof t)&&n&&Object.defineProperty(t,Me,{value:n,configurable:!0}),{flags:l,token:t,tokenKey:Yt(t)}})}function ml(e,n,t){let l=t.renderParent;return l?0==(1&l.flags)||0==(33554432&l.flags)||l.element.componentRendererType&&l.element.componentRendererType.encapsulation===Ge.Native?qt(e,t.renderParent.nodeIndex).renderElement:void 0:n}const vl=new WeakMap;function yl(e){let n=vl.get(e);return n||((n=e(()=>Qt)).factory=e,vl.set(e,n)),n}function _l(e,n,t,l,r){3===n&&(t=e.renderer.parentNode(dl(e,e.def.lastRenderRootNode))),bl(e,n,0,e.def.nodes.length-1,t,l,r)}function bl(e,n,t,l,r,i,s){for(let o=t;o<=l;o++){const t=e.def.nodes[o];11&t.flags&&Cl(e,t,n,r,i,s),o+=t.childCount}}function wl(e,n,t,l,r,i){let s=e;for(;s&&!hl(s);)s=s.parent;const o=s.parent,u=cl(s),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const e=o.def.nodes[c];e.ngContentIndex===n&&Cl(o,e,t,l,r,i),c+=e.childCount}if(!o.parent){const s=e.root.projectableNodes[n];if(s)for(let n=0;n<s.length;n++)Il(e,s[n],t,l,r,i)}}function Cl(e,n,t,l,r,i){if(8&n.flags)wl(e,n.ngContent.index,t,l,r,i);else{const s=dl(e,n);if(3===t&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&Il(e,s,t,l,r,i),32&n.bindingFlags&&Il(qt(e,n.nodeIndex).componentView,s,t,l,r,i)):Il(e,s,t,l,r,i),16777216&n.flags){const s=qt(e,n.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)_l(s[e],t,l,r,i)}1&n.flags&&!n.element.name&&bl(e,t,n.nodeIndex+1,n.nodeIndex+n.childCount,l,r,i)}}function Il(e,n,t,l,r,i){const s=e.renderer;switch(t){case 1:s.appendChild(l,n);break;case 2:s.insertBefore(l,n,r);break;case 3:s.removeChild(l,n);break;case 0:i.push(n)}}const Sl=/^:([^:]+):(.+)$/;function Ol(e){if(":"===e[0]){const n=e.match(Sl);return[n[1],n[2]]}return["",e]}function kl(e){let n=0;for(let t=0;t<e.length;t++)n|=e[t].flags;return n}const xl=new Object,Al=Yt(Dn),Tl=Yt(xe),Pl=Yt(je);function El(e,n,t,l){return t=be(t),{index:-1,deps:fl(l,ve(n)),flags:e,token:n,value:t}}function Rl(e,n,t=Dn.THROW_IF_NOT_FOUND){const l=Fe(e);try{if(8&n.flags)return n.token;if(2&n.flags&&(t=null),1&n.flags)return e._parent.get(n.token,t);const s=n.tokenKey;switch(s){case Al:case Tl:case Pl:return e}const o=e._def.providersByKey[s];let u;if(o){let n=e._providers[o.index];return void 0===n&&(n=e._providers[o.index]=Ml(e,o)),n===xl?void 0:n}if((u=fe(n.token))&&(r=e,null!=(i=u).providedIn&&(function(e,n){return e._def.modules.indexOf(n)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){const t=e._providers.length;return e._def.providers[t]=e._def.providersByKey[n.tokenKey]={flags:5120,value:u.factory,deps:[],index:t,token:n.token},e._providers[t]=xl,e._providers[t]=Ml(e,e._def.providersByKey[n.tokenKey])}return 4&n.flags?t:e._parent.get(n.token,t)}finally{Fe(l)}var r,i}function Ml(e,n){let t;switch(201347067&n.flags){case 512:t=function(e,n,t){const l=t.length;switch(l){case 0:return new n;case 1:return new n(Rl(e,t[0]));case 2:return new n(Rl(e,t[0]),Rl(e,t[1]));case 3:return new n(Rl(e,t[0]),Rl(e,t[1]),Rl(e,t[2]));default:const r=new Array(l);for(let n=0;n<l;n++)r[n]=Rl(e,t[n]);return new n(...r)}}(e,n.value,n.deps);break;case 1024:t=function(e,n,t){const l=t.length;switch(l){case 0:return n();case 1:return n(Rl(e,t[0]));case 2:return n(Rl(e,t[0]),Rl(e,t[1]));case 3:return n(Rl(e,t[0]),Rl(e,t[1]),Rl(e,t[2]));default:const r=Array(l);for(let n=0;n<l;n++)r[n]=Rl(e,t[n]);return n(...r)}}(e,n.value,n.deps);break;case 2048:t=Rl(e,n.deps[0]);break;case 256:t=n.value}return t===xl||null===t||"object"!=typeof t||131072&n.flags||"function"!=typeof t.ngOnDestroy||(n.flags|=131072),void 0===t?xl:t}function Nl(e,n){const t=e.viewContainer._embeddedViews;if((null==n||n>=t.length)&&(n=t.length-1),n<0)return null;const l=t[n];return l.viewContainerParent=null,qe(t,n),Zt.dirtyParentQueries(l),Dl(l),l}function Ul(e,n,t){const l=n?dl(n,n.def.lastRenderRootNode):e.renderElement,r=t.renderer.parentNode(l),i=t.renderer.nextSibling(l);_l(t,2,r,i,void 0)}function Dl(e){_l(e,3,null,null,void 0)}const Fl=new Object;function Vl(e,n,t,l,r,i){return new Ll(e,n,t,l,r,i)}class Ll extends lt{constructor(e,n,t,l,r,i){super(),this.selector=e,this.componentType=n,this._inputs=l,this._outputs=r,this.ngContentSelectors=i,this.viewDefFactory=t}get inputs(){const e=[],n=this._inputs;for(let t in n)e.push({propName:t,templateName:n[t]});return e}get outputs(){const e=[];for(let n in this._outputs)e.push({propName:n,templateName:this._outputs[n]});return e}create(e,n,t,l){if(!l)throw new Error("ngModule should be provided");const r=yl(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,s=Zt.createRootView(e,n||[],t,r,l,Fl),o=Gt(s,i).instance;return t&&s.renderer.setAttribute(qt(s,0).renderElement,"ng-version",_t.full),new zl(s,new Hl(s),o)}}class zl extends tt{constructor(e,n,t){super(),this._view=e,this._viewRef=n,this._component=t,this._elDef=this._view.def.nodes[0],this.hostView=n,this.changeDetectorRef=n,this.instance=t}get location(){return new dt(qt(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Wl(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Bl(e,n,t){return new jl(e,n,t)}class jl{constructor(e,n,t){this._view=e,this._elDef=n,this._data=t,this._embeddedViews=[]}get element(){return new dt(this._data.renderElement)}get injector(){return new Wl(this._view,this._elDef)}get parentInjector(){let e=this._view,n=this._elDef.parent;for(;!n&&e;)n=cl(e),e=e.parent;return e?new Wl(e,n):new Wl(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const n=Nl(this._data,e);Zt.destroyView(n)}}get(e){const n=this._embeddedViews[e];if(n){const e=new Hl(n);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,n,t){const l=e.createEmbeddedView(n||{});return this.insert(l,t),l}createComponent(e,n,t,l,r){const i=t||this.parentInjector;r||e instanceof at||(r=i.get(je));const s=e.create(i,l,void 0,r);return this.insert(s.hostView,n),s}insert(e,n){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const t=e;return function(e,n,t,l){let r=n.viewContainer._embeddedViews;null==t&&(t=r.length),l.viewContainerParent=e,He(r,t,l),function(e,n){const t=al(n);if(!t||t===e||16&n.state)return;n.state|=16;let l=t.template._projectedViews;l||(l=t.template._projectedViews=[]),l.push(n),function(e,n){if(4&n.flags)return;e.nodeFlags|=4,n.flags|=4;let t=n.parent;for(;t;)t.childFlags|=4,t=t.parent}(n.parent.def,n.parentNodeDef)}(n,l),Zt.dirtyParentQueries(l),Ul(n,t>0?r[t-1]:null,l)}(this._view,this._data,n,t._view),t.attachToViewContainerRef(this),e}move(e,n){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const t=this._embeddedViews.indexOf(e._view);return function(e,n,t){const l=e.viewContainer._embeddedViews,r=l[n];qe(l,n),null==t&&(t=l.length),He(l,t,r),Zt.dirtyParentQueries(r),Dl(r),Ul(e,t>0?l[t-1]:null,r)}(this._data,t,n),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const n=Nl(this._data,e);n&&Zt.destroyView(n)}detach(e){const n=Nl(this._data,e);return n?new Hl(n):null}}function $l(e){return new Hl(e)}class Hl{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const n=[];return _l(e,0,void 0,void 0,n),n}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){sl(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Zt.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Zt.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zt.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Dl(this._view),Zt.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function ql(e,n){return new Gl(e,n)}class Gl extends Ut{constructor(e,n){super(),this._parentView=e,this._def=n}createEmbeddedView(e){return new Hl(Zt.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new dt(qt(this._parentView,this._def.nodeIndex).renderElement)}}function Kl(e,n){return new Wl(e,n)}class Wl{constructor(e,n){this.view=e,this.elDef=n}get(e,n=Dn.THROW_IF_NOT_FOUND){return Zt.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Yt(e)},n)}}function Zl(e,n){const t=e.def.nodes[n];if(1&t.flags){const n=qt(e,t.nodeIndex);return t.element.template?n.template:n.renderElement}if(2&t.flags)return Ht(e,t.nodeIndex).renderText;if(20240&t.flags)return Gt(e,t.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${n}`)}function Ql(e){return new Jl(e.renderer)}class Jl{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,n){const[t,l]=Ol(n),r=this.delegate.createElement(l,t);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const n=this.delegate.createComment("");return e&&this.delegate.appendChild(e,n),n}createText(e,n){const t=this.delegate.createText(n);return e&&this.delegate.appendChild(e,t),t}projectNodes(e,n){for(let t=0;t<n.length;t++)this.delegate.appendChild(e,n[t])}attachViewAfter(e,n){const t=this.delegate.parentNode(e),l=this.delegate.nextSibling(e);for(let r=0;r<n.length;r++)this.delegate.insertBefore(t,n[r],l)}detachView(e){for(let n=0;n<e.length;n++){const t=e[n],l=this.delegate.parentNode(t);this.delegate.removeChild(l,t)}}destroyView(e,n){for(let t=0;t<n.length;t++)this.delegate.destroyNode(n[t])}listen(e,n,t){return this.delegate.listen(e,n,t)}listenGlobal(e,n,t){return this.delegate.listen(e,n,t)}setElementProperty(e,n,t){this.delegate.setProperty(e,n,t)}setElementAttribute(e,n,t){const[l,r]=Ol(n);null!=t?this.delegate.setAttribute(e,r,t,l):this.delegate.removeAttribute(e,r,l)}setBindingDebugInfo(e,n,t){}setElementClass(e,n,t){t?this.delegate.addClass(e,n):this.delegate.removeClass(e,n)}setElementStyle(e,n,t){null!=t?this.delegate.setStyle(e,n,t):this.delegate.removeStyle(e,n)}invokeElementMethod(e,n,t){e[n].apply(e,t)}setText(e,n){this.delegate.setValue(e,n)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Yl(e,n,t,l){return new Xl(e,n,t,l)}class Xl{constructor(e,n,t,l){this._moduleType=e,this._parent=n,this._bootstrapComponents=t,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const n=e._def,t=e._providers=new Array(n.providers.length);for(let l=0;l<n.providers.length;l++){const r=n.providers[l];4096&r.flags||void 0===t[l]&&(t[l]=Ml(e,r))}}(this)}get(e,n=Dn.THROW_IF_NOT_FOUND,t=he.Default){let l=0;return t&he.SkipSelf?l|=1:t&he.Self&&(l|=4),Rl(this,{token:e,tokenKey:Yt(e),flags:l},n)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ot)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ve(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,n){const t=e._def,l=new Set;for(let r=0;r<t.providers.length;r++)if(131072&t.providers[r].flags){const n=e._providers[r];if(n&&n!==xl){const e=n.ngOnDestroy;"function"!=typeof e||l.has(n)||(e.apply(n),l.add(n))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const er=Yt(gt),nr=Yt(mt),tr=Yt(dt),lr=Yt(Ft),rr=Yt(Ut),ir=Yt(Rn),sr=Yt(Dn),or=Yt(xe);function ur(e,n,t,l,r,i,s,o){const u=[];if(s)for(let c in s){const[e,n]=s[c];u[e]={flags:8,name:c,nonMinifiedName:n,ns:null,securityContext:null,suffix:null}}const a=[];if(o)for(let c in o)a.push({type:1,propName:c,target:null,eventName:o[c]});return cr(e,n|=16384,t,l,r,r,i,u,a)}function ar(e,n,t,l,r){return cr(-1,e,n,0,t,l,r)}function cr(e,n,t,l,r,i,s,o,u){const{matchedQueries:a,references:c,matchedQueryIds:d}=pl(t);u||(u=[]),o||(o=[]),i=be(i);const h=fl(s,ve(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:l,bindings:o,bindingFlags:kl(o),outputs:u,element:null,provider:{token:r,value:i,deps:h},text:null,query:null,ngContent:null}}function dr(e,n){return fr(e,n)}function hr(e,n){let t=e;for(;t.parent&&!hl(t);)t=t.parent;return mr(t.parent,cl(t),!0,n.provider.value,n.provider.deps)}function gr(e,n){const t=mr(e,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(let l=0;l<n.outputs.length;l++){const r=n.outputs[l],i=t[r.propName];if(!et(i))throw new Error(`@Output ${r.propName} not initialized in '${t.constructor.name}'.`);{const t=i.subscribe(pr(e,n.parent.nodeIndex,r.eventName));e.disposables[n.outputIndex+l]=t.unsubscribe.bind(t)}}return t}function pr(e,n,t){return l=>ul(e,n,t,l)}function fr(e,n){const t=(8192&n.flags)>0,l=n.provider;switch(201347067&n.flags){case 512:return mr(e,n.parent,t,l.value,l.deps);case 1024:return function(e,n,t,l,r){const i=r.length;switch(i){case 0:return l();case 1:return l(yr(e,n,t,r[0]));case 2:return l(yr(e,n,t,r[0]),yr(e,n,t,r[1]));case 3:return l(yr(e,n,t,r[0]),yr(e,n,t,r[1]),yr(e,n,t,r[2]));default:const s=Array(i);for(let l=0;l<i;l++)s[l]=yr(e,n,t,r[l]);return l(...s)}}(e,n.parent,t,l.value,l.deps);case 2048:return yr(e,n.parent,t,l.deps[0]);case 256:return l.value}}function mr(e,n,t,l,r){const i=r.length;switch(i){case 0:return new l;case 1:return new l(yr(e,n,t,r[0]));case 2:return new l(yr(e,n,t,r[0]),yr(e,n,t,r[1]));case 3:return new l(yr(e,n,t,r[0]),yr(e,n,t,r[1]),yr(e,n,t,r[2]));default:const s=new Array(i);for(let l=0;l<i;l++)s[l]=yr(e,n,t,r[l]);return new l(...s)}}const vr={};function yr(e,n,t,l,r=Dn.THROW_IF_NOT_FOUND){if(8&l.flags)return l.token;const i=e;2&l.flags&&(r=null);const s=l.tokenKey;s===ir&&(t=!(!n||!n.element.componentView)),n&&1&l.flags&&(t=!1,n=n.parent);let o=e;for(;o;){if(n)switch(s){case er:return Ql(_r(o,n,t));case nr:return _r(o,n,t).renderer;case tr:return new dt(qt(o,n.nodeIndex).renderElement);case lr:return qt(o,n.nodeIndex).viewContainer;case rr:if(n.element.template)return qt(o,n.nodeIndex).template;break;case ir:return $l(_r(o,n,t));case sr:case or:return Kl(o,n);default:const e=(t?n.element.allProviders:n.element.publicProviders)[s];if(e){let n=Gt(o,e.nodeIndex);return n||(n={instance:fr(o,e)},o.nodes[e.nodeIndex]=n),n.instance}}t=hl(o),n=cl(o),o=o.parent,4&l.flags&&(o=null)}const u=i.root.injector.get(l.token,vr);return u!==vr||r===vr?u:i.root.ngModule.injector.get(l.token,r)}function _r(e,n,t){let l;if(t)l=qt(e,n.nodeIndex).componentView;else for(l=e;l.parent&&!hl(l);)l=l.parent;return l}function br(e,n,t,l,r,i){if(32768&t.flags){const n=qt(e,t.parent.nodeIndex).componentView;2&n.def.flags&&(n.state|=8)}if(n.instance[t.bindings[l].name]=r,524288&t.flags){i=i||{};const n=Qn.unwrap(e.oldValues[t.bindingIndex+l]);i[t.bindings[l].nonMinifiedName]=new nt(n,r,0!=(2&e.state))}return e.oldValues[t.bindingIndex+l]=r,i}function wr(e,n){if(!(e.def.nodeFlags&n))return;const t=e.def.nodes;let l=0;for(let r=0;r<t.length;r++){const i=t[r];let s=i.parent;for(!s&&i.flags&n&&Ir(e,r,i.flags&n,l++),0==(i.childFlags&n)&&(r+=i.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&n&&(l=Cr(e,s,n,l)),s=s.parent}}function Cr(e,n,t,l){for(let r=n.nodeIndex+1;r<=n.nodeIndex+n.childCount;r++){const n=e.def.nodes[r];n.flags&t&&Ir(e,r,n.flags&t,l++),r+=n.childCount}return l}function Ir(e,n,t,l){const r=Gt(e,n);if(!r)return;const i=r.instance;i&&(Zt.setCurrentNode(e,n),1048576&t&&$t(e,512,l)&&i.ngAfterContentInit(),2097152&t&&i.ngAfterContentChecked(),4194304&t&&$t(e,768,l)&&i.ngAfterViewInit(),8388608&t&&i.ngAfterViewChecked(),131072&t&&i.ngOnDestroy())}const Sr=new ke("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),Or={},kr=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),xr=void 0;var Ar=["en",[["a","p"],["AM","PM"],xr],[["AM","PM"],xr,xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xr,"{1} 'at' {0}",xr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===t?1:5}];const Tr="en-US";let Pr=Tr;function Er(e){var n;n="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(n),"string"==typeof e&&(Pr=e.toLowerCase().replace(/_/g,"-"))}class Rr extends x{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,t){let l,r=e=>null,i=()=>null;e&&"object"==typeof e?(l=this.__isAsync?n=>{setTimeout(()=>e.next(n))}:n=>{e.next(n)},e.error&&(r=this.__isAsync?n=>{setTimeout(()=>e.error(n))}:n=>{e.error(n)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(l=this.__isAsync?n=>{setTimeout(()=>e(n))}:n=>{e(n)},n&&(r=this.__isAsync?e=>{setTimeout(()=>n(e))}:e=>{n(e)}),t&&(i=this.__isAsync?()=>{setTimeout(()=>t())}:()=>{t()}));const s=super.subscribe(l,r,i);return e instanceof h&&e.add(s),s}}function Mr(){return this._results[Kn()]()}class Nr{constructor(){this.dirty=!0,this._results=[],this.changes=new Rr,this.length=0;const e=Kn(),n=Nr.prototype;n[e]||(n[e]=Mr)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(n,t){void 0===t&&(t=n);for(let l=0;l<n.length;l++){let r=n[l];Array.isArray(r)?(t===n&&(t=n.slice(0,l)),e(r,t)):t!==n&&t.push(r)}return t}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ur=new ke("Application Initializer");class Dr{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();Xn(n)&&e.push(n)}Promise.all(e).then(()=>{n()}).catch(e=>{this.reject(e)}),0===e.length&&n(),this.initialized=!0}}const Fr=new ke("AppId");function Vr(){return`${Lr()}${Lr()}${Lr()}`}function Lr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zr=new ke("Platform Initializer"),Br=new ke("Platform ID"),jr=new ke("appBootstrapListener");class $r{log(e){console.log(e)}warn(e){console.warn(e)}}const Hr=new ke("LocaleId"),qr=!1;function Gr(){throw new Error("Runtime compiler is not loaded")}const Kr=Gr,Wr=Gr,Zr=Gr,Qr=Gr;class Jr{constructor(){this.compileModuleSync=Kr,this.compileModuleAsync=Wr,this.compileModuleAndAllComponentsSync=Zr,this.compileModuleAndAllComponentsAsync=Qr}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Yr{}let Xr,ei;function ni(){const e=Oe.wtf;return!(!e||!(Xr=e.trace)||(ei=Xr.events,0))}const ti=ni();function li(e,n){return null}const ri=ti?function(e,n=null){return ei.createScope(e,n)}:(e,n)=>li,ii=ti?function(e,n){return Xr.leaveScope(e,n),n}:(e,n)=>n,si=(()=>Promise.resolve(0))();function oi(e){"undefined"==typeof Zone?si.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ui{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rr(!1),this.onMicrotaskEmpty=new Rr(!1),this.onStable=new Rr(!1),this.onError=new Rr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var n;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,l,r,i,s)=>{try{return hi(n),e.invokeTask(l,r,i,s)}finally{gi(n)}},onInvoke:(e,t,l,r,i,s,o)=>{try{return hi(n),e.invoke(l,r,i,s,o)}finally{gi(n)}},onHasTask:(e,t,l,r)=>{e.hasTask(l,r),t===l&&("microTask"==r.change?(n.hasPendingMicrotasks=r.microTask,di(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,t,l,r)=>(e.handleError(l,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,t){return this._inner.run(e,n,t)}runTask(e,n,t,l){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+l,e,ci,ai,ai);try{return r.runTask(i,n,t)}finally{r.cancelTask(i)}}runGuarded(e,n,t){return this._inner.runGuarded(e,n,t)}runOutsideAngular(e){return this._outer.run(e)}}function ai(){}const ci={};function di(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gi(e){e._nesting--,di(e)}class pi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rr,this.onMicrotaskEmpty=new Rr,this.onStable=new Rr,this.onError=new Rr}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class fi{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),oi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oi(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,t){let l=-1;n&&n>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==l),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:t})}whenStable(e,n,t){if(t&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,n,t),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,n,t){return[]}}class mi{constructor(){this._applications=new Map,_i.addToWindow(this)}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return _i.findTestabilityInTree(this,e,n)}}class vi{addToWindow(e){}findTestabilityInTree(e,n,t){return null}}let yi,_i=new vi,bi=function(e,n,t){return e.get(Yr).createCompiler([n]).compileModuleAsync(t)},wi=function(e){return e instanceof at};const Ci=new ke("AllowMultipleToken");class Ii{constructor(e,n){this.name=e,this.token=n}}function Si(e,n,t=[]){const l=`Platform: ${n}`,r=new ke(l);return(n=[])=>{let i=Oi();if(!i||i.injector.get(Ci,!1))if(e)e(t.concat(n).concat({provide:r,useValue:!0}));else{const e=t.concat(n).concat({provide:r,useValue:!0});!function(e){if(yi&&!yi.destroyed&&!yi.injector.get(Ci,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yi=e.get(ki);const n=e.get(zr,null);n&&n.forEach(e=>e())}(Dn.create({providers:e,name:l}))}return function(e){const n=Oi();if(!n)throw new Error("No platform exists!");if(!n.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(r)}}function Oi(){return yi&&!yi.destroyed?yi:null}class ki{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const t="noop"===(r=n?n.ngZone:void 0)?new pi:("zone.js"===r?void 0:r)||new ui({enableLongStackTrace:ln()}),l=[{provide:ui,useValue:t}];var r;return t.run(()=>{const n=Dn.create({providers:l,parent:this.injector,name:e.moduleType.name}),r=e.create(n),i=r.injector.get(en,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return qr&&Er(r.injector.get(Hr,Tr)||Tr),r.onDestroy(()=>Ti(this._modules,r)),t.runOutsideAngular(()=>t.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,n,t){try{const l=t();return Xn(l)?l.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):l}catch(l){throw n.runOutsideAngular(()=>e.handleError(l)),l}}(i,t,()=>{const e=r.injector.get(Dr);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,n=[]){const t=xi({},n);return bi(this.injector,t,e).then(e=>this.bootstrapModuleFactory(e,t))}_moduleDoBootstrap(e){const n=e.injector.get(Ai);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>n.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function xi(e,n){return Array.isArray(n)?n.reduce(xi,e):Object.assign({},e,n)}let Ai=(()=>{class e{constructor(e,n,t,l,r,i){this._zone=e,this._console=n,this._injector=t,this._exceptionHandler=l,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ln(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new w(e=>{let n;this._zone.runOutsideAngular(()=>{n=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),oi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const t=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{n.unsubscribe(),t.unsubscribe()}});this.isStable=function(...e){let n=Number.POSITIVE_INFINITY,t=null,l=e[e.length-1];return T(l)?(t=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===t&&1===e.length&&e[0]instanceof w?e[0]:Y(n)(G(e,t))}(s,o.pipe(e=>X()(function(e,n){return function(n){let t;t="function"==typeof e?e:function(){return e};const l=Object.create(n,le);return l.source=n,l.subjectFactory=t,l}}(ie)(e))))}bootstrap(e,n){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let t;t=e instanceof lt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(t.componentType);const l=wi(t)?null:this._injector.get(je),r=t.create(Dn.NULL,[],n||t.selector,l);r.onDestroy(()=>{this._unloadComponent(r)});const i=r.injector.get(fi,null);return i&&r.injector.get(mi).registerApplication(r.location.nativeElement,i),this._loadComponent(r),ln()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const n=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,ii(n)}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;Ti(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jr,[]).concat(this._bootstrapListeners).forEach(n=>n(e))}_unloadComponent(e){this.detachView(e.hostView),Ti(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=ri("ApplicationRef#tick()"),e})();function Ti(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}class Pi{}const Ei="#",Ri="NgFactory";class Mi{}const Ni={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ui{constructor(e,n){this._compiler=e,this._config=n||Ni}load(e){return!qr&&this._compiler instanceof Jr?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[n,l]=e.split(Ei);return void 0===l&&(l="default"),t("zn8P")(n).then(e=>e[l]).then(e=>Di(e,n,l)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[n,l]=e.split(Ei),r=Ri;return void 0===l&&(l="default",r=""),t("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(e=>e[l+r]).then(e=>Di(e,n,l))}}function Di(e,n,t){if(!e)throw new Error(`Cannot find '${t}' in '${n}'`);return e}class Fi{constructor(e,n){this.name=e,this.callback=n}}class Vi{constructor(e,n,t){this.listeners=[],this.parent=null,this._debugContext=t,this.nativeNode=e,n&&n instanceof Li&&n.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Li extends Vi{constructor(e,n,t){super(e,n,t),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const n=this.childNodes.indexOf(e);-1!==n&&(e.parent=null,this.childNodes.splice(n,1))}insertChildrenAfter(e,n){const t=this.childNodes.indexOf(e);-1!==t&&(this.childNodes.splice(t+1,0,...n),n.forEach(n=>{n.parent&&n.parent.removeChild(n),e.parent=this}))}insertBefore(e,n){const t=this.childNodes.indexOf(e);-1===t?this.addChild(n):(n.parent&&n.parent.removeChild(n),n.parent=this,this.childNodes.splice(t,0,n))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const n=[];return function e(n,t,l){n.childNodes.forEach(n=>{n instanceof Li&&(t(n)&&l.push(n),e(n,t,l))})}(this,e,n),n}queryAllNodes(e){const n=[];return function e(n,t,l){n instanceof Li&&n.childNodes.forEach(n=>{t(n)&&l.push(n),n instanceof Li&&e(n,t,l)})}(this,e,n),n}get children(){return this.childNodes.filter(e=>e instanceof Li)}triggerEventHandler(e,n){this.listeners.forEach(t=>{t.name==e&&t.callback(n)})}}const zi=new Map,Bi=function(e){return zi.get(e)||null};function ji(e){zi.set(e.nativeNode,e)}const $i=Si(null,"core",[{provide:Br,useValue:"unknown"},{provide:ki,deps:[Dn]},{provide:mi,deps:[]},{provide:$r,deps:[]}]);function Hi(){return Mt}function qi(){return Nt}function Gi(e){return e?(qr&&Er(e),e):Tr}function Ki(e){let n=[];return e.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}class Wi{constructor(e){}}function Zi(e,n,t,l,r,i){e|=1;const{matchedQueries:s,references:o,matchedQueryIds:u}=pl(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:o,ngContentIndex:t,childCount:l,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?yl(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Qt},provider:null,text:null,query:null,ngContent:null}}function Qi(e,n,t,l,r,i,s=[],o,u,a,c,d){a||(a=Qt);const{matchedQueries:h,references:g,matchedQueryIds:p}=pl(t);let f=null,m=null;i&&([f,m]=Ol(i)),o=o||[];const v=new Array(o.length);for(let b=0;b<o.length;b++){const[e,n,t]=o[b],[l,r]=Ol(n);let i=void 0,s=void 0;switch(15&e){case 4:s=t;break;case 1:case 8:i=t}v[b]={flags:e,ns:l,name:r,nonMinifiedName:r,securityContext:i,suffix:s}}u=u||[];const y=new Array(u.length);for(let b=0;b<u.length;b++){const[e,n]=u[b];y[b]={type:0,target:e,eventName:n,propName:null}}const _=(s=s||[]).map(([e,n])=>{const[t,l]=Ol(e);return[t,l,n]});return d=function(e){if(e&&e.id===Xt){const n=null!=e.encapsulation&&e.encapsulation!==Ge.None||e.styles.length||Object.keys(e.data).length;e.id=n?`c${tl++}`:el}return e&&e.id===el&&(e=null),e||null}(d),c&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:g,ngContentIndex:l,childCount:r,bindings:v,bindingFlags:kl(v),outputs:y,element:{ns:f,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:a||Qt},provider:null,text:null,query:null,ngContent:null}}function Ji(e,n,t){const l=t.element,r=e.root.selectorOrNode,i=e.renderer;let s;if(e.parent||!r){s=l.name?i.createElement(l.name,l.ns):i.createComment("");const r=ml(e,n,t);r&&i.appendChild(r,s)}else s=i.selectRootElement(r,!!l.componentRendererType&&l.componentRendererType.encapsulation===Ge.ShadowDom);if(l.attrs)for(let o=0;o<l.attrs.length;o++){const[e,n,t]=l.attrs[o];i.setAttribute(s,n,t,e)}return s}function Yi(e,n,t,l){for(let s=0;s<t.outputs.length;s++){const o=t.outputs[s],u=Xi(e,t.nodeIndex,(i=o.eventName,(r=o.target)?`${r}:${i}`:i));let a=o.target,c=e;"component"===o.target&&(a=null,c=n);const d=c.renderer.listen(a||l,o.eventName,u);e.disposables[t.outputIndex+s]=d}var r,i}function Xi(e,n,t){return l=>ul(e,n,t,l)}function es(e,n,t,l){if(!rl(e,n,t,l))return!1;const r=n.bindings[t],i=qt(e,n.nodeIndex),s=i.renderElement,o=r.name;switch(15&r.flags){case 1:!function(e,n,t,l,r,i){const s=n.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;o=null!=o?o.toString():null;const u=e.renderer;null!=i?u.setAttribute(t,r,o,l):u.removeAttribute(t,r,l)}(e,r,s,r.ns,o,l);break;case 2:!function(e,n,t,l){const r=e.renderer;l?r.addClass(n,t):r.removeClass(n,t)}(e,s,o,l);break;case 4:!function(e,n,t,l,r){let i=e.root.sanitizer.sanitize(kn.STYLE,r);if(null!=i){i=i.toString();const e=n.suffix;null!=e&&(i+=e)}else i=null;const s=e.renderer;null!=i?s.setStyle(t,l,i):s.removeStyle(t,l)}(e,r,s,o,l);break;case 8:!function(e,n,t,l,r){const i=n.securityContext;let s=i?e.root.sanitizer.sanitize(i,r):r;e.renderer.setProperty(t,l,s)}(33554432&n.flags&&32&r.flags?i.componentView:e,r,s,o,l)}return!0}function ns(e){const n=e.def.nodeMatchedQueries;for(;e.parent&&gl(e);){let t=e.parentNodeDef;e=e.parent;const l=t.nodeIndex+t.childCount;for(let r=0;r<=l;r++){const l=e.def.nodes[r];67108864&l.flags&&536870912&l.flags&&(l.query.filterId&n)===l.query.filterId&&Wt(e,r).setDirty(),!(1&l.flags&&r+l.childCount<t.nodeIndex)&&67108864&l.childFlags&&536870912&l.childFlags||(r+=l.childCount)}}if(134217728&e.def.nodeFlags)for(let t=0;t<e.def.nodes.length;t++){const n=e.def.nodes[t];134217728&n.flags&&536870912&n.flags&&Wt(e,t).setDirty(),t+=n.childCount}}function ts(e,n){const t=Wt(e,n.nodeIndex);if(!t.dirty)return;let l,r=void 0;if(67108864&n.flags){const t=n.parent.parent;r=ls(e,t.nodeIndex,t.nodeIndex+t.childCount,n.query,[]),l=Gt(e,n.parent.nodeIndex).instance}else 134217728&n.flags&&(r=ls(e,0,e.def.nodes.length-1,n.query,[]),l=e.component);t.reset(r);const i=n.query.bindings;let s=!1;for(let o=0;o<i.length;o++){const e=i[o];let n;switch(e.bindingType){case 0:n=t.first;break;case 1:n=t,s=!0}l[e.propName]=n}s&&t.notifyOnChanges()}function ls(e,n,t,l,r){for(let i=n;i<=t;i++){const n=e.def.nodes[i],t=n.matchedQueries[l.id];if(null!=t&&r.push(rs(e,n,t)),1&n.flags&&n.element.template&&(n.element.template.nodeMatchedQueries&l.filterId)===l.filterId){const t=qt(e,i);if((n.childMatchedQueries&l.filterId)===l.filterId&&(ls(e,i+1,i+n.childCount,l,r),i+=n.childCount),16777216&n.flags){const e=t.viewContainer._embeddedViews;for(let n=0;n<e.length;n++){const i=e[n],s=al(i);s&&s===t&&ls(i,0,i.def.nodes.length-1,l,r)}}const s=t.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const n=s[e];ls(n,0,n.def.nodes.length-1,l,r)}}(n.childMatchedQueries&l.filterId)!==l.filterId&&(i+=n.childCount)}return r}function rs(e,n,t){if(null!=t)switch(t){case 1:return qt(e,n.nodeIndex).renderElement;case 0:return new dt(qt(e,n.nodeIndex).renderElement);case 2:return qt(e,n.nodeIndex).template;case 3:return qt(e,n.nodeIndex).viewContainer;case 4:return Gt(e,n.nodeIndex).instance}}function is(e,n,t){const l=ml(e,n,t);l&&wl(e,t.ngContent.index,1,l,null,void 0)}function ss(e,n){return us(32,e,new Array(n))}function os(e,n){const t=Object.keys(n),l=t.length,r=new Array(l);for(let i=0;i<l;i++){const e=t[i];r[n[e]]=e}return us(64,e,r)}function us(e,n,t){const l=new Array(t.length);for(let r=0;r<t.length;r++){const e=t[r];l[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:l,bindingFlags:kl(l),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function as(e,n,t){const l=new Array(t.length-1);for(let r=1;r<t.length;r++)l[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:t[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:l,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:t[0]},query:null,ngContent:null}}function cs(e,n,t){let l;const r=e.renderer;l=r.createText(t.text.prefix);const i=ml(e,n,t);return i&&r.appendChild(i,l),{renderText:l}}function ds(e,n){return(null!=e?e.toString():"")+n.suffix}function hs(e,n,t,l){let r=0,i=0,s=0,o=0,u=0,a=null,c=null,d=!1,h=!1,g=null;for(let p=0;p<n.length;p++){const e=n[p];if(e.nodeIndex=p,e.parent=a,e.bindingIndex=r,e.outputIndex=i,e.renderParent=c,s|=e.flags,u|=e.matchedQueryIds,e.element){const n=e.element;n.publicProviders=a?a.element.publicProviders:Object.create(null),n.allProviders=n.publicProviders,d=!1,h=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(ps(a,e,n.length),r+=e.bindings.length,i+=e.outputs.length,!c&&3&e.flags&&(g=e),20224&e.flags){d||(d=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const n=0!=(32768&e.flags);0==(8192&e.flags)||n?a.element.publicProviders[Yt(e.provider.token)]=e:(h||(h=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[Yt(e.provider.token)]=e),n&&(a.element.componentProvider=e)}if(a?(a.childFlags|=e.flags,a.directChildFlags|=e.flags,a.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(a.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)a=e,gs(e)||(c=e);else for(;a&&p===a.nodeIndex+a.childCount;){const e=a.parent;e&&(e.childFlags|=a.childFlags,e.childMatchedQueries|=a.childMatchedQueries),c=(a=e)&&gs(a)?a.renderParent:a}}return{factory:null,nodeFlags:s,rootNodeFlags:o,nodeMatchedQueries:u,flags:e,nodes:n,updateDirectives:t||Qt,updateRenderer:l||Qt,handleEvent:(e,t,l,r)=>n[t].element.handleEvent(e,l,r),bindingCount:r,outputCount:i,lastRenderRootNode:g}}function gs(e){return 0!=(1&e.flags)&&null===e.element.name}function ps(e,n,t){const l=n.element&&n.element.template;if(l){if(!l.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(l.lastRenderRootNode&&16777216&l.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${n.nodeIndex}!`)}if(20224&n.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${n.nodeIndex}!`);if(n.query){if(67108864&n.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${n.nodeIndex}!`);if(134217728&n.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${n.nodeIndex}!`)}if(n.childCount){const l=e?e.nodeIndex+e.childCount:t-1;if(n.nodeIndex<=l&&n.nodeIndex+n.childCount>l)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${n.nodeIndex}!`)}}function fs(e,n,t,l){const r=ys(e.root,e.renderer,e,n,t);return _s(r,e.component,l),bs(r),r}function ms(e,n,t){const l=ys(e,e.renderer,null,null,n);return _s(l,t,t),bs(l),l}function vs(e,n,t,l){const r=n.element.componentRendererType;let i;return i=r?e.root.rendererFactory.createRenderer(l,r):e.root.renderer,ys(e.root,i,e,n.element.componentProvider,t)}function ys(e,n,t,l,r){const i=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:t,viewContainerParent:null,parentNodeDef:l,context:null,component:null,nodes:i,state:13,root:e,renderer:n,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function _s(e,n,t){e.component=n,e.context=t}function bs(e){let n;hl(e)&&(n=qt(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const t=e.def,l=e.nodes;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];let s;switch(Zt.setCurrentNode(e,r),201347067&i.flags){case 1:const t=Ji(e,n,i);let o=void 0;if(33554432&i.flags){const n=yl(i.element.componentView);o=Zt.createComponentView(e,i,n,t)}Yi(e,o,i,t),s={renderElement:t,componentView:o,viewContainer:null,template:i.element.template?ql(e,i):void 0},16777216&i.flags&&(s.viewContainer=Bl(e,i,s));break;case 2:s=cs(e,n,i);break;case 512:case 1024:case 2048:case 256:(s=l[r])||4096&i.flags||(s={instance:dr(e,i)});break;case 16:s={instance:hr(e,i)};break;case 16384:(s=l[r])||(s={instance:gr(e,i)}),32768&i.flags&&_s(qt(e,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Nr;break;case 8:is(e,n,i),s=void 0}l[r]=s}Ts(e,As.CreateViewNodes),Ms(e,201326592,268435456,0)}function ws(e){Ss(e),Zt.updateDirectives(e,1),Ps(e,As.CheckNoChanges),Zt.updateRenderer(e,1),Ts(e,As.CheckNoChanges),e.state&=-97}function Cs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,jt(e,0,256),Ss(e),Zt.updateDirectives(e,0),Ps(e,As.CheckAndUpdate),Ms(e,67108864,536870912,0);let n=jt(e,256,512);wr(e,2097152|(n?1048576:0)),Zt.updateRenderer(e,0),Ts(e,As.CheckAndUpdate),Ms(e,134217728,536870912,0),wr(e,8388608|((n=jt(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,jt(e,768,1024)}function Is(e,n,t,l,r,i,s,o,u,a,c,d,h){return 0===t?function(e,n,t,l,r,i,s,o,u,a,c,d){switch(201347067&n.flags){case 1:return function(e,n,t,l,r,i,s,o,u,a,c,d){const h=n.bindings.length;let g=!1;return h>0&&es(e,n,0,t)&&(g=!0),h>1&&es(e,n,1,l)&&(g=!0),h>2&&es(e,n,2,r)&&(g=!0),h>3&&es(e,n,3,i)&&(g=!0),h>4&&es(e,n,4,s)&&(g=!0),h>5&&es(e,n,5,o)&&(g=!0),h>6&&es(e,n,6,u)&&(g=!0),h>7&&es(e,n,7,a)&&(g=!0),h>8&&es(e,n,8,c)&&(g=!0),h>9&&es(e,n,9,d)&&(g=!0),g}(e,n,t,l,r,i,s,o,u,a,c,d);case 2:return function(e,n,t,l,r,i,s,o,u,a,c,d){let h=!1;const g=n.bindings,p=g.length;if(p>0&&rl(e,n,0,t)&&(h=!0),p>1&&rl(e,n,1,l)&&(h=!0),p>2&&rl(e,n,2,r)&&(h=!0),p>3&&rl(e,n,3,i)&&(h=!0),p>4&&rl(e,n,4,s)&&(h=!0),p>5&&rl(e,n,5,o)&&(h=!0),p>6&&rl(e,n,6,u)&&(h=!0),p>7&&rl(e,n,7,a)&&(h=!0),p>8&&rl(e,n,8,c)&&(h=!0),p>9&&rl(e,n,9,d)&&(h=!0),h){let h=n.text.prefix;p>0&&(h+=ds(t,g[0])),p>1&&(h+=ds(l,g[1])),p>2&&(h+=ds(r,g[2])),p>3&&(h+=ds(i,g[3])),p>4&&(h+=ds(s,g[4])),p>5&&(h+=ds(o,g[5])),p>6&&(h+=ds(u,g[6])),p>7&&(h+=ds(a,g[7])),p>8&&(h+=ds(c,g[8])),p>9&&(h+=ds(d,g[9]));const f=Ht(e,n.nodeIndex).renderText;e.renderer.setValue(f,h)}return h}(e,n,t,l,r,i,s,o,u,a,c,d);case 16384:return function(e,n,t,l,r,i,s,o,u,a,c,d){const h=Gt(e,n.nodeIndex),g=h.instance;let p=!1,f=void 0;const m=n.bindings.length;return m>0&&ll(e,n,0,t)&&(p=!0,f=br(e,h,n,0,t,f)),m>1&&ll(e,n,1,l)&&(p=!0,f=br(e,h,n,1,l,f)),m>2&&ll(e,n,2,r)&&(p=!0,f=br(e,h,n,2,r,f)),m>3&&ll(e,n,3,i)&&(p=!0,f=br(e,h,n,3,i,f)),m>4&&ll(e,n,4,s)&&(p=!0,f=br(e,h,n,4,s,f)),m>5&&ll(e,n,5,o)&&(p=!0,f=br(e,h,n,5,o,f)),m>6&&ll(e,n,6,u)&&(p=!0,f=br(e,h,n,6,u,f)),m>7&&ll(e,n,7,a)&&(p=!0,f=br(e,h,n,7,a,f)),m>8&&ll(e,n,8,c)&&(p=!0,f=br(e,h,n,8,c,f)),m>9&&ll(e,n,9,d)&&(p=!0,f=br(e,h,n,9,d,f)),f&&g.ngOnChanges(f),65536&n.flags&&$t(e,256,n.nodeIndex)&&g.ngOnInit(),262144&n.flags&&g.ngDoCheck(),p}(e,n,t,l,r,i,s,o,u,a,c,d);case 32:case 64:case 128:return function(e,n,t,l,r,i,s,o,u,a,c,d){const h=n.bindings;let g=!1;const p=h.length;if(p>0&&rl(e,n,0,t)&&(g=!0),p>1&&rl(e,n,1,l)&&(g=!0),p>2&&rl(e,n,2,r)&&(g=!0),p>3&&rl(e,n,3,i)&&(g=!0),p>4&&rl(e,n,4,s)&&(g=!0),p>5&&rl(e,n,5,o)&&(g=!0),p>6&&rl(e,n,6,u)&&(g=!0),p>7&&rl(e,n,7,a)&&(g=!0),p>8&&rl(e,n,8,c)&&(g=!0),p>9&&rl(e,n,9,d)&&(g=!0),g){const g=Kt(e,n.nodeIndex);let f;switch(201347067&n.flags){case 32:f=new Array(h.length),p>0&&(f[0]=t),p>1&&(f[1]=l),p>2&&(f[2]=r),p>3&&(f[3]=i),p>4&&(f[4]=s),p>5&&(f[5]=o),p>6&&(f[6]=u),p>7&&(f[7]=a),p>8&&(f[8]=c),p>9&&(f[9]=d);break;case 64:f={},p>0&&(f[h[0].name]=t),p>1&&(f[h[1].name]=l),p>2&&(f[h[2].name]=r),p>3&&(f[h[3].name]=i),p>4&&(f[h[4].name]=s),p>5&&(f[h[5].name]=o),p>6&&(f[h[6].name]=u),p>7&&(f[h[7].name]=a),p>8&&(f[h[8].name]=c),p>9&&(f[h[9].name]=d);break;case 128:const e=t;switch(p){case 1:f=e.transform(t);break;case 2:f=e.transform(l);break;case 3:f=e.transform(l,r);break;case 4:f=e.transform(l,r,i);break;case 5:f=e.transform(l,r,i,s);break;case 6:f=e.transform(l,r,i,s,o);break;case 7:f=e.transform(l,r,i,s,o,u);break;case 8:f=e.transform(l,r,i,s,o,u,a);break;case 9:f=e.transform(l,r,i,s,o,u,a,c);break;case 10:f=e.transform(l,r,i,s,o,u,a,c,d)}}g.value=f}return g}(e,n,t,l,r,i,s,o,u,a,c,d);default:throw"unreachable"}}(e,n,l,r,i,s,o,u,a,c,d,h):function(e,n,t){switch(201347067&n.flags){case 1:return function(e,n,t){let l=!1;for(let r=0;r<t.length;r++)es(e,n,r,t[r])&&(l=!0);return l}(e,n,t);case 2:return function(e,n,t){const l=n.bindings;let r=!1;for(let i=0;i<t.length;i++)rl(e,n,i,t[i])&&(r=!0);if(r){let r="";for(let e=0;e<t.length;e++)r+=ds(t[e],l[e]);r=n.text.prefix+r;const i=Ht(e,n.nodeIndex).renderText;e.renderer.setValue(i,r)}return r}(e,n,t);case 16384:return function(e,n,t){const l=Gt(e,n.nodeIndex),r=l.instance;let i=!1,s=void 0;for(let o=0;o<t.length;o++)ll(e,n,o,t[o])&&(i=!0,s=br(e,l,n,o,t[o],s));return s&&r.ngOnChanges(s),65536&n.flags&&$t(e,256,n.nodeIndex)&&r.ngOnInit(),262144&n.flags&&r.ngDoCheck(),i}(e,n,t);case 32:case 64:case 128:return function(e,n,t){const l=n.bindings;let r=!1;for(let i=0;i<t.length;i++)rl(e,n,i,t[i])&&(r=!0);if(r){const r=Kt(e,n.nodeIndex);let i;switch(201347067&n.flags){case 32:i=t;break;case 64:i={};for(let r=0;r<t.length;r++)i[l[r].name]=t[r];break;case 128:const e=t[0],n=t.slice(1);i=e.transform(...n)}r.value=i}return r}(e,n,t);default:throw"unreachable"}}(e,n,l)}function Ss(e){const n=e.def;if(4&n.nodeFlags)for(let t=0;t<n.nodes.length;t++){const l=n.nodes[t];if(4&l.flags){const n=qt(e,t).template._projectedViews;if(n)for(let t=0;t<n.length;t++){const l=n[t];l.state|=32,ol(l,e)}}else 0==(4&l.childFlags)&&(t+=l.childCount)}}function Os(e,n,t,l,r,i,s,o,u,a,c,d,h){return 0===t?function(e,n,t,l,r,i,s,o,u,a,c,d){const h=n.bindings.length;h>0&&il(e,n,0,t),h>1&&il(e,n,1,l),h>2&&il(e,n,2,r),h>3&&il(e,n,3,i),h>4&&il(e,n,4,s),h>5&&il(e,n,5,o),h>6&&il(e,n,6,u),h>7&&il(e,n,7,a),h>8&&il(e,n,8,c),h>9&&il(e,n,9,d)}(e,n,l,r,i,s,o,u,a,c,d,h):function(e,n,t){for(let l=0;l<t.length;l++)il(e,n,l,t[l])}(e,n,l),!1}function ks(e,n){if(Wt(e,n.nodeIndex).dirty)throw Lt(Zt.createDebugContext(e,n.nodeIndex),`Query ${n.query.id} not dirty`,`Query ${n.query.id} dirty`,0!=(1&e.state))}function xs(e){if(!(128&e.state)){if(Ps(e,As.Destroy),Ts(e,As.Destroy),wr(e,131072),e.disposables)for(let n=0;n<e.disposables.length;n++)e.disposables[n]();!function(e){if(!(16&e.state))return;const n=al(e);if(n){const t=n.template._projectedViews;t&&(qe(t,t.indexOf(e)),Zt.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const n=e.def.nodes.length;for(let t=0;t<n;t++){const n=e.def.nodes[t];1&n.flags?e.renderer.destroyNode(qt(e,t).renderElement):2&n.flags?e.renderer.destroyNode(Ht(e,t).renderText):(67108864&n.flags||134217728&n.flags)&&Wt(e,t).destroy()}}(e),hl(e)&&e.renderer.destroy(),e.state|=128}}const As=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ts(e,n){const t=e.def;if(33554432&t.nodeFlags)for(let l=0;l<t.nodes.length;l++){const r=t.nodes[l];33554432&r.flags?Es(qt(e,l).componentView,n):0==(33554432&r.childFlags)&&(l+=r.childCount)}}function Ps(e,n){const t=e.def;if(16777216&t.nodeFlags)for(let l=0;l<t.nodes.length;l++){const r=t.nodes[l];if(16777216&r.flags){const t=qt(e,l).viewContainer._embeddedViews;for(let e=0;e<t.length;e++)Es(t[e],n)}else 0==(16777216&r.childFlags)&&(l+=r.childCount)}}function Es(e,n){const t=e.state;switch(n){case As.CheckNoChanges:0==(128&t)&&(12==(12&t)?ws(e):64&t&&Rs(e,As.CheckNoChangesProjectedViews));break;case As.CheckNoChangesProjectedViews:0==(128&t)&&(32&t?ws(e):64&t&&Rs(e,n));break;case As.CheckAndUpdate:0==(128&t)&&(12==(12&t)?Cs(e):64&t&&Rs(e,As.CheckAndUpdateProjectedViews));break;case As.CheckAndUpdateProjectedViews:0==(128&t)&&(32&t?Cs(e):64&t&&Rs(e,n));break;case As.Destroy:xs(e);break;case As.CreateViewNodes:bs(e)}}function Rs(e,n){Ps(e,n),Ts(e,n)}function Ms(e,n,t,l){if(!(e.def.nodeFlags&n&&e.def.nodeFlags&t))return;const r=e.def.nodes.length;for(let i=0;i<r;i++){const r=e.def.nodes[i];if(r.flags&n&&r.flags&t)switch(Zt.setCurrentNode(e,r.nodeIndex),l){case 0:ts(e,r);break;case 1:ks(e,r)}r.childFlags&n&&r.childFlags&t||(i+=r.childCount)}}let Ns=!1;function Us(e,n,t,l,r,i){const s=r.injector.get(pt);return ms(Fs(e,r,s,n,t),l,i)}function Ds(e,n,t,l,r,i){const s=r.injector.get(pt),o=Fs(e,r,new mo(s),n,t),u=Ks(l);return po(Xs.create,ms,null,[o,u,i])}function Fs(e,n,t,l,r){const i=n.injector.get(xn),s=n.injector.get(en),o=t.createRenderer(null,null);return{ngModule:n,injector:e,projectableNodes:l,selectorOrNode:r,sanitizer:i,rendererFactory:t,renderer:o,errorHandler:s}}function Vs(e,n,t,l){const r=Ks(t);return po(Xs.create,fs,null,[e,n,r,l])}function Ls(e,n,t,l){return t=$s.get(n.element.componentProvider.provider.token)||Ks(t),po(Xs.create,vs,null,[e,n,t,l])}function zs(e,n,t,l){return Yl(e,n,t,function(e){const{hasOverrides:n,hasDeprecatedOverrides:t}=function(e){let n=!1,t=!1;return 0===Bs.size?{hasOverrides:n,hasDeprecatedOverrides:t}:(e.providers.forEach(e=>{const l=Bs.get(e.token);3840&e.flags&&l&&(n=!0,t=t||l.deprecatedBehavior)}),e.modules.forEach(e=>{js.forEach((l,r)=>{fe(r).providedIn===e&&(n=!0,t=t||l.deprecatedBehavior)})}),{hasOverrides:n,hasDeprecatedOverrides:t})}(e);return n?(function(e){for(let n=0;n<e.providers.length;n++){const l=e.providers[n];t&&(l.flags|=4096);const r=Bs.get(l.token);r&&(l.flags=-3841&l.flags|r.flags,l.deps=fl(r.deps),l.value=r.value)}if(js.size>0){let n=new Set(e.modules);js.forEach((l,r)=>{if(n.has(fe(r).providedIn)){let n={token:r,flags:l.flags|(t?4096:0),deps:fl(l.deps),value:l.value,index:e.providers.length};e.providers.push(n),e.providersByKey[Yt(r)]=n}})}}(e=e.factory(()=>Qt)),e):e}(l))}const Bs=new Map,js=new Map,$s=new Map;function Hs(e){let n;Bs.set(e.token,e),"function"==typeof e.token&&(n=fe(e.token))&&"function"==typeof n.providedIn&&js.set(e.token,e)}function qs(e,n){const t=yl(n.viewDefFactory),l=yl(t.nodes[0].element.componentView);$s.set(e,l)}function Gs(){Bs.clear(),js.clear(),$s.clear()}function Ks(e){if(0===Bs.size)return e;const n=function(e){const n=[];let t=null;for(let l=0;l<e.nodes.length;l++){const r=e.nodes[l];1&r.flags&&(t=r),t&&3840&r.flags&&Bs.has(r.provider.token)&&(n.push(t.nodeIndex),t=null)}return n}(e);if(0===n.length)return e;e=e.factory(()=>Qt);for(let l=0;l<n.length;l++)t(e,n[l]);return e;function t(e,n){for(let t=n+1;t<e.nodes.length;t++){const n=e.nodes[t];if(1&n.flags)return;if(3840&n.flags){const e=n.provider,t=Bs.get(e.token);t&&(n.flags=-3841&n.flags|t.flags,e.deps=fl(t.deps),e.value=t.value)}}}}function Ws(e,n,t,l,r,i,s,o,u,a,c,d,h){const g=e.def.nodes[n];return Is(e,g,t,l,r,i,s,o,u,a,c,d,h),224&g.flags?Kt(e,n).value:void 0}function Zs(e,n,t,l,r,i,s,o,u,a,c,d,h){const g=e.def.nodes[n];return Os(e,g,t,l,r,i,s,o,u,a,c,d,h),224&g.flags?Kt(e,n).value:void 0}function Qs(e){return po(Xs.detectChanges,Cs,null,[e])}function Js(e){return po(Xs.checkNoChanges,ws,null,[e])}function Ys(e){return po(Xs.destroy,xs,null,[e])}const Xs=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let eo,no,to;function lo(e,n){no=e,to=n}function ro(e,n,t,l){return lo(e,n),po(Xs.handleEvent,e.def.handleEvent,null,[e,n,t,l])}function io(e,n){if(128&e.state)throw Bt(Xs[eo]);return lo(e,ao(e,0)),e.def.updateDirectives((function(e,t,l,...r){const i=e.def.nodes[t];return 0===n?oo(e,i,l,r):uo(e,i,l,r),16384&i.flags&&lo(e,ao(e,t)),224&i.flags?Kt(e,i.nodeIndex).value:void 0}),e)}function so(e,n){if(128&e.state)throw Bt(Xs[eo]);return lo(e,co(e,0)),e.def.updateRenderer((function(e,t,l,...r){const i=e.def.nodes[t];return 0===n?oo(e,i,l,r):uo(e,i,l,r),3&i.flags&&lo(e,co(e,t)),224&i.flags?Kt(e,i.nodeIndex).value:void 0}),e)}function oo(e,n,t,l){if(Is(e,n,t,...l)){const s=1===t?l[0]:l;if(16384&n.flags){const t={};for(let e=0;e<n.bindings.length;e++){const l=n.bindings[e],o=s[e];8&l.flags&&(t[(r=l.nonMinifiedName,i=void 0,i=r.replace(/[$@]/g,"_"),`ng-reflect-${r=i.replace(Pn,(...e)=>"-"+e[1].toLowerCase())}`)]=En(o))}const l=n.parent,o=qt(e,l.nodeIndex).renderElement;if(l.element.name)for(let n in t){const l=t[n];null!=l?e.renderer.setAttribute(o,n,l):e.renderer.removeAttribute(o,n)}else e.renderer.setValue(o,`bindings=${JSON.stringify(t,null,2)}`)}}var r,i}function uo(e,n,t,l){Os(e,n,t,...l)}function ao(e,n){for(let t=n;t<e.def.nodes.length;t++){const n=e.def.nodes[t];if(16384&n.flags&&n.bindings&&n.bindings.length)return t}return null}function co(e,n){for(let t=n;t<e.def.nodes.length;t++){const n=e.def.nodes[t];if(3&n.flags&&n.bindings&&n.bindings.length)return t}return null}class ho{constructor(e,n){this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];let t=this.nodeDef,l=e;for(;t&&0==(1&t.flags);)t=t.parent;if(!t)for(;!t&&l;)t=cl(l),l=l.parent;this.elDef=t,this.elView=l}get elOrCompView(){return qt(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Kl(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let n=this.elDef.nodeIndex+1;n<=this.elDef.nodeIndex+this.elDef.childCount;n++){const t=this.elView.def.nodes[n];20224&t.flags&&e.push(t.provider.token),n+=t.childCount}return e}get references(){const e={};if(this.elDef){go(this.elView,this.elDef,e);for(let n=this.elDef.nodeIndex+1;n<=this.elDef.nodeIndex+this.elDef.childCount;n++){const t=this.elView.def.nodes[n];20224&t.flags&&go(this.elView,t,e),n+=t.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!hl(e);)e=e.parent;return e.parent?qt(e.parent,cl(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?dl(this.view,this.nodeDef):dl(this.elView,this.elDef)}logError(e,...n){let t,l;2&this.nodeDef.flags?(t=this.view.def,l=this.nodeDef.nodeIndex):(t=this.elView.def,l=this.elDef.nodeIndex);const r=function(e,n){let t=-1;for(let l=0;l<=n;l++)3&e.nodes[l].flags&&t++;return t}(t,l);let i=-1;t.factory(()=>++i===r?e.error.bind(e,...n):Qt),i<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...n))}}function go(e,n,t){for(let l in n.references)t[l]=rs(e,n,n.references[l])}function po(e,n,t,l){const r=eo,i=no,s=to;try{eo=e;const o=n.apply(t,l);return no=i,to=s,eo=r,o}catch(a){if(Je(a)||!no)throw a;throw o=a,u=fo(),o instanceof Error||(o=new Error(o.toString())),zt(o,u),o}var o,u}function fo(){return no?new ho(no,to):null}class mo{constructor(e){this.delegate=e}createRenderer(e,n){return new vo(this.delegate.createRenderer(e,n))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class vo{constructor(e){this.delegate=e,this.debugContextFactory=fo,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const n=Bi(e);!function(e){zi.delete(e.nativeNode)}(n),n instanceof Vi&&(n.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,n){const t=this.delegate.createElement(e,n),l=this.createDebugContext(t);if(l){const n=new Li(t,null,l);n.name=e,ji(n)}return t}createComment(e){const n=this.delegate.createComment(e),t=this.createDebugContext(n);return t&&ji(new Vi(n,null,t)),n}createText(e){const n=this.delegate.createText(e),t=this.createDebugContext(n);return t&&ji(new Vi(n,null,t)),n}appendChild(e,n){const t=Bi(e),l=Bi(n);t&&l&&t instanceof Li&&t.addChild(l),this.delegate.appendChild(e,n)}insertBefore(e,n,t){const l=Bi(e),r=Bi(n),i=Bi(t);l&&r&&l instanceof Li&&l.insertBefore(i,r),this.delegate.insertBefore(e,n,t)}removeChild(e,n){const t=Bi(e),l=Bi(n);t&&l&&t instanceof Li&&t.removeChild(l),this.delegate.removeChild(e,n)}selectRootElement(e,n){const t=this.delegate.selectRootElement(e,n),l=fo();return l&&ji(new Li(t,null,l)),t}setAttribute(e,n,t,l){const r=Bi(e);r&&r instanceof Li&&(r.attributes[l?l+":"+n:n]=t),this.delegate.setAttribute(e,n,t,l)}removeAttribute(e,n,t){const l=Bi(e);l&&l instanceof Li&&(l.attributes[t?t+":"+n:n]=null),this.delegate.removeAttribute(e,n,t)}addClass(e,n){const t=Bi(e);t&&t instanceof Li&&(t.classes[n]=!0),this.delegate.addClass(e,n)}removeClass(e,n){const t=Bi(e);t&&t instanceof Li&&(t.classes[n]=!1),this.delegate.removeClass(e,n)}setStyle(e,n,t,l){const r=Bi(e);r&&r instanceof Li&&(r.styles[n]=t),this.delegate.setStyle(e,n,t,l)}removeStyle(e,n,t){const l=Bi(e);l&&l instanceof Li&&(l.styles[n]=null),this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){const l=Bi(e);l&&l instanceof Li&&(l.properties[n]=t),this.delegate.setProperty(e,n,t)}listen(e,n,t){if("string"!=typeof e){const l=Bi(e);l&&l.listeners.push(new Fi(n,t))}return this.delegate.listen(e,n,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,n){return this.delegate.setValue(e,n)}}function yo(e,n,t){return new _o(e,n,t)}class _o extends $e{constructor(e,n,t){super(),this.moduleType=e,this._bootstrapComponents=n,this._ngModuleDefFactory=t}create(e){!function(){if(Ns)return;Ns=!0;const e=ln()?{setCurrentNode:lo,createRootView:Ds,createEmbeddedView:Vs,createComponentView:Ls,createNgModuleRef:zs,overrideProvider:Hs,overrideComponentView:qs,clearOverrides:Gs,checkAndUpdateView:Qs,checkNoChangesView:Js,destroyView:Ys,createDebugContext:(e,n)=>new ho(e,n),handleEvent:ro,updateDirectives:io,updateRenderer:so}:{setCurrentNode:()=>{},createRootView:Us,createEmbeddedView:fs,createComponentView:vs,createNgModuleRef:Yl,overrideProvider:Qt,overrideComponentView:Qt,clearOverrides:Qt,checkAndUpdateView:Cs,checkNoChangesView:ws,destroyView:xs,createDebugContext:(e,n)=>new ho(e,n),handleEvent:(e,n,t,l)=>e.def.handleEvent(e,n,t,l),updateDirectives:(e,n)=>e.def.updateDirectives(0===n?Ws:Zs,e),updateRenderer:(e,n)=>e.def.updateRenderer(0===n?Ws:Zs,e)};Zt.setCurrentNode=e.setCurrentNode,Zt.createRootView=e.createRootView,Zt.createEmbeddedView=e.createEmbeddedView,Zt.createComponentView=e.createComponentView,Zt.createNgModuleRef=e.createNgModuleRef,Zt.overrideProvider=e.overrideProvider,Zt.overrideComponentView=e.overrideComponentView,Zt.clearOverrides=e.clearOverrides,Zt.checkAndUpdateView=e.checkAndUpdateView,Zt.checkNoChangesView=e.checkNoChangesView,Zt.destroyView=e.destroyView,Zt.resolveDep=yr,Zt.createDebugContext=e.createDebugContext,Zt.handleEvent=e.handleEvent,Zt.updateDirectives=e.updateDirectives,Zt.updateRenderer=e.updateRenderer,Zt.dirtyParentQueries=ns}();const n=function(e){const n=Array.from(e.providers),t=Array.from(e.modules),l={};for(const r in e.providersByKey)l[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:n,modules:t,providersByKey:l}}(yl(this._ngModuleDefFactory));return Zt.createNgModuleRef(this.moduleType,e||Dn.NULL,this._bootstrapComponents,n)}}class bo extends h{constructor(e,n){super()}schedule(e,n=0){return this}}class wo extends bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const t=this.id,l=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(l,t,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(l,this.id,n),this}requestAsyncId(e,n,t=0){return setInterval(e.flush.bind(e,this),t)}recycleAsyncId(e,n,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(e,n);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let t=!1,l=void 0;try{this.work(e)}catch(r){t=!0,l=!!r&&r||new Error(r)}if(t)return this.unsubscribe(),l}_unsubscribe(){const e=this.id,n=this.scheduler,t=n.actions,l=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&t.splice(l,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}class Co extends wo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,t=0){return null!==t&&t>0||null===t&&this.delay>0?super.requestAsyncId(e,n,t):e.flush(this)}}let Io=(()=>{class e{constructor(n,t=e.now){this.SchedulerAction=n,this.now=t}schedule(e,n=0,t){return new this.SchedulerAction(this,e).schedule(t,n)}}return e.now=()=>Date.now(),e})();class So extends Io{constructor(e,n=Io.now){super(e,()=>So.delegate&&So.delegate!==this?So.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,t){return So.delegate&&So.delegate!==this?So.delegate.schedule(e,n,t):super.schedule(e,n,t)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let t;this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}}}class Oo extends So{}const ko=new Oo(Co),xo=new w(e=>e.complete());function Ao(e){return e?function(e){return new w(n=>e.schedule(()=>n.complete()))}(e):xo}function To(e){const n=new w(n=>{n.next(e),n.complete()});return n._isScalar=!0,n.value=e,n}function Po(...e){let n=e[e.length-1];switch(T(n)?e.pop():n=void 0,e.length){case 0:return Ao(n);case 1:return n?G(e,n):To(e[0]);default:return G(e,n)}}let Eo=(()=>{class e{constructor(e,n,t){this.kind=e,this.value=n,this.error=t,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,t){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return t&&t()}}accept(e,n,t){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,t)}toObservable(){switch(this.kind){case"N":return Po(this.value);case"E":return e=this.error,new w(n=>n.error(e));case"C":return Ao()}var e;throw new Error("unexpected notification kind value")}static createNext(n){return void 0!==n?new e("N",n):e.undefinedValueNotification}static createError(n){return new e("E",void 0,n)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class Ro extends f{constructor(e,n,t=0){super(e),this.scheduler=n,this.delay=t}static dispatch(e){const{notification:n,destination:t}=e;n.observe(t),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Ro.dispatch,this.delay,new Mo(e,this.destination)))}_next(e){this.scheduleMessage(Eo.createNext(e))}_error(e){this.scheduleMessage(Eo.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Eo.createComplete()),this.unsubscribe()}}class Mo{constructor(e,n){this.notification=e,this.destination=n}}class No extends x{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,t){super(),this.scheduler=t,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Uo(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,t=n?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,r=t.length;let i;if(this.closed)throw new S;if(this.isStopped||this.hasError?i=h.EMPTY:(this.observers.push(e),i=new O(this,e)),l&&e.add(e=new Ro(e,l)),n)for(let s=0;s<r&&!e.closed;s++)e.next(t[s]);else for(let s=0;s<r&&!e.closed;s++)e.next(t[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i}_getNow(){return(this.scheduler||ko).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,t=this._windowTime,l=this._events,r=l.length;let i=0;for(;i<r&&!(e-l[i].time<t);)i++;return r>n&&(i=Math.max(i,r-n)),i>0&&l.splice(0,i),l}}class Uo{constructor(e,n){this.time=e,this.value=n}}class Do extends x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}class Fo{constructor(e){this.lazyLoad=!1,this.providers=new Map;for(let n=0;n<e.length;n++){let t=e[n];this.providers.set(t.id,t.provider),this.lazyLoad=this.lazyLoad||t.lazyLoad}}}let Vo=(()=>{class e{constructor(e){this._user=null,this._authState=new No(1),this._readyState=new Do([]),this.initialized=!1,this.providers=e.providers,e.lazyLoad||this.initialize()}get authState(){return this._authState.asObservable()}get readyState(){return this._readyState.asObservable()}initialize(){this.initialized=!0,this.providers.forEach((e,n)=>{e.initialize().then(()=>{let t=this._readyState.getValue();t.push(n),this._readyState.next(t),e.getLoginStatus().then(e=>{e.provider=n,this._user=e,this._authState.next(e)}).catch(e=>{this._authState.next(null)})})})}signIn(n,t){return this.initialized||this.initialize(),new Promise((l,r)=>{let i=this.providers.get(n);i?i.signIn(t).then(e=>{e.provider=n,l(e),this._user=e,this._authState.next(e)}).catch(e=>{r(e)}):r(e.ERR_LOGIN_PROVIDER_NOT_FOUND)})}signOut(n=!1){return this.initialized||this.initialize(),new Promise((t,l)=>{if(this._user){let r=this.providers.get(this._user.provider);r?r.signOut(n).then(()=>{t(),this._user=null,this._authState.next(null)}).catch(e=>{l(e)}):l(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else l(e.ERR_NOT_LOGGED_IN)})}}return e.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",e.ERR_NOT_LOGGED_IN="Not logged in",e})();class Lo{static initialize(e){return{ngModule:Lo,providers:[Vo,{provide:Fo,useValue:e}]}}}class zo{}class Bo{constructor(){this._readyState=new Do(!1)}onReady(){return new Promise((e,n)=>{this._readyState.subscribe(n=>{n&&e()})})}loadScript(e,n,t,l=!0,r=""){if("undefined"!=typeof document&&!document.getElementById(e)){let e=document.createElement("script");e.async=l,e.src=n,e.onload=t,document.head.appendChild(e)}}}let jo=(()=>{class e extends Bo{constructor(e,n={scope:"email"}){super(),this.clientId=e,this.opt=n}initialize(){return new Promise((n,t)=>{this.loadScript(e.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign({},this.opt,{client_id:this.clientId})),this.auth2.then(()=>{this._readyState.next(!0),n()}).catch(e=>{t(e)})})})})}getLoginStatus(){return new Promise((e,n)=>{this.onReady().then(()=>{if(this.auth2.isSignedIn.get()){let n=new zo,t=this.auth2.currentUser.get().getBasicProfile(),l=this.auth2.currentUser.get().getAuthResponse(!0).access_token,r=this.auth2.currentUser.get().getAuthResponse(!0).id_token;n.id=t.getId(),n.name=t.getName(),n.email=t.getEmail(),n.photoUrl=t.getImageUrl(),n.firstName=t.getGivenName(),n.lastName=t.getFamilyName(),n.authToken=l,n.idToken=r,e(n)}else n("No user is currently logged in.")})})}signIn(e){return new Promise((n,t)=>{this.onReady().then(()=>{(e&&e.offline_access||this.opt&&this.opt.offline_access?this.auth2.grantOfflineAccess(e):this.auth2.signIn(e)).then(e=>{let t=new zo,l=this.auth2.currentUser.get().getBasicProfile(),r=this.auth2.currentUser.get().getAuthResponse(!0).access_token,i=this.auth2.currentUser.get().getAuthResponse(!0).id_token;t.id=l.getId(),t.name=l.getName(),t.email=l.getEmail(),t.photoUrl=l.getImageUrl(),t.firstName=l.getGivenName(),t.lastName=l.getFamilyName(),t.authToken=r,t.idToken=i,e&&e.code&&(t.authorizationCode=e.code),n(t)},e=>{t("User cancelled login or did not fully authorize.")}).catch(e=>{t(e)})})})}signOut(e){return new Promise((n,t)=>{this.onReady().then(()=>{let l;(l=e?this.auth2.disconnect():this.auth2.signOut()).then(e=>{e?t(e):n()}).catch(e=>{t(e)})})})}}return e.PROVIDER_ID="GOOGLE",e})();const $o=new Fo([{id:jo.PROVIDER_ID,provider:new jo("239975901698-c4lmv7l5ku13p51014vtr4af014ejacc.apps.googleusercontent.com")}]);function Ho(){return $o}class qo{}function Go(e,n=!1){return t=>t.lift(new Ko(e,n))}class Ko{constructor(e,n){this.predicate=e,this.inclusive=n}call(e,n){return n.subscribe(new Wo(e,this.predicate,this.inclusive))}}class Wo extends f{constructor(e,n,t){super(e),this.predicate=n,this.inclusive=t,this.index=0}_next(e){const n=this.destination;let t;try{t=this.predicate(e,this.index++)}catch(l){return void n.error(l)}this.nextOrComplete(e,t)}nextOrComplete(e,n){const t=this.destination;Boolean(n)?t.next(e):(this.inclusive&&t.next(e),t.complete())}}class Zo{constructor(e,n,t,l,r,i,s){this.router=e,this.tokenService=n,this.orgaService=t,this.notificationService=l,this.accessService=r,this.eventService=i,this.settingsService=s,this.isActive=!0,this.orgaName="",this.usersDisplayName="",this.useMyColors=!0,this.dropDownItems=[],this.countOfNewBadgeItems=0,this.dropdownLogoutId=9999}ngOnInit(){this.settingsService.setTitle("Home"),this.accessService.hasPermission(0,{typeId:0,id:0},""),this.eventService.tokenChanged.pipe(Go(()=>this.isActive)).subscribe(()=>this.initMembers()),this.initMembers()}ngOnDestroy(){this.isActive=!1}initMembers(){this.countOfNewBadgeItems=0,this.tokenService.isLoggedIn?(this.orgaName=this.tokenService.getOrgaName(),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.countOfNewBadgeItems=this.notificationService.getNumberOfNotificationsForCurrentPrincipal()):(this.orgaName="",this.usersDisplayName=""),this.useMyColors=!this.settingsService.useGreenLikeColors(),this.dropDownItems=[],this.tokenService.isLoggedIn&&(this.dropDownItems.push({id:1,link:"/iam/user-info",text:"User-Infos"},{isDivider:!0}),this.countOfNewBadgeItems>0&&this.dropDownItems.push({id:10,link:"/notification-view",text:"Nachrichten f\xfcr dich",newCount:this.countOfNewBadgeItems},{isDivider:!0}),this.dropDownItems.push({id:20,link:"/iam/credentials-management",text:"zu deinen Zugangsmedien"},{id:30,link:"/iam/organization-management",text:"zu deinen Mitgliedschaften"},{id:40,link:"/iam/organization-administration",text:"zur Organisations-Administration"},{id:45,link:"/iam/central-administration",text:"zur zentralen Rechte-Administration"},{isDivider:!0},{id:50,link:"/folderApp/main",text:"zur Ordner-App"},{id:60,link:"/folderApp/admin",text:"zur Ordner-Administration"},{isDivider:!0},{id:70,link:"/iam/login",text:"anders anmelden"},{id:this.dropdownLogoutId,text:"abmelden"}))}_userMayCallOrgaAdministration(){return this.tokenService.isLoggedInInOrga()&&this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)}onProfileClick(){this.tokenService.isLoggedIn||this.router.navigateByUrl("/iam/login")}onDropDownProfileClick(e){const n=this.dropDownItems[e];if(n.id===this.dropdownLogoutId)return this.tokenService.logout(),void this.router.navigateByUrl("/");n.link&&this.router.navigateByUrl(n.link)}}class Qo{}const Jo=new ke("Location Initialized");class Yo{}const Xo=new ke("appBaseHref");class eu{constructor(e,n){this._subject=new Rr,this._urlChangeListeners=[],this._platformStrategy=e;const t=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=eu.stripTrailingSlash(nu(t)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+eu.normalizeQueryParams(n))}normalize(e){return eu.stripTrailingSlash(function(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,nu(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,n="",t=null){this._platformStrategy.pushState(t,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eu.normalizeQueryParams(n)),t)}replaceState(e,n="",t=null){this._platformStrategy.replaceState(t,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eu.normalizeQueryParams(n)),t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(t=>t(e,n))}subscribe(e,n,t){return this._subject.subscribe({next:e,error:n,complete:t})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}static stripTrailingSlash(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}}function nu(e){return e.replace(/\/index.html$/,"")}class tu extends Yo{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",null!=n&&(this._baseHref=n)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=eu.joinWithSlash(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,t,l){let r=this.prepareExternalUrl(t+eu.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,n,r)}replaceState(e,n,t,l){let r=this.prepareExternalUrl(t+eu.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class lu extends Yo{constructor(e,n){if(super(),this._platformLocation=e,null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return eu.joinWithSlash(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+eu.normalizeQueryParams(this._platformLocation.search),t=this._platformLocation.hash;return t&&e?`${n}${t}`:n}pushState(e,n,t,l){const r=this.prepareExternalUrl(t+eu.normalizeQueryParams(l));this._platformLocation.pushState(e,n,r)}replaceState(e,n,t,l){const r=this.prepareExternalUrl(t+eu.normalizeQueryParams(l));this._platformLocation.replaceState(e,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ru=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),iu=function(e){return function(e){const n=e.toLowerCase().replace(/_/g,"-");let t=Or[n];if(t)return t;const l=n.split("-")[0];if(t=Or[l])return t;if("en"===l)return Ar;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[kr.PluralCase]},su=new ke("UseV4Plurals");class ou{}class uu extends ou{constructor(e,n){super(),this.locale=e,this.deprecatedPluralFn=n}getPluralCategory(e,n){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(n||this.locale,e):iu(n||this.locale)(e)){case ru.Zero:return"zero";case ru.One:return"one";case ru.Two:return"two";case ru.Few:return"few";case ru.Many:return"many";default:return"other"}}}function au(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const e=t.indexOf("="),[l,r]=-1==e?[t,""]:[t.slice(0,e),t.slice(e+1)];if(l.trim()===n)return decodeURIComponent(r)}return null}class cu{}class du{constructor(e,n,t,l){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=t,this._renderer=l,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Jn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ve(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{n?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let hu=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class gu extends hu{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class pu{constructor(e,n,t,l){this.$implicit=e,this.ngForOf=n,this.index=t,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class fu{constructor(e,n,t){this._viewContainer=e,this._template=n,this._differs=t,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){ln()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=[];e.forEachOperation((e,t,l)=>{if(null==e.previousIndex){const t=this._viewContainer.createEmbeddedView(this._template,new pu(null,this._ngForOf,-1,-1),null===l?void 0:l),r=new mu(e,t);n.push(r)}else if(null==l)this._viewContainer.remove(null===t?void 0:t);else if(null!==t){const r=this._viewContainer.get(t);this._viewContainer.move(r,l);const i=new mu(e,r);n.push(i)}});for(let t=0;t<n.length;t++)this._perViewChange(n[t].view,n[t].record);for(let t=0,l=this._viewContainer.length;t<l;t++){const e=this._viewContainer.get(t);e.context.index=t,e.context.count=l,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,n){e.context.$implicit=n.item}static ngTemplateContextGuard(e,n){return!0}}class mu{constructor(e,n){this.record=e,this.view=n}}class vu{constructor(e,n){this._viewContainer=e,this._context=new yu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_u("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_u("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class yu{constructor(){this.$implicit=null,this.ngIf=null}}function _u(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ve(n)}'.`)}class bu{}const wu=new ke("DocumentToken"),Cu="server";let Iu=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new Su(Le(wu),window,Le(en))}),e})();class Su{constructor(e,n,t){this.document=e,this.window=n,this.errorHandler=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${e}`);if(n)return void this.scrollToElement(n);const t=this.document.querySelector(`[name='${e}']`);if(t)return void this.scrollToElement(t)}catch(n){this.errorHandler.handleError(n)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),t=n.left+this.window.pageXOffset,l=n.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(t-r[0],l-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}function Ou(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ou.prototype=Object.create(Error.prototype);const ku=Ou,xu={};class Au{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new Tu(e,this.resultSelector))}}class Tu extends j{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xu),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let t=0;t<n;t++){const n=e[t];this.add(B(this,n,n,t))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,t,l,r){const i=this.values,s=this.toRespond?i[t]===xu?--this.toRespond:this.toRespond:0;i[t]=n,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(t){return void this.destination.error(t)}this.destination.next(n)}}function Pu(e){return new w(n=>{let t;try{t=e()}catch(l){return void n.error(l)}return(t?K(t):Ao()).subscribe(n)})}function Eu(){return Y(1)}function Ru(e,n){return function(t){return t.lift(new Mu(e,n))}}class Mu{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new Nu(e,this.predicate,this.thisArg))}}class Nu extends f{constructor(e,n,t){super(e),this.predicate=n,this.thisArg=t,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(t){return void this.destination.error(t)}n&&this.destination.next(e)}}function Uu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Uu.prototype=Object.create(Error.prototype);const Du=Uu;function Fu(e){return function(n){return 0===e?Ao():n.lift(new Vu(e))}}class Vu{constructor(e){if(this.total=e,this.total<0)throw new Du}call(e,n){return n.subscribe(new Lu(e,this.total))}}class Lu extends f{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,t=this.total,l=this.count++;n.length<t?n.push(e):n[l%t]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const t=this.count>=this.total?this.total:this.count,l=this.ring;for(let r=0;r<t;r++){const r=n++%t;e.next(l[r])}}e.complete()}}function zu(e,n,t){return function(l){return l.lift(new Bu(e,n,t))}}class Bu{constructor(e,n,t){this.nextOrObserver=e,this.error=n,this.complete=t}call(e,n){return n.subscribe(new ju(e,this.nextOrObserver,this.error,this.complete))}}class ju extends f{constructor(e,n,t,r){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=t||y,this._tapComplete=r||y,l(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||y,this._tapError=n.error||y,this._tapComplete=n.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const $u=(e=Hu)=>zu({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Hu(){return new ku}function qu(e=null){return n=>n.lift(new Gu(e))}class Gu{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new Ku(e,this.defaultValue))}}class Ku extends f{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Wu(e,n){const t=arguments.length>=2;return l=>l.pipe(e?Ru((n,t)=>e(n,t,l)):J,Fu(1),t?qu(n):$u(()=>new ku))}function Zu(e){return function(n){const t=new Qu(e),l=n.lift(t);return t.caught=l}}class Qu{constructor(e){this.selector=e}call(e,n){return n.subscribe(new Ju(e,this.selector,this.caught))}}class Ju extends j{constructor(e,n,t){super(e),this.selector=n,this.caught=t}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(n){return void super.error(n)}this._unsubscribeAndRecycle();const l=new P(this,void 0,void 0);this.add(l),B(this,t,void 0,void 0,l)}}}function Yu(e){return n=>0===e?Ao():n.lift(new Xu(e))}class Xu{constructor(e){if(this.total=e,this.total<0)throw new Du}call(e,n){return n.subscribe(new ea(e,this.total))}}class ea extends f{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,t=++this.count;t<=n&&(this.destination.next(e),t===n&&(this.destination.complete(),this.unsubscribe()))}}function na(e,n){const t=arguments.length>=2;return l=>l.pipe(e?Ru((n,t)=>e(n,t,l)):J,Yu(1),t?qu(n):$u(()=>new ku))}class ta{constructor(e,n,t){this.predicate=e,this.thisArg=n,this.source=t}call(e,n){return n.subscribe(new la(e,this.predicate,this.thisArg,this.source))}}class la extends f{constructor(e,n,t,l){super(e),this.predicate=n,this.thisArg=t,this.source=l,this.index=0,this.thisArg=t||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let n=!1;try{n=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(t){return void this.destination.error(t)}n||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ra(e,n){return"function"==typeof n?t=>t.pipe(ra((t,l)=>K(e(t,l)).pipe($((e,r)=>n(t,e,l,r))))):n=>n.lift(new ia(e))}class ia{constructor(e){this.project=e}call(e,n){return n.subscribe(new sa(e,this.project))}}class sa extends j{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const t=this.index++;try{n=this.project(e,t)}catch(l){return void this.destination.error(l)}this._innerSub(n,e,t)}_innerSub(e,n,t){const l=this.innerSubscription;l&&l.unsubscribe();const r=new P(this,void 0,void 0);this.destination.add(r),this.innerSubscription=B(this,e,n,t,r)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,n,t,l,r){this.destination.next(n)}}function oa(e,n){let t=!1;return arguments.length>=2&&(t=!0),function(l){return l.lift(new ua(e,n,t))}}class ua{constructor(e,n,t=!1){this.accumulator=e,this.seed=n,this.hasSeed=t}call(e,n){return n.subscribe(new aa(e,this.accumulator,this.seed,this.hasSeed))}}class aa extends f{constructor(e,n,t,l){super(e),this.accumulator=n,this._seed=t,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let t;try{t=this.accumulator(this.seed,e,n)}catch(l){this.destination.error(l)}this.seed=t,this.destination.next(t)}}function ca(e,n){return W(e,n,1)}class da{constructor(e){this.callback=e}call(e,n){return n.subscribe(new ha(e,this.callback))}}class ha extends f{constructor(e,n){super(e),this.add(new h(n))}}let ga=null;function pa(){return ga}class fa{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class ma extends fa{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const n=["Webkit","Moz","O","ms"];for(let t=0;t<n.length;t++)if(null!=this.getStyle(e,n[t]+"AnimationName")){this._animationPrefix="-"+n[t].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,n,t){e.href=null==t?n:n+"/../"+t}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const va={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ya=3,_a={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ba={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wa=(()=>{if(Oe.Node)return Oe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Ca extends ma{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Ca,ga||(ga=e)}hasProperty(e,n){return n in e}setProperty(e,n,t){e[n]=t}getProperty(e,n){return e[n]}invoke(e,n,t){e[n](...t)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return va}contains(e,n){return wa.call(e,n)}querySelector(e,n){return e.querySelector(n)}querySelectorAll(e,n){return e.querySelectorAll(n)}on(e,n,t){e.addEventListener(n,t,!1)}onAndCancel(e,n,t){return e.addEventListener(n,t,!1),()=>{e.removeEventListener(n,t,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}createMouseEvent(e){const n=this.getDefaultDocument().createEvent("MouseEvent");return n.initEvent(e,!0,!0),n}createEvent(e){const n=this.getDefaultDocument().createEvent("Event");return n.initEvent(e,!0,!0),n}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const n=e.childNodes,t=new Array(n.length);for(let l=0;l<n.length;l++)t[l]=n[l];return t}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,n){e.appendChild(n)}removeChild(e,n){e.removeChild(n)}replaceChild(e,n,t){e.replaceChild(n,t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,n,t){e.insertBefore(t,n)}insertAllBefore(e,n,t){t.forEach(t=>e.insertBefore(t,n))}insertAfter(e,n,t){e.insertBefore(t,n.nextSibling)}setInnerHTML(e,n){e.innerHTML=n}getText(e){return e.textContent}setText(e,n){e.textContent=n}getValue(e){return e.value}setValue(e,n){e.value=n}getChecked(e){return e.checked}setChecked(e,n){e.checked=n}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const n=this.getDefaultDocument().createElement("template");return n.innerHTML=e,n}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createElementNS(e,n,t){return(t=t||this.getDefaultDocument()).createElementNS(e,n)}createTextNode(e,n){return(n=n||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,n,t){const l=(t=t||this.getDefaultDocument()).createElement("SCRIPT");return l.setAttribute(e,n),l}createStyleElement(e,n){const t=(n=n||this.getDefaultDocument()).createElement("style");return this.appendChild(t,this.createTextNode(e,n)),t}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,n){return e.getElementsByClassName(n)}getElementsByTagName(e,n){return e.getElementsByTagName(n)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}hasClass(e,n){return e.classList.contains(n)}setStyle(e,n,t){e.style[n]=t}removeStyle(e,n){e.style[n]=""}getStyle(e,n){return e.style[n]}hasStyle(e,n,t){const l=this.getStyle(e,n)||"";return t?l==t:l.length>0}tagName(e){return e.tagName}attributeMap(e){const n=new Map,t=e.attributes;for(let l=0;l<t.length;l++){const e=t.item(l);n.set(e.name,e.value)}return n}hasAttribute(e,n){return e.hasAttribute(n)}hasAttributeNS(e,n,t){return e.hasAttributeNS(n,t)}getAttribute(e,n){return e.getAttribute(n)}getAttributeNS(e,n,t){return e.getAttributeNS(n,t)}setAttribute(e,n,t){e.setAttribute(n,t)}setAttributeNS(e,n,t,l){e.setAttributeNS(n,t,l)}removeAttribute(e,n){e.removeAttribute(n)}removeAttributeNS(e,n,t){e.removeAttributeNS(n,t)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(n){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,n){e.title=n||""}elementMatches(e,n){return!!this.isElementNode(e)&&(e.matches&&e.matches(n)||e.msMatchesSelector&&e.msMatchesSelector(n)||e.webkitMatchesSelector&&e.webkitMatchesSelector(n))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let n=e.key;if(null==n){if(null==(n=e.keyIdentifier))return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),e.location===ya&&ba.hasOwnProperty(n)&&(n=ba[n]))}return _a[n]||n}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const n=Sa||(Sa=document.querySelector("base"))?Sa.getAttribute("href"):null;return null==n?null:(t=n,Ia||(Ia=document.createElement("a")),Ia.setAttribute("href",t),"/"===Ia.pathname.charAt(0)?Ia.pathname:"/"+Ia.pathname);var t}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}setData(e,n,t){this.setAttribute(e,"data-"+n,t)}getData(e,n){return this.getAttribute(e,"data-"+n)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return au(document.cookie,e)}setCookie(e,n){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)}}let Ia,Sa=null;function Oa(){return!!window.history.pushState}const ka=new ke("TRANSITION_ID"),xa=[{provide:Ur,useFactory:function(e,n,t){return()=>{t.get(Dr).donePromise.then(()=>{const t=pa();Array.prototype.slice.apply(t.querySelectorAll(n,"style[ng-transition]")).filter(n=>t.getAttribute(n,"ng-transition")===e).forEach(e=>t.remove(e))})}},deps:[ka,wu,Dn],multi:!0}];class Aa{static init(){var e;e=new Aa,_i=e}addToWindow(e){Oe.getAngularTestability=(n,t=!0)=>{const l=e.findTestabilityInTree(n,t);if(null==l)throw new Error("Could not find testability for element.");return l},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const n=Oe.getAllAngularTestabilities();let t=n.length,l=!1;const r=function(n){l=l||n,0==--t&&e(l)};n.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,n,t){if(null==n)return null;const l=e.getTestability(n);return null!=l?l:t?pa().isShadowRoot(n)?this.findTestabilityInTree(e,pa().getHost(n),!0):this.findTestabilityInTree(e,pa().parentElement(n),!0):null}}function Ta(e,n){"undefined"!=typeof COMPILED&&COMPILED||((Oe.ng=Oe.ng||{})[e]=n)}const Pa=(()=>({ApplicationRef:Ai,NgZone:ui}))();function Ea(e){return Bi(e)}const Ra=new ke("EventManagerPlugins");class Ma{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,t){return this._findPluginFor(n).addEventListener(e,n,t)}addGlobalEventListener(e,n,t){return this._findPluginFor(n).addGlobalEventListener(e,n,t)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const t=this._plugins;for(let l=0;l<t.length;l++){const n=t[l];if(n.supports(e))return this._eventNameToPlugin.set(e,n),n}throw new Error(`No event manager plugin found for event ${e}`)}}class Na{constructor(e){this._doc=e}addGlobalEventListener(e,n,t){const l=pa().getGlobalEventTarget(this._doc,e);if(!l)throw new Error(`Unsupported event target ${l} for event ${n}`);return this.addEventListener(l,n,t)}}class Ua{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Da extends Ua{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,n){e.forEach(e=>{const t=this._doc.createElement("style");t.textContent=e,this._styleNodes.add(n.appendChild(t))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(n=>this._addStylesToHost(e,n))}ngOnDestroy(){this._styleNodes.forEach(e=>pa().remove(e))}}const Fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Va=/%COMP%/g,La="_nghost-%COMP%",za="_ngcontent-%COMP%";function Ba(e,n,t){for(let l=0;l<n.length;l++){let r=n[l];Array.isArray(r)?Ba(e,r,t):(r=r.replace(Va,e),t.push(r))}return t}function ja(e){return n=>{!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}class $a{constructor(e,n,t){this.eventManager=e,this.sharedStylesHost=n,this.appId=t,this.rendererByCompId=new Map,this.defaultRenderer=new Ha(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case Ge.Emulated:{let t=this.rendererByCompId.get(n.id);return t||(t=new Ka(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,t)),t.applyToHost(e),t}case Ge.Native:case Ge.ShadowDom:return new Wa(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const e=Ba(n.id,n.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ha{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(Fa[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,t){e&&e.insertBefore(n,t)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error(`The selector "${e}" did not match any elements`);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,l){if(l){n=l+":"+n;const r=Fa[l];r?e.setAttributeNS(r,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){const l=Fa[t];l?e.removeAttributeNS(l,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,l){l&ft.DashCase?e.style.setProperty(n,t,l&ft.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&ft.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){Ga(n,"property"),e[n]=t}setValue(e,n){e.nodeValue=n}listen(e,n,t){return Ga(n,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,ja(t)):this.eventManager.addEventListener(e,n,ja(t))}}const qa=(()=>"@".charCodeAt(0))();function Ga(e,n){if(e.charCodeAt(0)===qa)throw new Error(`Found the synthetic ${n} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ka extends Ha{constructor(e,n,t,l){super(e),this.component=t;const r=Ba(l+"-"+t.id,t.styles,[]);n.addStyles(r),this.contentAttr=za.replace(Va,l+"-"+t.id),this.hostAttr=La.replace(Va,l+"-"+t.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}}class Wa extends Ha{constructor(e,n,t,l){super(e),this.sharedStylesHost=n,this.hostEl=t,this.component=l,this.shadowRoot=l.encapsulation===Ge.ShadowDom?t.attachShadow({mode:"open"}):t.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Ba(l.id,l.styles,[]);for(let i=0;i<r.length;i++){const e=document.createElement("style");e.textContent=r[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Za=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Qa=Za("addEventListener"),Ja=Za("removeEventListener"),Ya={},Xa="FALSE",ec="ANGULAR",nc="addEventListener",tc="removeEventListener",lc="__zone_symbol__propagationStopped",rc="__zone_symbol__stopImmediatePropagation",ic=(()=>{const e="undefined"!=typeof Zone&&Zone[Za("BLACK_LISTED_EVENTS")];if(e){const n={};return e.forEach(e=>{n[e]=e}),n}})(),sc=function(e){return!!ic&&ic.hasOwnProperty(e)},oc=function(e){const n=Ya[e.type];if(!n)return;const t=this[n];if(!t)return;const l=[e];if(1===t.length){const e=t[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,l):e.handler.apply(this,l)}{const n=t.slice();for(let t=0;t<n.length&&!0!==e[lc];t++){const e=n[t];e.zone!==Zone.current?e.zone.run(e.handler,this,l):e.handler.apply(this,l)}}};class uc extends Na{constructor(e,n,t){super(e),this.ngZone=n,t&&function(e){return e===Cu}(t)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[rc])return;const e=Event.prototype[rc]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[lc]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,n,t){let l=t;if(!e[Qa]||ui.isInAngularZone()&&!sc(n))e[nc](n,l,!1);else{let t=Ya[n];t||(t=Ya[n]=Za(ec+n+Xa));let r=e[t];const i=r&&r.length>0;r||(r=e[t]=[]);const s=sc(n)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:l});else{let e=!1;for(let n=0;n<r.length;n++)if(r[n].handler===l){e=!0;break}e||r.push({zone:s,handler:l})}i||e[Qa](n,oc,!1)}return()=>this.removeEventListener(e,n,l)}removeEventListener(e,n,t){let l=e[Ja];if(!l)return e[tc].apply(e,[n,t,!1]);let r=Ya[n],i=r&&e[r];if(!i)return e[tc].apply(e,[n,t,!1]);let s=!1;for(let o=0;o<i.length;o++)if(i[o].handler===t){s=!0,i.splice(o,1);break}s?0===i.length&&l.apply(e,[n,oc,!1]):e[tc].apply(e,[n,t,!1])}}const ac={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},cc=new ke("HammerGestureConfig"),dc=new ke("HammerLoader");class hc{constructor(){this.events=[],this.overrides={}}buildHammer(e){const n=new Hammer(e,this.options);n.get("pinch").set({enable:!0}),n.get("rotate").set({enable:!0});for(const t in this.overrides)n.get(t).set(this.overrides[t]);return n}}class gc extends Na{constructor(e,n,t,l){super(e),this._config=n,this.console=t,this.loader=l}supports(e){return!(!ac.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,n,t){const l=this.manager.getZone();if(n=n.toLowerCase(),!window.Hammer&&this.loader){let l=!1,r=()=>{l=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});l||(r=this.addEventListener(e,n,t))}).catch(()=>{this.console.warn(`The "${n}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return l.runOutsideAngular(()=>{const r=this._config.buildHammer(e),i=function(e){l.runGuarded((function(){t(e)}))};return r.on(n,i),()=>{r.off(n,i),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const pc=["alt","control","meta","shift"],fc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class mc extends Na{constructor(e){super(e)}supports(e){return null!=mc.parseEventName(e)}addEventListener(e,n,t){const l=mc.parseEventName(n),r=mc.eventCallback(l.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pa().onAndCancel(e,l.domEventName,r))}static parseEventName(e){const n=e.toLowerCase().split("."),t=n.shift();if(0===n.length||"keydown"!==t&&"keyup"!==t)return null;const l=mc._normalizeKey(n.pop());let r="";if(pc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=l,0!=n.length||0===l.length)return null;const i={};return i.domEventName=t,i.fullKey=r,i}static getEventFullKey(e){let n="",t=pa().getEventKey(e);return" "===(t=t.toLowerCase())?t="space":"."===t&&(t="dot"),pc.forEach(l=>{l!=t&&(0,fc[l])(e)&&(n+=l+".")}),n+=t}static eventCallback(e,n,t){return l=>{mc.getEventFullKey(l)===e&&t.runGuarded(()=>n(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class vc{}class yc extends vc{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case kn.NONE:return n;case kn.HTML:return n instanceof bc?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"HTML"),function(e,n){let t=null;try{Sn=Sn||new rn(e);let l=n?String(n):"";t=Sn.getInertBodyElement(l);let r=5,i=l;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,l=i,i=t.innerHTML,t=Sn.getInertBodyElement(l)}while(l!==i);const s=new bn,o=s.sanitizeChildren(On(t)||t);return ln()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(t){const e=On(t)||t;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(n)));case kn.STYLE:return n instanceof wc?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"Style"),function(e){if(!(e=String(e).trim()))return"";const n=e.match(Tn);return n&&un(n[1])===n[1]||e.match(An)&&function(e){let n=!0,t=!0;for(let l=0;l<e.length;l++){const r=e.charAt(l);"'"===r&&t?n=!n:'"'===r&&n&&(t=!t)}return n&&t}(e)?e:(ln()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(n));case kn.SCRIPT:if(n instanceof Cc)return n.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(n,"Script"),new Error("unsafe value used in a script context");case kn.URL:return n instanceof Sc||n instanceof Ic?n.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(n,"URL"),un(String(n)));case kn.RESOURCE_URL:if(n instanceof Sc)return n.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(n,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,n){if(e instanceof _c)throw new Error(`Required a safe ${n}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new bc(e)}bypassSecurityTrustStyle(e){return new wc(e)}bypassSecurityTrustScript(e){return new Cc(e)}bypassSecurityTrustUrl(e){return new Ic(e)}bypassSecurityTrustResourceUrl(e){return new Sc(e)}}class _c{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class bc extends _c{getTypeName(){return"HTML"}}class wc extends _c{getTypeName(){return"Style"}}class Cc extends _c{getTypeName(){return"Script"}}class Ic extends _c{getTypeName(){return"URL"}}class Sc extends _c{getTypeName(){return"ResourceURL"}}const Oc=Si($i,"browser",[{provide:Br,useValue:"browser"},{provide:zr,useValue:function(){Ca.makeCurrent(),Aa.init()},multi:!0},{provide:Qo,useClass:class extends Qo{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=pa().getLocation(),this._history=pa().getHistory()}getBaseHrefFromDOM(){return pa().getBaseHref(this._doc)}onPopState(e){pa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){pa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,t){Oa()?this._history.pushState(e,n,t):this.location.hash=t}replaceState(e,n,t){Oa()?this._history.replaceState(e,n,t):this.location.hash=t}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[wu]},{provide:wu,useFactory:function(){return document},deps:[]}]);function kc(){return new en}class xc{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:xc,providers:[{provide:Fr,useValue:e.appId},{provide:ka,useExisting:Fr},xa]}}}function Ac(){return new Tc(Le(wu))}let Tc=(()=>{class e{constructor(e){this._doc=e}getTitle(){return pa().getTitle(this._doc)}setTitle(e){pa().setTitle(this._doc,e)}}return e.ngInjectableDef=pe({factory:Ac,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window;class Pc{constructor(e,n){this.id=e,this.url=n}}class Ec extends Pc{constructor(e,n,t="imperative",l=null){super(e,n),this.navigationTrigger=t,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rc extends Pc{constructor(e,n,t){super(e,n),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mc extends Pc{constructor(e,n,t){super(e,n),this.reason=t}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nc extends Pc{constructor(e,n,t){super(e,n),this.error=t}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uc extends Pc{constructor(e,n,t,l){super(e,n),this.urlAfterRedirects=t,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dc extends Pc{constructor(e,n,t,l){super(e,n),this.urlAfterRedirects=t,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends Pc{constructor(e,n,t,l,r){super(e,n),this.urlAfterRedirects=t,this.state=l,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vc extends Pc{constructor(e,n,t,l){super(e,n),this.urlAfterRedirects=t,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lc extends Pc{constructor(e,n,t,l){super(e,n),this.urlAfterRedirects=t,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $c{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gc{constructor(e,n,t){this.routerEvent=e,this.position=n,this.anchor=t}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kc{}const Wc="primary";class Zc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Qc(e){return new Zc(e)}const Jc="ngNavigationCancelingError";function Yc(e){const n=Error("NavigationCancelingError: "+e);return n[Jc]=!0,n}function Xc(e,n,t){const l=t.path.split("/");if(l.length>e.length)return null;if("full"===t.pathMatch&&(n.hasChildren()||l.length<e.length))return null;const r={};for(let i=0;i<l.length;i++){const n=l[i],t=e[i];if(n.startsWith(":"))r[n.substring(1)]=t;else if(n!==t.path)return null}return{consumed:e.slice(0,l.length),posParams:r}}class ed{constructor(e,n){this.routes=e,this.module=n}}function nd(e,n=""){for(let t=0;t<e.length;t++){const l=e[t];td(l,ld(n,l))}}function td(e,n){if(!e)throw new Error(`\n      Invalid configuration of route '${n}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${n}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Wc)throw new Error(`Invalid configuration of route '${n}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${n}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${n}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${n}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${n}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${n}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${n}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${n}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${n}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${n}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${n}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&nd(e.children,n)}function ld(e,n){return n?e||n.path?e&&!n.path?`${e}/`:!e&&n.path?n.path:`${e}/${n.path}`:"":e}function rd(e){const n=e.children&&e.children.map(rd),t=n?Object.assign({},e,{children:n}):Object.assign({},e);return!t.component&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Wc&&(t.component=Kc),t}function id(e,n){const t=Object.keys(e),l=Object.keys(n);if(!t||!l||t.length!=l.length)return!1;let r;for(let i=0;i<t.length;i++)if(e[r=t[i]]!==n[r])return!1;return!0}function sd(e){return Array.prototype.concat.apply([],e)}function od(e){return e.length>0?e[e.length-1]:null}function ud(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function ad(e){return et(e)?e:Xn(e)?K(Promise.resolve(e)):Po(e)}function cd(e,n,t){return t?function(e,n){return id(e,n)}(e.queryParams,n.queryParams)&&function e(n,t){if(!pd(n.segments,t.segments))return!1;if(n.numberOfChildren!==t.numberOfChildren)return!1;for(const l in t.children){if(!n.children[l])return!1;if(!e(n.children[l],t.children[l]))return!1}return!0}(e.root,n.root):function(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>n[t]===e[t])}(e.queryParams,n.queryParams)&&function e(n,t){return function n(t,l,r){if(t.segments.length>r.length)return!!pd(t.segments.slice(0,r.length),r)&&!l.hasChildren();if(t.segments.length===r.length){if(!pd(t.segments,r))return!1;for(const n in l.children){if(!t.children[n])return!1;if(!e(t.children[n],l.children[n]))return!1}return!0}{const e=r.slice(0,t.segments.length),i=r.slice(t.segments.length);return!!pd(t.segments,e)&&!!t.children[Wc]&&n(t.children[Wc],l,i)}}(n,t,t.segments)}(e.root,n.root)}class dd{constructor(e,n,t){this.root=e,this.queryParams=n,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return yd.serialize(this)}}class hd{constructor(e,n){this.segments=e,this.children=n,this.parent=null,ud(n,(e,n)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _d(this)}}class gd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return Od(this)}}function pd(e,n){return e.length===n.length&&e.every((e,t)=>e.path===n[t].path)}function fd(e,n){let t=[];return ud(e.children,(e,l)=>{l===Wc&&(t=t.concat(n(e,l)))}),ud(e.children,(e,l)=>{l!==Wc&&(t=t.concat(n(e,l)))}),t}class md{}class vd{parse(e){const n=new Pd(e);return new dd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){var n;return`${`/${function e(n,t){if(!n.hasChildren())return _d(n);if(t){const t=n.children[Wc]?e(n.children[Wc],!1):"",l=[];return ud(n.children,(n,t)=>{t!==Wc&&l.push(`${t}:${e(n,!1)}`)}),l.length>0?`${t}(${l.join("//")})`:t}{const t=fd(n,(t,l)=>l===Wc?[e(n.children[Wc],!1)]:[`${l}:${e(t,!1)}`]);return`${_d(n)}/(${t.join("//")})`}}(e.root,!0)}`}${function(e){const n=Object.keys(e).map(n=>{const t=e[n];return Array.isArray(t)?t.map(e=>`${wd(n)}=${wd(e)}`).join("&"):`${wd(n)}=${wd(t)}`});return n.length?`?${n.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const yd=new vd;function _d(e){return e.segments.map(e=>Od(e)).join("/")}function bd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(e){return bd(e).replace(/%3B/gi,";")}function Cd(e){return bd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Id(e){return decodeURIComponent(e)}function Sd(e){return Id(e.replace(/\+/g,"%20"))}function Od(e){return`${Cd(e.path)}${n=e.parameters,Object.keys(n).map(e=>`;${Cd(e)}=${Cd(n[e])}`).join("")}`;var n}const kd=/^[^\/()?;=#]+/;function xd(e){const n=e.match(kd);return n?n[0]:""}const Ad=/^[^=?&#]+/,Td=/^[^?&#]+/;class Pd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hd([],{}):new hd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(t[Wc]=new hd(e,n)),t}parseSegment(){const e=xd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gd(Id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=xd(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){const e=xd(this.remaining);e&&this.capture(t=e)}e[Id(n)]=Id(t)}parseQueryParam(e){const n=function(e){const n=e.match(Ad);return n?n[0]:""}(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){const e=function(e){const n=e.match(Td);return n?n[0]:""}(this.remaining);e&&this.capture(t=e)}const l=Sd(n),r=Sd(t);if(e.hasOwnProperty(l)){let n=e[l];Array.isArray(n)||(e[l]=n=[n]),n.push(r)}else e[l]=r}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=xd(this.remaining),l=this.remaining[t.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;t.indexOf(":")>-1?(r=t.substr(0,t.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Wc);const i=this.parseChildren();n[r]=1===Object.keys(i).length?i[Wc]:new hd([],i),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ed{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Rd(e,this._root);return n?n.children.map(e=>e.value):[]}firstChild(e){const n=Rd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Md(e,this._root);return n.length<2?[]:n[n.length-2].children.map(e=>e.value).filter(n=>n!==e)}pathFromRoot(e){return Md(e,this._root).map(e=>e.value)}}function Rd(e,n){if(e===n.value)return n;for(const t of n.children){const n=Rd(e,t);if(n)return n}return null}function Md(e,n){if(e===n.value)return[n];for(const t of n.children){const l=Md(e,t);if(l.length)return l.unshift(n),l}return[]}class Nd{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ud(e){const n={};return e&&e.children.forEach(e=>n[e.value.outlet]=e),n}class Dd extends Ed{constructor(e,n){super(e),this.snapshot=n,jd(this,e)}toString(){return this.snapshot.toString()}}function Fd(e,n){const t=function(e,n){const t=new zd([],{},{},"",{},Wc,n,null,e.root,-1,{});return new Bd("",new Nd(t,[]))}(e,n),l=new Do([new gd("",{})]),r=new Do({}),i=new Do({}),s=new Do({}),o=new Do(""),u=new Vd(l,r,s,o,i,Wc,n,t.root);return u.snapshot=t.root,new Dd(new Nd(u,[]),t)}class Vd{constructor(e,n,t,l,r,i,s,o){this.url=e,this.params=n,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=s,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(e=>Qc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(e=>Qc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ld(e,n="emptyOnly"){const t=e.pathFromRoot;let l=0;if("always"!==n)for(l=t.length-1;l>=1;){const e=t[l],n=t[l-1];if(e.routeConfig&&""===e.routeConfig.path)l--;else{if(n.component)break;l--}}return function(e){return e.reduce((e,n)=>({params:Object.assign({},e.params,n.params),data:Object.assign({},e.data,n.data),resolve:Object.assign({},e.resolve,n._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(l))}class zd{constructor(e,n,t,l,r,i,s,o,u,a,c){this.url=e,this.params=n,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=s,this.routeConfig=o,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bd extends Ed{constructor(e,n){super(n),this.url=e,jd(this,n)}toString(){return $d(this._root)}}function jd(e,n){n.value._routerState=e,n.children.forEach(n=>jd(e,n))}function $d(e){const n=e.children.length>0?` { ${e.children.map($d).join(", ")} } `:"";return`${e.value}${n}`}function Hd(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,id(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),id(n.params,t.params)||e.params.next(t.params),function(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!id(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),id(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function qd(e,n){var t,l;return id(e.params,n.params)&&pd(t=e.url,l=n.url)&&t.every((e,n)=>id(e.parameters,l[n].parameters))&&!(!e.parent!=!n.parent)&&(!e.parent||qd(e.parent,n.parent))}function Gd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Kd(e,n,t,l,r){let i={};return l&&ud(l,(e,n)=>{i[n]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new dd(t.root===e?n:function e(n,t,l){const r={};return ud(n.children,(n,i)=>{r[i]=n===t?l:e(n,t,l)}),new hd(n.segments,r)}(t.root,e,n),i,r)}class Wd{constructor(e,n,t){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=t,e&&t.length>0&&Gd(t[0]))throw new Error("Root segment cannot have matrix parameters");const l=t.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(l&&l!==od(t))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zd{constructor(e,n,t){this.segmentGroup=e,this.processChildren=n,this.index=t}}function Qd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Wc]:`${e}`}function Jd(e,n,t){if(e||(e=new hd([],{})),0===e.segments.length&&e.hasChildren())return Yd(e,n,t);const l=function(e,n,t){let l=0,r=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(l>=t.length)return i;const n=e.segments[r],s=Qd(t[l]),o=l<t.length-1?t[l+1]:null;if(r>0&&void 0===s)break;if(s&&o&&"object"==typeof o&&void 0===o.outlets){if(!th(s,o,n))return i;l+=2}else{if(!th(s,{},n))return i;l++}r++}return{match:!0,pathIndex:r,commandIndex:l}}(e,n,t),r=t.slice(l.commandIndex);if(l.match&&l.pathIndex<e.segments.length){const n=new hd(e.segments.slice(0,l.pathIndex),{});return n.children[Wc]=new hd(e.segments.slice(l.pathIndex),e.children),Yd(n,0,r)}return l.match&&0===r.length?new hd(e.segments,{}):l.match&&!e.hasChildren()?Xd(e,n,t):l.match?Yd(e,0,r):Xd(e,n,t)}function Yd(e,n,t){if(0===t.length)return new hd(e.segments,{});{const l=function(e){return"object"!=typeof e[0]?{[Wc]:e}:void 0===e[0].outlets?{[Wc]:e}:e[0].outlets}(t),r={};return ud(l,(t,l)=>{null!==t&&(r[l]=Jd(e.children[l],n,t))}),ud(e.children,(e,n)=>{void 0===l[n]&&(r[n]=e)}),new hd(e.segments,r)}}function Xd(e,n,t){const l=e.segments.slice(0,n);let r=0;for(;r<t.length;){if("object"==typeof t[r]&&void 0!==t[r].outlets){const e=eh(t[r].outlets);return new hd(l,e)}if(0===r&&Gd(t[0])){l.push(new gd(e.segments[n].path,t[0])),r++;continue}const i=Qd(t[r]),s=r<t.length-1?t[r+1]:null;i&&s&&Gd(s)?(l.push(new gd(i,nh(s))),r+=2):(l.push(new gd(i,{})),r++)}return new hd(l,{})}function eh(e){const n={};return ud(e,(e,t)=>{null!==e&&(n[t]=Xd(new hd([],{}),0,e))}),n}function nh(e){const n={};return ud(e,(e,t)=>n[t]=`${e}`),n}function th(e,n,t){return e==t.path&&id(n,t.parameters)}const lh=(e,n,t)=>$(l=>(new rh(n,l.targetRouterState,l.currentRouterState,t).activate(e),l));class rh{constructor(e,n,t,l){this.routeReuseStrategy=e,this.futureState=n,this.currState=t,this.forwardEvent=l}activate(e){const n=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,t,e),Hd(this.futureState.root),this.activateChildRoutes(n,t,e)}deactivateChildRoutes(e,n,t){const l=Ud(n);e.children.forEach(e=>{const n=e.value.outlet;this.deactivateRoutes(e,l[n],t),delete l[n]}),ud(l,(e,n)=>{this.deactivateRouteAndItsChildren(e,t)})}deactivateRoutes(e,n,t){const l=e.value,r=n?n.value:null;if(l===r)if(l.component){const r=t.getContext(l.outlet);r&&this.deactivateChildRoutes(e,n,r.children)}else this.deactivateChildRoutes(e,n,t);else r&&this.deactivateRouteAndItsChildren(n,t)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const t=n.getContext(e.value.outlet);if(t&&t.outlet){const n=t.outlet.detach(),l=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:n,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){const t=n.getContext(e.value.outlet);if(t){const l=Ud(e),r=e.value.component?t.children:n;ud(l,(e,n)=>this.deactivateRouteAndItsChildren(e,r)),t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated())}}activateChildRoutes(e,n,t){const l=Ud(n);e.children.forEach(e=>{this.activateRoutes(e,l[e.value.outlet],t),this.forwardEvent(new qc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new $c(e.value.snapshot))}activateRoutes(e,n,t){const l=e.value,r=n?n.value:null;if(Hd(l),l===r)if(l.component){const r=t.getOrCreateContext(l.outlet);this.activateChildRoutes(e,n,r.children)}else this.activateChildRoutes(e,n,t);else if(l.component){const n=t.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const e=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),n.children.onOutletReAttached(e.contexts),n.attachRef=e.componentRef,n.route=e.route.value,n.outlet&&n.outlet.attach(e.componentRef,e.route.value),ih(e.route)}else{const t=function(e){for(let n=e.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),r=t?t.module.componentFactoryResolver:null;n.attachRef=null,n.route=l,n.resolver=r,n.outlet&&n.outlet.activateWith(l,r),this.activateChildRoutes(e,null,n.children)}}else this.activateChildRoutes(e,null,t)}}function ih(e){Hd(e.value),e.children.forEach(ih)}function sh(e){return"function"==typeof e}function oh(e){return e instanceof dd}class uh{constructor(e){this.segmentGroup=e||null}}class ah{constructor(e){this.urlTree=e}}function ch(e){return new w(n=>n.error(new uh(e)))}function dh(e){return new w(n=>n.error(new ah(e)))}function hh(e){return new w(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class gh{constructor(e,n,t,l,r){this.configLoader=n,this.urlSerializer=t,this.urlTree=l,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wc).pipe($(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zu(e=>{if(e instanceof ah)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof uh)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wc).pipe($(n=>this.createUrlTree(n,e.queryParams,e.fragment))).pipe(Zu(e=>{if(e instanceof uh)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,t){const l=e.segments.length>0?new hd([],{[Wc]:e}):e;return new dd(l,n,t)}expandSegmentGroup(e,n,t,l){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(e,n,t).pipe($(e=>new hd([],e))):this.expandSegment(e,t,n,t.segments,l,!0)}expandChildren(e,n,t){return function(e,n){if(0===Object.keys(e).length)return Po({});const t=[],l=[],r={};return ud(e,(e,i)=>{const s=n(i,e).pipe($(e=>r[i]=e));i===Wc?t.push(s):l.push(s)}),Po.apply(null,t.concat(l)).pipe(Eu(),Wu(),$(()=>r))}(t.children,(t,l)=>this.expandSegmentGroup(e,n,l,t))}expandSegment(e,n,t,l,r,i){return Po(...t).pipe($(s=>this.expandSegmentAgainstRoute(e,n,t,s,l,r,i).pipe(Zu(e=>{if(e instanceof uh)return Po(null);throw e}))),Eu(),na(e=>!!e),Zu((e,t)=>{if(e instanceof ku||"EmptyError"===e.name){if(this.noLeftoversInUrl(n,l,r))return Po(new hd([],{}));throw new uh(n)}throw e}))}noLeftoversInUrl(e,n,t){return 0===n.length&&!e.children[t]}expandSegmentAgainstRoute(e,n,t,l,r,i,s){return vh(l)!==i?ch(n):void 0===l.redirectTo?this.matchSegmentAgainstRoute(e,n,l,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,t,l,r,i):ch(n)}expandSegmentAgainstRouteUsingRedirect(e,n,t,l,r,i){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,l,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,t,l,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,t,l){const r=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?dh(r):this.lineralizeSegments(t,r).pipe(W(t=>{const r=new hd(t,{});return this.expandSegment(e,r,n,t,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,t,l,r,i){const{matched:s,consumedSegments:o,lastChild:u,positionalParamSegments:a}=ph(n,l,r);if(!s)return ch(n);const c=this.applyRedirectCommands(o,l.redirectTo,a);return l.redirectTo.startsWith("/")?dh(c):this.lineralizeSegments(l,c).pipe(W(l=>this.expandSegment(e,n,t,l.concat(r.slice(u)),i,!1)))}matchSegmentAgainstRoute(e,n,t,l){if("**"===t.path)return t.loadChildren?this.configLoader.load(e.injector,t).pipe($(e=>(t._loadedConfig=e,new hd(l,{})))):Po(new hd(l,{}));const{matched:r,consumedSegments:i,lastChild:s}=ph(n,t,l);if(!r)return ch(n);const o=l.slice(s);return this.getChildConfig(e,t,l).pipe(W(e=>{const t=e.module,l=e.routes,{segmentGroup:r,slicedSegments:s}=function(e,n,t,l){return t.length>0&&function(e,n,t){return t.some(t=>mh(e,n,t)&&vh(t)!==Wc)}(e,t,l)?{segmentGroup:fh(new hd(n,function(e,n){const t={};t[Wc]=n;for(const l of e)""===l.path&&vh(l)!==Wc&&(t[vh(l)]=new hd([],{}));return t}(l,new hd(t,e.children)))),slicedSegments:[]}:0===t.length&&function(e,n,t){return t.some(t=>mh(e,n,t))}(e,t,l)?{segmentGroup:fh(new hd(e.segments,function(e,n,t,l){const r={};for(const i of t)mh(e,n,i)&&!l[vh(i)]&&(r[vh(i)]=new hd([],{}));return Object.assign({},l,r)}(e,t,l,e.children))),slicedSegments:t}:{segmentGroup:e,slicedSegments:t}}(n,i,o,l);return 0===s.length&&r.hasChildren()?this.expandChildren(t,l,r).pipe($(e=>new hd(i,e))):0===l.length&&0===s.length?Po(new hd(i,{})):this.expandSegment(t,r,l,s,Wc,!0).pipe($(e=>new hd(i.concat(e.segments),e.children)))}))}getChildConfig(e,n,t){return n.children?Po(new ed(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Po(n._loadedConfig):function(e,n,t){const l=n.canLoad;return l&&0!==l.length?K(l).pipe($(l=>{const r=e.get(l);let i;if(function(e){return e&&sh(e.canLoad)}(r))i=r.canLoad(n,t);else{if(!sh(r))throw new Error("Invalid CanLoad guard");i=r(n,t)}return ad(i)})).pipe(Eu(),(r=e=>!0===e,e=>e.lift(new ta(r,void 0,e)))):Po(!0);var r}(e.injector,n,t).pipe(W(t=>t?this.configLoader.load(e.injector,n).pipe($(e=>(n._loadedConfig=e,e))):function(e){return new w(n=>n.error(Yc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(n))):Po(new ed([],e))}lineralizeSegments(e,n){let t=[],l=n.root;for(;;){if(t=t.concat(l.segments),0===l.numberOfChildren)return Po(t);if(l.numberOfChildren>1||!l.children[Wc])return hh(e.redirectTo);l=l.children[Wc]}}applyRedirectCommands(e,n,t){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,t)}applyRedirectCreatreUrlTree(e,n,t,l){const r=this.createSegmentGroup(e,n.root,t,l);return new dd(r,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const t={};return ud(e,(e,l)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);t[l]=n[r]}else t[l]=e}),t}createSegmentGroup(e,n,t,l){const r=this.createSegments(e,n.segments,t,l);let i={};return ud(n.children,(n,r)=>{i[r]=this.createSegmentGroup(e,n,t,l)}),new hd(r,i)}createSegments(e,n,t,l){return n.map(n=>n.path.startsWith(":")?this.findPosParam(e,n,l):this.findOrReturn(n,t))}findPosParam(e,n,t){const l=t[n.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return l}findOrReturn(e,n){let t=0;for(const l of n){if(l.path===e.path)return n.splice(t),l;t++}return e}}function ph(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const l=(n.matcher||Xc)(t,e,n);return l?{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,positionalParamSegments:l.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fh(e){if(1===e.numberOfChildren&&e.children[Wc]){const n=e.children[Wc];return new hd(e.segments.concat(n.segments),n.children)}return e}function mh(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0!==t.redirectTo}function vh(e){return e.outlet||Wc}class yh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _h{constructor(e,n){this.component=e,this.route=n}}function bh(e,n,t){const l=e._root;return function e(n,t,l,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ud(t);return n.children.forEach(n=>{!function(n,t,l,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,u=l?l.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const a=function(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!pd(e.url,n.url);case"pathParamsOrQueryParamsChange":return!pd(e.url,n.url)||!id(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qd(e,n)||!id(e.queryParams,n.queryParams);case"paramsChange":default:return!qd(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new yh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),e(n,t,s.component?u?u.children:null:l,r,i),a&&i.canDeactivateChecks.push(new _h(u&&u.outlet&&u.outlet.component||null,o))}else o&&Ch(t,u,i),i.canActivateChecks.push(new yh(r)),e(n,null,s.component?u?u.children:null:l,r,i)}(n,s[n.value.outlet],l,r.concat([n.value]),i),delete s[n.value.outlet]}),ud(s,(e,n)=>Ch(e,l.getContext(n),i)),i}(l,n?n._root:null,t,[l.value])}function wh(e,n,t){const l=function(e){if(!e)return null;for(let n=e.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(l?l.module.injector:t).get(e)}function Ch(e,n,t){const l=Ud(e),r=e.value;ud(l,(e,l)=>{Ch(e,r.component?n?n.children.getContext(l):null:n,t)}),t.canDeactivateChecks.push(new _h(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}const Ih=Symbol("INITIAL_VALUE");function Sh(){return ra(e=>(function(...e){let n=null,t=null;return T(e[e.length-1])&&(t=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),G(e,t).lift(new Au(n))})(...e.map(e=>e.pipe(Yu(1),function(...e){return n=>{let t=e[e.length-1];T(t)?e.pop():t=null;const l=e.length;return function(...e){return Eu()(Po(...e))}(1!==l||t?l>0?G(e,t):Ao(t):To(e[0]),n)}}(Ih)))).pipe(oa((e,n)=>{let t=!1;return n.reduce((e,l,r)=>{if(e!==Ih)return e;if(l===Ih&&(t=!0),!t){if(!1===l)return l;if(r===n.length-1||oh(l))return l}return e},e)},Ih),Ru(e=>e!==Ih),$(e=>oh(e)?e:!0===e),Yu(1)))}function Oh(e,n){return null!==e&&n&&n(new Hc(e)),Po(!0)}function kh(e,n){return null!==e&&n&&n(new jc(e)),Po(!0)}function xh(e,n,t){const l=n.routeConfig?n.routeConfig.canActivate:null;return l&&0!==l.length?Po(l.map(l=>Pu(()=>{const r=wh(l,n,t);let i;if(function(e){return e&&sh(e.canActivate)}(r))i=ad(r.canActivate(n,e));else{if(!sh(r))throw new Error("Invalid CanActivate guard");i=ad(r(n,e))}return i.pipe(na())}))).pipe(Sh()):Po(!0)}function Ah(e,n,t){const l=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(e=>(function(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null})(e)).filter(e=>null!==e).map(n=>Pu(()=>Po(n.guards.map(r=>{const i=wh(r,n.node,t);let s;if(function(e){return e&&sh(e.canActivateChild)}(i))s=ad(i.canActivateChild(l,e));else{if(!sh(i))throw new Error("Invalid CanActivateChild guard");s=ad(i(l,e))}return s.pipe(na())})).pipe(Sh())));return Po(r).pipe(Sh())}class Th{}class Ph{constructor(e,n,t,l,r,i){this.rootComponentType=e,this.config=n,this.urlTree=t,this.url=l,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){try{const e=Mh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Wc),t=new zd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wc,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Nd(t,n),r=new Bd(this.url,l);return this.inheritParamsAndData(r._root),Po(r)}catch(e){return new w(n=>n.error(e))}}inheritParamsAndData(e){const n=e.value,t=Ld(n,this.paramsInheritanceStrategy);n.params=Object.freeze(t.params),n.data=Object.freeze(t.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,n,t){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,t)}processChildren(e,n){const t=fd(n,(n,t)=>this.processSegmentGroup(e,n,t));return function(e){const n={};e.forEach(e=>{const t=n[e.value.outlet];if(t){const n=t.url.map(e=>e.toString()).join("/"),l=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${n}' and '${l}'.`)}n[e.value.outlet]=e.value})}(t),t.sort((e,n)=>e.value.outlet===Wc?-1:n.value.outlet===Wc?1:e.value.outlet.localeCompare(n.value.outlet)),t}processSegment(e,n,t,l){for(const i of e)try{return this.processSegmentAgainstRoute(i,n,t,l)}catch(r){if(!(r instanceof Th))throw r}if(this.noLeftoversInUrl(n,t,l))return[];throw new Th}noLeftoversInUrl(e,n,t){return 0===n.length&&!e.children[t]}processSegmentAgainstRoute(e,n,t,l){if(e.redirectTo)throw new Th;if((e.outlet||Wc)!==l)throw new Th;let r,i=[],s=[];if("**"===e.path){const i=t.length>0?od(t).parameters:{};r=new zd(t,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dh(e),l,e.component,e,Eh(n),Rh(n)+t.length,Fh(e))}else{const o=function(e,n,t){if(""===n.path){if("full"===n.pathMatch&&(e.hasChildren()||t.length>0))throw new Th;return{consumedSegments:[],lastChild:0,parameters:{}}}const l=(n.matcher||Xc)(t,e,n);if(!l)throw new Th;const r={};ud(l.posParams,(e,n)=>{r[n]=e.path});const i=l.consumed.length>0?Object.assign({},r,l.consumed[l.consumed.length-1].parameters):r;return{consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:i}}(n,e,t);i=o.consumedSegments,s=t.slice(o.lastChild),r=new zd(i,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dh(e),l,e.component,e,Eh(n),Rh(n)+i.length,Fh(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:a}=Mh(n,i,s,o,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const e=this.processChildren(o,u);return[new Nd(r,e)]}if(0===o.length&&0===a.length)return[new Nd(r,[])];const c=this.processSegment(o,u,a,Wc);return[new Nd(r,c)]}}function Eh(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Rh(e){let n=e,t=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)t+=(n=n._sourceSegment)._segmentIndexShift?n._segmentIndexShift:0;return t-1}function Mh(e,n,t,l,r){if(t.length>0&&function(e,n,t){return t.some(t=>Nh(e,n,t)&&Uh(t)!==Wc)}(e,t,l)){const r=new hd(n,function(e,n,t,l){const r={};r[Wc]=l,l._sourceSegment=e,l._segmentIndexShift=n.length;for(const i of t)if(""===i.path&&Uh(i)!==Wc){const t=new hd([],{});t._sourceSegment=e,t._segmentIndexShift=n.length,r[Uh(i)]=t}return r}(e,n,l,new hd(t,e.children)));return r._sourceSegment=e,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:[]}}if(0===t.length&&function(e,n,t){return t.some(t=>Nh(e,n,t))}(e,t,l)){const i=new hd(e.segments,function(e,n,t,l,r,i){const s={};for(const o of l)if(Nh(e,t,o)&&!r[Uh(o)]){const t=new hd([],{});t._sourceSegment=e,t._segmentIndexShift="legacy"===i?e.segments.length:n.length,s[Uh(o)]=t}return Object.assign({},r,s)}(e,n,t,l,e.children,r));return i._sourceSegment=e,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:t}}const i=new hd(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:t}}function Nh(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0===t.redirectTo}function Uh(e){return e.outlet||Wc}function Dh(e){return e.data||{}}function Fh(e){return e.resolve||{}}function Vh(e,n,t,l){const r=wh(e,n,l);return ad(r.resolve?r.resolve(n,t):r(n,t))}function Lh(e){return function(n){return n.pipe(ra(n=>{const t=e(n);return t?K(t).pipe($(()=>n)):K([n])}))}}class zh{}class Bh{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}const jh=new ke("ROUTES");class $h{constructor(e,n,t,l){this.loader=e,this.compiler=n,this.onLoadStartListener=t,this.onLoadEndListener=l}load(e,n){return this.onLoadStartListener&&this.onLoadStartListener(n),this.loadModuleFactory(n.loadChildren).pipe($(t=>{this.onLoadEndListener&&this.onLoadEndListener(n);const l=t.create(e);return new ed(sd(l.injector.get(jh)).map(rd),l)}))}loadModuleFactory(e){return"string"==typeof e?K(this.loader.load(e)):ad(e()).pipe(W(e=>e instanceof $e?Po(e):K(this.compiler.compileModuleAsync(e))))}}class Hh{}class qh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Gh(e){throw e}function Kh(e,n,t){return n.parse("/")}function Wh(e,n){return Po(null)}class Zh{constructor(e,n,t,l,r,i,s,o){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=t,this.location=l,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Gh,this.malformedUriErrorHandler=Kh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wh,afterPreactivation:Wh},this.urlHandlingStrategy=new qh,this.routeReuseStrategy=new Bh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(je),this.console=r.get($r);const u=r.get(ui);this.isNgZoneEnabled=u instanceof ui,this.resetConfig(o),this.currentUrlTree=new dd(new hd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $h(i,s,e=>this.triggerEvent(new zc(e)),e=>this.triggerEvent(new Bc(e))),this.routerState=Fd(this.currentUrlTree,this.rootComponentType),this.transitions=new Do({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const n=this.events;return e.pipe(Ru(e=>0!==e.id),$(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),ra(e=>{let t=!1,l=!1;return Po(e).pipe(zu(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ra(e=>{const t=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||t)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Po(e).pipe(ra(e=>{const t=this.transitions.getValue();return n.next(new Ec(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),t!==this.transitions.getValue()?xo:[e]}),ra(e=>Promise.resolve(e)),function(e,n,t,l){return function(r){return r.pipe(ra(r=>(function(e,n,t,l,r){return new gh(e,n,t,l,r).apply()})(e,n,t,r.extractedUrl,l).pipe($(e=>Object.assign({},r,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),zu(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,n,t,l,r){return function(i){return i.pipe(W(i=>(function(e,n,t,l,r="emptyOnly",i="legacy"){return new Ph(e,n,t,l,r,i).recognize()})(e,n,i.urlAfterRedirects,t(i.urlAfterRedirects),l,r).pipe($(e=>Object.assign({},i,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),zu(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),zu(e=>{const t=new Uc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(t)}));if(t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:t,extractedUrl:l,source:r,restoredState:i,extras:s}=e,o=new Ec(t,this.serializeUrl(l),r,i);n.next(o);const u=Fd(l,this.rootComponentType).snapshot;return Po(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:l,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),xo}),Lh(e=>{const{targetSnapshot:n,id:t,extractedUrl:l,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.beforePreactivation(n,{navigationId:t,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),zu(e=>{const n=new Dc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(n)}),$(e=>Object.assign({},e,{guards:bh(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,n){return function(t){return t.pipe(W(t=>{const{targetSnapshot:l,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?Po(Object.assign({},t,{guardsResult:!0})):function(e,n,t,l){return K(e).pipe(W(e=>(function(e,n,t,l,r){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?Po(i.map(i=>{const s=wh(i,n,r);let o;if(function(e){return e&&sh(e.canDeactivate)}(s))o=ad(s.canDeactivate(e,n,t,l));else{if(!sh(s))throw new Error("Invalid CanDeactivate guard");o=ad(s(e,n,t,l))}return o.pipe(na())})).pipe(Sh()):Po(!0)})(e.component,e.route,t,n,l)),na(e=>!0!==e,!0))}(s,l,r,e).pipe(W(t=>t&&function(e){return"boolean"==typeof e}(t)?function(e,n,t,l){return K(n).pipe(ca(n=>K([kh(n.route.parent,l),Oh(n.route,l),Ah(e,n.path,t),xh(e,n.route,t)]).pipe(Eu(),na(e=>!0!==e,!0))),na(e=>!0!==e,!0))}(l,i,e,n):Po(t)),$(e=>Object.assign({},t,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),zu(e=>{if(oh(e.guardsResult)){const n=Yc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw n.url=e.guardsResult,n}}),zu(e=>{const n=new Fc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(n)}),Ru(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const t=new Mc(e.id,this.serializeUrl(e.extractedUrl),"");return n.next(t),e.resolve(!1),!1}return!0}),Lh(e=>{if(e.guards.canActivateChecks.length)return Po(e).pipe(zu(e=>{const n=new Vc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(n)}),function(e,n){return function(t){return t.pipe(W(t=>{const{targetSnapshot:l,guards:{canActivateChecks:r}}=t;return r.length?K(r).pipe(ca(t=>(function(e,n,t,l){return function(e,n,t,l){const r=Object.keys(e);if(0===r.length)return Po({});if(1===r.length){const i=r[0];return Vh(e[i],n,t,l).pipe($(e=>({[i]:e})))}const i={};return K(r).pipe(W(r=>Vh(e[r],n,t,l).pipe($(e=>(i[r]=e,e))))).pipe(Wu(),$(()=>i))}(e._resolve,e,n,l).pipe($(n=>(e._resolvedData=n,e.data=Object.assign({},e.data,Ld(e,t).resolve),null)))})(t.route,l,e,n)),function(e,n){return arguments.length>=2?function(t){return _(oa(e,n),Fu(1),qu(n))(t)}:function(n){return _(oa((n,t,l)=>e(n,t,l+1)),Fu(1))(n)}}((e,n)=>e),$(e=>t)):Po(t)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),zu(e=>{const n=new Lc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(n)}))}),Lh(e=>{const{targetSnapshot:n,id:t,extractedUrl:l,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:s}}=e;return this.hooks.afterPreactivation(n,{navigationId:t,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!s})}),$(e=>{const n=function(e,n,t){const l=function e(n,t,l){if(l&&n.shouldReuseRoute(t.value,l.value.snapshot)){const r=l.value;r._futureSnapshot=t.value;const i=function(n,t,l){return t.children.map(t=>{for(const r of l.children)if(n.shouldReuseRoute(r.value.snapshot,t.value))return e(n,t,r);return e(n,t)})}(n,t,l);return new Nd(r,i)}{const l=n.retrieve(t.value);if(l){const e=l.route;return function e(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let l=0;l<n.children.length;++l)e(n.children[l],t.children[l])}(t,e),e}{const l=new Vd(new Do((r=t.value).url),new Do(r.params),new Do(r.queryParams),new Do(r.fragment),new Do(r.data),r.outlet,r.component,r),i=t.children.map(t=>e(n,t));return new Nd(l,i)}}var r}(e,n._root,t?t._root:void 0);return new Dd(l,n)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})}),zu(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),lh(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),zu({next(){t=!0},complete(){t=!0}}),function(e){return n=>n.lift(new da(e))}(()=>{if(!t&&!l){this.resetUrlToCurrentUrlTree();const t=new Mc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);n.next(t),e.resolve(!1)}this.currentNavigation=null}),Zu(t=>{if(l=!0,function(e){return e&&e[Jc]}(t)){const l=oh(t.url);l||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Mc(e.id,this.serializeUrl(e.extractedUrl),t.message);n.next(r),e.resolve(!1),l&&this.navigateByUrl(t.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const l=new Nc(e.id,this.serializeUrl(e.extractedUrl),t);n.next(l);try{e.resolve(this.errorHandler(t))}catch(r){e.reject(r)}}return xo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let n=this.parseUrl(e.url);const t="popstate"===e.type?"popstate":"hashchange",l=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(n,t,l,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nd(e),this.config=e.map(rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,n={}){const{relativeTo:t,queryParams:l,fragment:r,preserveQueryParams:i,queryParamsHandling:s,preserveFragment:o}=n;ln()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=t||this.routerState.root,a=o?this.currentUrlTree.fragment:r;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,l);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=l||null}else c=i?this.currentUrlTree.queryParams:l||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,n,t,l,r){if(0===t.length)return Kd(n.root,n.root,n,l,r);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wd(!0,0,e);let n=0,t=!1;const l=e.reduce((e,l,r)=>{if("object"==typeof l&&null!=l){if(l.outlets){const n={};return ud(l.outlets,(e,t)=>{n[t]="string"==typeof e?e.split("/"):e}),[...e,{outlets:n}]}if(l.segmentPath)return[...e,l.segmentPath]}return"string"!=typeof l?[...e,l]:0===r?(l.split("/").forEach((l,r)=>{0==r&&"."===l||(0==r&&""===l?t=!0:".."===l?n++:""!=l&&e.push(l))}),e):[...e,l]},[]);return new Wd(t,n,l)}(t);if(i.toRoot())return Kd(n.root,new hd([],{}),n,l,r);const s=function(e,n,t){if(e.isAbsolute)return new Zd(n.root,!0,0);if(-1===t.snapshot._lastPathIndex)return new Zd(t.snapshot._urlSegment,!0,0);const l=Gd(e.commands[0])?0:1;return function(e,n,t){let l=e,r=n,i=t;for(;i>r;){if(i-=r,!(l=l.parent))throw new Error("Invalid number of '../'");r=l.segments.length}return new Zd(l,!1,r-i)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+l,e.numberOfDoubleDots)}(i,n,e),o=s.processChildren?Yd(s.segmentGroup,s.index,i.commands):Jd(s.segmentGroup,s.index,i.commands);return Kd(s.segmentGroup,o,n,l,r)}(u,this.currentUrlTree,e,c,a)}navigateByUrl(e,n={skipLocationChange:!1}){ln()&&this.isNgZoneEnabled&&!ui.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const t=oh(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(t){n=this.malformedUriErrorHandler(t,this.urlSerializer,e)}return n}isActive(e,n){if(oh(e))return cd(this.currentUrlTree,e,n);const t=this.parseUrl(e);return cd(this.currentUrlTree,t,n)}removeEmptyProps(e){return Object.keys(e).reduce((n,t)=>{const l=e[t];return null!=l&&(n[t]=l),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Rc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,n,t,l){const r=this.getTransition();if(r&&"imperative"!==n&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==n&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==n&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,s=null;const o=new Promise((e,n)=>{i=e,s=n}),u=++this.navigationId;return this.setTransition({id:u,source:n,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:i,reject:s,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,n,t,l){const r=this.urlSerializer.serialize(e);l=l||{},this.location.isCurrentPathEqualTo(r)||n?this.location.replaceState(r,"",Object.assign({},l,{navigationId:t})):this.location.go(r,"",Object.assign({},l,{navigationId:t}))}resetStateAndUrl(e,n,t){this.routerState=e,this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Qh{constructor(e,n,t){this.router=e,this.route=n,this.locationStrategy=t,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Rc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){ln()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,t,l){if(0!==e||n||t||l)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Jh(this.skipLocationChange),replaceUrl:Jh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jh(this.preserveFragment)})}}function Jh(e){return""===e||!!e}class Yh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xh,this.attachRef=null}}class Xh{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const t=this.getOrCreateContext(e);t.outlet=n,this.contexts.set(e,t)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Yh,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class eg{constructor(e,n,t,l,r){this.parentContexts=e,this.location=n,this.resolver=t,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Rr,this.deactivateEvents=new Rr,this.name=l||Wc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const t=(n=n||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,r=new ng(e,l,this.location.injector);this.activated=this.location.createComponent(t,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class ng{constructor(e,n,t){this.route=e,this.childContexts=n,this.parent=t}get(e,n){return e===Vd?this.route:e===Xh?this.childContexts:this.parent.get(e,n)}}class tg{}class lg{preload(e,n){return n().pipe(Zu(()=>Po(null)))}}class rg{preload(e,n){return Po(null)}}class ig{constructor(e,n,t,l,r){this.router=e,this.injector=l,this.preloadingStrategy=r,this.loader=new $h(n,t,n=>e.triggerEvent(new zc(n)),n=>e.triggerEvent(new Bc(n)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ru(e=>e instanceof Rc),ca(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,n){const t=[];for(const l of n)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const e=l._loadedConfig;t.push(this.processRoutes(e.module,e.routes))}else l.loadChildren&&!l.canLoad?t.push(this.preloadConfig(e,l)):l.children&&t.push(this.processRoutes(e,l.children));return K(t).pipe(Y(),$(e=>void 0))}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>this.loader.load(e.injector,n).pipe(W(e=>(n._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class sg{constructor(e,n,t={}){this.router=e,this.viewportScroller=n,this.options=t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},t.scrollPositionRestoration=t.scrollPositionRestoration||"disabled",t.anchorScrolling=t.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Rc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new Gc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const og=new ke("ROUTER_CONFIGURATION"),ug=new ke("ROUTER_FORROOT_GUARD"),ag=[eu,{provide:md,useClass:vd},{provide:Zh,useFactory:mg,deps:[Ai,md,Xh,eu,Dn,Pi,Jr,jh,og,[Hh,new ae],[zh,new ae]]},Xh,{provide:Vd,useFactory:vg,deps:[Zh]},{provide:Pi,useClass:Ui},ig,rg,lg,{provide:og,useValue:{enableTracing:!1}}];function cg(){return new Ii("Router",Zh)}class dg{constructor(e,n){}static forRoot(e,n){return{ngModule:dg,providers:[ag,fg(e),{provide:ug,useFactory:pg,deps:[[Zh,new ae,new de]]},{provide:og,useValue:n||{}},{provide:Yo,useFactory:gg,deps:[Qo,[new ue(Xo),new ae],og]},{provide:sg,useFactory:hg,deps:[Zh,Iu,og]},{provide:tg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rg},{provide:Ii,multi:!0,useFactory:cg},[yg,{provide:Ur,multi:!0,useFactory:_g,deps:[yg]},{provide:wg,useFactory:bg,deps:[yg]},{provide:jr,multi:!0,useExisting:wg}]]}}static forChild(e){return{ngModule:dg,providers:[fg(e)]}}}function hg(e,n,t){return t.scrollOffset&&n.setOffset(t.scrollOffset),new sg(e,n,t)}function gg(e,n,t={}){return t.useHash?new tu(e,n):new lu(e,n)}function pg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fg(e){return[{provide:qn,multi:!0,useValue:e},{provide:jh,multi:!0,useValue:e}]}function mg(e,n,t,l,r,i,s,o,u={},a,c){const d=new Zh(null,n,t,l,r,i,s,sd(o));if(a&&(d.urlHandlingStrategy=a),c&&(d.routeReuseStrategy=c),u.errorHandler&&(d.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(d.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=pa();d.events.subscribe(n=>{e.logGroup(`Router Event: ${n.constructor.name}`),e.log(n.toString()),e.log(n),e.logGroupEnd()})}return u.onSameUrlNavigation&&(d.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(d.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(d.relativeLinkResolution=u.relativeLinkResolution),d}function vg(e){return e.routerState.root}class yg{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(Jo,Promise.resolve(null)).then(()=>{let e=null;const n=new Promise(n=>e=n),t=this.injector.get(Zh),l=this.injector.get(og);if(this.isLegacyDisabled(l)||this.isLegacyEnabled(l))e(!0);else if("disabled"===l.initialNavigation)t.setUpLocationChangeListener(),e(!0);else{if("enabled"!==l.initialNavigation)throw new Error(`Invalid initialNavigation options: '${l.initialNavigation}'`);t.hooks.afterPreactivation=()=>this.initNavigation?Po(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),t.initialNavigation()}return n})}bootstrapListener(e){const n=this.injector.get(og),t=this.injector.get(ig),l=this.injector.get(sg),r=this.injector.get(Zh),i=this.injector.get(Ai);e===i.components[0]&&(this.isLegacyEnabled(n)?r.initialNavigation():this.isLegacyDisabled(n)&&r.setUpLocationChangeListener(),t.setUpPreloading(),l.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function _g(e){return e.appInitializer.bind(e)}function bg(e){return e.bootstrapListener.bind(e)}const wg=new ke("Router Initializer");var Cg=nl({encapsulation:2,styles:[],data:{}});function Ig(e){return hs(0,[(e()(),Qi(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ur(1,212992,null,0,eg,[Xh,Ft,ot,[8,null],Rn],null,null)],(function(e,n){e(n,1,0)}),null)}function Sg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"ng-component",[],null,null,null,Ig,Cg)),ur(1,49152,null,0,Kc,[],null,null)],null,null)}var Og=Vl("ng-component",Kc,Sg,{},{},[]);class kg{constructor(e,n,t,l){this.settingsService=e,this.tokenService=n,this.taskService=t,this.eventService=l,this.isActive=!0,this.loggedIn=!1,this.displayName="",this.availableLinks=[]}ngOnInit(){this.settingsService.setTitle("Home"),this.eventService.tokenChanged.pipe(Go(()=>this.isActive)).subscribe(()=>this.initMembers()),this.initMembers()}ngOnDestroy(){this.isActive=!1}initMembers(){this.loggedIn=this.tokenService.isLoggedIn,this.displayName=this.tokenService.getUsersDisplayName(),this.availableLinks=[],this.availableLinks.push({text:"Du meldest dich an",link:"/iam/login"}),this.availableLinks.push(this.tokenService.isLoggedIn?{text:"Du meldest dich ab",link:""}:{text:"Du registrierst dich",link:"/iam/register"}),this.availableLinks.push({text:"Du willst alles \xfcber dich wissen",link:"/iam/user-info"},{text:"Du verwaltest deinen Account",link:"/iam/account-management"},{text:"Du verwaltest deine Zugangsmedien",link:"/iam/credentials-management"},{text:"Du verwaltest deine Mitgliedschaften",link:"/iam/organization-management"},{text:"Du administrierst deine Organisation (User & Rechte)",link:"/iam/organization-administration"},{text:"Du nutzt die Belegverwaltung",link:"/folderApp/main"},{text:"Du administrierst einzelne Ordner",link:"/folderApp/admin"},{text:"Du administrierst zentral die Berechtigungen deiner User",link:"/iam/central-administration"}),this.taskService.mailsAvailable()&&this.availableLinks.push({text:"Es sind Mails vorhanden",link:"/fakes/mail-view",newBadgeCount:this.taskService.getNumberOfMails()})}onClick(e){return e.includes("meldest dich ab")&&this.logout(),!1}logout(){this.tokenService.logout(),this.initMembers()}}let xg=(()=>{class e{constructor(e){this.titleService=e,this.stringSettings={},this.booleanSettings={},this.booleanValueSet(this.afterRegistrationLoginIsRequired.name,!1),this.booleanValueSet(this.registeredAccountMustBeVerifiedByMail.name,!1),this.booleanValueSet(this.allowJoiningOrganizationByAccount.name,!1),this.booleanValueSet(this.showInfoPageAfterRegistration.name,!0),this.booleanValueSet(this.showInfoPageAfterLogin.name,!1),this.booleanValueSet(this.showInfoPageAfterGuardNotFulfilled.name,!1),this.booleanValueSet(this.showInfoPageAfterOrgaAdminGuardNotFulfilled.name,!0),this.booleanValueSet(this.allowDeletionOfAccountWithOrgaMemberships.name,!1),this.booleanValueSet(this.useGreenLikeColors.name,!1),this.booleanValueSet(this.useAccountName4DisplayingUsername.name,!0)}getAllBooleanSettings(){return this.booleanSettings}_stringValueGet(e,n=!1){const t=this.stringSettings[e];return n&&(this.stringSettings[e]=""),t||""}_stringValueSet(e,n){this.stringSettings[e]=n}_booleanValueGet(e,n=!1){const t=this.booleanSettings[e];return void 0===t?n:t}booleanValueSet(e,n){this.booleanSettings[e]=n}getRedirectUri(e=!1){return this._stringValueGet("redirectUri",e)}redirectUriIsSet(){return!!this.getRedirectUri()}setRedirectUri(e){this._stringValueSet("redirectUri",e)}resetRedirectUri(){this.setRedirectUri("")}getTitle(e=!1){return this._stringValueGet("title",e)}setTitle(e){this._stringValueSet("title",e),this.titleService.setTitle("Gesamt-Frontend: "+e)}getRequiredByGuardHelptext(e=!1){return this._stringValueGet("requiredByGuardHelptext",e)}resetRequiredByGuardHelptext(){this._stringValueSet("requiredByGuardHelptext","")}addRequiredByGuardHelptext(e){const n=this.getRequiredByGuardHelptext();return n&&n.length>0&&(e=n+"-"+e),this._stringValueSet("requiredByGuardHelptext",e)}afterRegistrationLoginIsRequired(){return this._booleanValueGet(this.afterRegistrationLoginIsRequired.name)}registeredAccountMustBeVerifiedByMail(){return this._booleanValueGet(this.registeredAccountMustBeVerifiedByMail.name)}allowJoiningOrganizationByAccount(){return this._booleanValueGet(this.allowJoiningOrganizationByAccount.name)}showInfoPageAfterRegistration(){return this._booleanValueGet(this.showInfoPageAfterRegistration.name)}showInfoPageAfterLogin(){return this._booleanValueGet(this.showInfoPageAfterLogin.name)}showInfoPageAfterGuardNotFulfilled(){return this._booleanValueGet(this.showInfoPageAfterGuardNotFulfilled.name)}showInfoPageAfterOrgaAdminGuardNotFulfilled(){return this._booleanValueGet(this.showInfoPageAfterOrgaAdminGuardNotFulfilled.name)}allowDeletionOfAccountWithOrgaMemberships(){return this._booleanValueGet(this.allowDeletionOfAccountWithOrgaMemberships.name)}useGreenLikeColors(){return this._booleanValueGet(this.useGreenLikeColors.name)}useAccountName4DisplayingUsername(){return this._booleanValueGet(this.useAccountName4DisplayingUsername.name)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Tc))},token:e,providedIn:"root"}),e})();var Ag=function(e){return e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.Secure=3]="Secure",e[e.HighSecure=4]="HighSecure",e}({}),Tg=function(e){return e[e.None=0]="None",e[e.Account=1]="Account",e[e.OrgaUser=2]="OrgaUser",e}({}),Pg=function(e){return e[e.Benutzerkonto=1]="Benutzerkonto",e[e.SmsTan=2]="SmsTan",e[e.SmartCard=3]="SmartCard",e[e.SmartLogin=4]="SmartLogin",e[e.SocialLogin=8]="SocialLogin",e[e.StartSpezialTypen=10]="StartSpezialTypen",e[e.OrgaDependent_DID=20]="OrgaDependent_DID",e}({}),Eg=function(e){return e[e.OrganisationCreated=1]="OrganisationCreated",e[e.OrgaUserRemoved=2]="OrgaUserRemoved",e[e.OrganisationRemoved=3]="OrganisationRemoved",e}({}),Rg=function(e){return e[e.Privat=1]="Privat",e[e.Unternehmen=2]="Unternehmen",e[e.Kanzlei=3]="Kanzlei",e}({}),Mg=function(e){return e[e.MemberOnly=1]="MemberOnly",e[e.Admin=2]="Admin",e[e.SuperAdmin=3]="SuperAdmin",e}({});let Ng=(()=>{class e{constructor(){this.tokenChanged=new Rr,this.idmEvent=new Rr}publishTokenChangedEvent(){this.tokenChanged.emit()}publishIdmEvent(e){this.idmEvent.emit(e)}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Ug=(()=>{class e{constructor(e,n){this.settingsService=e,this.eventService=n,this.accounts=[{id:100,verified:!0,name:"System Admin",email:"sysadmin@bk"},{id:110,verified:!0,name:"Klaus",email:"klaus@bk"},{id:111,name:"Simone",email:"simone@bk"},{id:120,verified:!0,name:"Martin",email:"martin@bk"},{id:121,name:"Sonja",email:"sonja@bk"},{id:122,verified:!0,name:"Kasse Kanzlei Palmengarten",email:"dummy@martin"},{id:130,verified:!0,name:"Tom",email:"tom@bk"},{id:131,name:"Petra",email:"petra@bk"},{id:140,verified:!0,name:"Resi",email:"resi@bk"}],this.creds=[{id:200,accountId:100,kennung:"sysadmin@bk",secret:"test",type:Pg.Benutzerkonto},{id:210,accountId:110,kennung:"klaus@bk",secret:"test",type:Pg.Benutzerkonto},{id:211,accountId:110,kennung:"klaus@sc",secret:"test",type:Pg.SmartCard},{id:212,accountId:110,kennung:"",secret:"",type:Pg.SocialLogin,provider:"google",userIdFromProvider:"113153024055027519050"},{id:215,accountId:111,kennung:"simone@bk",secret:"test",type:Pg.Benutzerkonto},{id:220,accountId:120,kennung:"martin@bk",secret:"test",type:Pg.Benutzerkonto},{id:221,accountId:120,kennung:"martin@st",secret:"test",type:Pg.SmsTan},{id:222,accountId:120,kennung:"martin@sc",secret:"test",type:Pg.SmartCard},{id:223,accountId:120,orgaId:301,kennung:"martin@did",secret:"test",type:Pg.OrgaDependent_DID},{id:224,accountId:120,orgaId:999,kennung:"martinNoOrga@did",secret:"test",type:Pg.OrgaDependent_DID},{id:225,accountId:121,kennung:"sonja@bk",secret:"test",type:Pg.Benutzerkonto},{id:227,accountId:122,orgaId:301,kennung:"kasse@martin",secret:"test",type:Pg.OrgaDependent_DID},{id:230,accountId:130,kennung:"tom@bk",secret:"test",type:Pg.Benutzerkonto},{id:231,accountId:130,kennung:"tom@sc",secret:"test",type:Pg.SmartCard},{id:235,accountId:131,kennung:"petra@bk",secret:"test",type:Pg.Benutzerkonto},{id:240,accountId:140,kennung:"resi@bk",secret:"test",type:Pg.Benutzerkonto},{id:241,accountId:140,kennung:"resi@sc",secret:"test",type:Pg.SmartCard}],this.organizations=[{id:300,name:"Kanzlei Heinzelmann",type:Rg.Kanzlei},{id:301,name:"Kanzlei Palmengarten",type:Rg.Kanzlei},{id:302,name:"Holzhandel Grubinger",type:Rg.Unternehmen},{id:303,name:"Familie Martin privat",type:Rg.Privat}],this.orgaUsers=[{id:400,accountId:110,orgaId:300,name:"Klaus Heinzelmann",adminType:Mg.SuperAdmin},{id:401,accountId:111,orgaId:300,name:"Simone Heinzelmann",adminType:Mg.Admin},{id:402,orgaId:300,foreignOrgaId:302,name:"Mandant Grubinger"},{id:410,accountId:120,orgaId:301,name:"Martin Palmengarten",adminType:Mg.SuperAdmin},{id:411,accountId:121,orgaId:301,name:"Sonja Hohlraab"},{id:412,accountId:122,orgaId:301,name:"Kasse von Kanzlei Palmengarten"},{id:420,accountId:130,orgaId:302,name:"Tom Grubinger",adminType:Mg.SuperAdmin},{id:421,accountId:131,orgaId:302,name:"Petra Elfenbein"},{id:430,accountId:120,orgaId:303,name:"Martin privat",adminType:Mg.SuperAdmin}]}login(e,n=!1){let t;if(e.provider)t=this.creds.find(n=>n.provider===e.provider&&n.userIdFromProvider===e.userIdFromProvider);else{if(!e.kennung||0===e.kennung.length)return{authType:Tg.None};t=this.creds.find(n=>n.kennung.toLowerCase()===e.kennung.toLowerCase())}if(!t)return{authType:Tg.None};if(e.secret.length>0&&e.secret!==t.secret)return{authType:Tg.None};const l=this.accounts.find(e=>e.id===t.accountId);if(this.settingsService.registeredAccountMustBeVerifiedByMail()&&!l.verified&&!n)return{authType:Tg.None};const r=[];if(t.type>Pg.StartSpezialTypen){if(!t.orgaId)return console.log("OrgaDependent Credential, but no orgaId => login failed..."),{authType:Tg.None};const e=this.orgaUsers.find(e=>e.accountId===l.id&&e.orgaId===t.orgaId);if(!e)return console.log("OrgaDependent Credential, but orgaUser not found => login failed..."),{authType:Tg.None};r.push(e)}else this.orgaUsers.forEach(e=>{e.accountId===l.id&&r.push(e)});if(r.length<=0)return{authType:Tg.Account,credential:t,account:l};const i=[];r.forEach(e=>{i.push(this.organizations.find(n=>n.id===e.orgaId))});const s={authType:Tg.Account,credential:t,account:l,availableOrgas:i};return 1===i.length&&(s.authType=Tg.OrgaUser,s.orgaUser=r[0],s.organization=i[0]),s}_checkAccountIsValid(e){if(!e.name||e.name.length<3)return!1;const n=this.accounts.find(n=>n.email.toLowerCase()===e.email.toLowerCase());return!n||e.id===n.id}_checkCredentialIsValid(e){if(e.provider){if(!e.userIdFromProvider)return!1;if(this.creds.find(n=>n.provider===e.provider&&n.userIdFromProvider===e.userIdFromProvider))return!1}else{if(!e.kennung||e.kennung.length<3)return!1;if(this.creds.find(n=>n.kennung.toLowerCase()===e.kennung.toLowerCase()))return!1}return!0}register(e,n){if(!this._checkAccountIsValid(e))return;if(!this._checkCredentialIsValid(n))return;const t=this._addNewAccount(e);n.accountId=t.id;const l=this._addNewCredential(n);return this.login(l,!0)}findAccountByMail(e){return this.accounts.find(n=>n.email.toLowerCase()===e.toLowerCase())}_addNewAccount(e){let n=0;return this.accounts.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.accounts.push(e),e}_addNewOrgaUser(e){let n=0;return this.orgaUsers.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.orgaUsers.push(e),e}_addNewOrganization(e){let n=0;return this.organizations.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.organizations.push(e),e}updateAccount(e){if(!this._checkAccountIsValid(e))return;const n=this.accounts.find(n=>n.id===e.id);return n&&(n.name=e.name,n.email=e.email,n.verified=e.verified),n}isMemberInAtLeastOneOrga(e){return void 0!==this.orgaUsers.find(n=>n.accountId===e)}_deleteAccount(e){const n=this.accounts.findIndex(n=>n.id===e);n>=0&&this.accounts.splice(n,1)}_deleteAllCredentialsOfAccount(e){this.creds=this.creds.filter(n=>n.accountId!==e)}_deleteAllOrgaUsersOfAccount(e){this.orgaUsers.filter(n=>n.accountId===e).forEach(e=>this.onOrgaUserRemoval(e))}deleteAccount(e){return!!this.accounts.find(n=>n.id===e)&&(this._deleteAllOrgaUsersOfAccount(e),this._deleteAllCredentialsOfAccount(e),this._deleteAccount(e),!0)}isAdmin(e){const n=this.findOrgaUserById(e);return!!n&&(!!(n.adminType&&n.adminType>=Mg.Admin)||!this.orgaUsers.find(e=>e.orgaId===n.orgaId&&e.adminType>=Mg.Admin)&&this.orgaUsers.findIndex(n=>n.id===e)===this.orgaUsers.findIndex(e=>e.orgaId===n.orgaId))}getAllOrgaUsers(e){return this.orgaUsers.filter(n=>n.orgaId===e)}updateOrgaUser(e){const n=this.orgaUsers.find(n=>n.id===e.id);return n&&(n.name=e.name,n.adminType=e.adminType),n}addNewCredential(e){if(this._checkCredentialIsValid(e))return this._addNewCredential(e)}_addNewCredential(e){let n=0;return this.creds.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.creds.push(e),e}getAllCredentials(e){return this.creds.filter(n=>n.accountId===e)}removeCredential(e){for(let n=0;n<this.creds.length;n++)if(this.creds[n].id===e){this.creds.splice(n,1);break}}findOrgaUserByAccountId(e,n){if(e&&n)return this.orgaUsers.find(t=>t.orgaId===e&&t.accountId===n)}findForeignOrgaByOrgaId(e,n){if(e&&n)return this.orgaUsers.find(t=>t.orgaId===e&&t.foreignOrgaId===n)}findForeignUserByOrgaId(e,n){if(e&&n)return this.orgaUsers.find(t=>t.orgaId===e&&t.foreignUserId===n)}findOrgaUserById(e){if(e)return this.orgaUsers.find(n=>n.id===e)}findOrgaById(e){return this.organizations.find(n=>n.id===e)}getAllOrganizationsForAccount(e){if(!e)return[];const n=[];return this.orgaUsers.filter(n=>n.accountId===e).forEach(e=>{n.push({orga:this.organizations.find(n=>n.id===e.orgaId),orgaUser:e})}),n}leaveOrganizationByAccountId(e,n){if(!e||!n)return!1;const t=this.orgaUsers.find(t=>t.orgaId===e&&t.accountId===n);return this.onOrgaUserRemoval(t)}leaveOrganizationByOrgaUser(e){if(!e)return!1;const n=this.orgaUsers.find(n=>n.id===e);return this.onOrgaUserRemoval(n)}deleteOrgaUser(e){const n=this.orgaUsers.findIndex(n=>n.id===e);return!(n<0||(this.orgaUsers.splice(n,1),0))}onOrgaUserRemoval(e,n=!0){if(!e)return!1;const t=this.findAllDirectProxyUserOfUser(e);t&&t.forEach(e=>this.onOrgaUserRemoval(e));const l=this.orgaUsers.findIndex(n=>n.id===e.id);return l>=0&&(this.orgaUsers.splice(l,1),n&&this.eventService.publishIdmEvent({type:Eg.OrgaUserRemoved,orgaUser:e}),!0)}findAllDirectProxyUserOfUser(e){return this.orgaUsers.filter(n=>n.foreignUserId===e.id)}deleteOrganization(e){const n=this.organizations.findIndex(n=>n.id===e);n<0||(this.orgaUsers.filter(n=>n.orgaId===e).forEach(e=>this.onOrgaUserRemoval(e,!1)),this.organizations.splice(n,1),this.eventService.publishIdmEvent({type:Eg.OrganisationRemoved,organizationId:e}))}joinOrganization(e,n){if(!(n.accountId&&this.findOrgaUserByAccountId(e,n.accountId)||n.foreignOrgaId&&this.findForeignOrgaByOrgaId(e,n.foreignOrgaId)||n.foreignUserId&&this.findForeignUserByOrgaId(e,n.foreignUserId)))return n.orgaId=e,this._addNewOrgaUser(n)}createNewOrganization(e,n){const t=this._addNewOrganization(e);return n.orgaId=t.id,this._addNewOrgaUser(n),this.eventService.publishIdmEvent({type:Eg.OrganisationCreated,organizationId:e.id}),t}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(xg),Le(Ng))},token:e,providedIn:"root"}),e})(),Dg=(()=>{class e{constructor(e,n,t){this.fakeBackend=e,this.eventService=n,this.settingsService=t,this.initMembers()}initMembers(){this.token={authType:Tg.None},this.token.credential={kennung:"",secret:""},this.token.account={name:"",email:""},this.token.orgaUser={name:""},this.token.organization={name:""}}register(e,n){return this.fakeBackend.register(e,n)}login(e,n=!1){const t=this.fakeBackend.login(e,n);return this.tempToken=Object.assign({},t),t}logoutFromOrganization(e){const n=Object.assign({},this.token);n.authType=Tg.Account,n.organization=void 0,n.orgaUser=void 0,n.availableOrgas.splice(n.availableOrgas.findIndex(n=>n.id===e),1),this.setToken(n)}getTempToken(){return this.tempToken}loginWithOrganization(e){this.tempToken.authType=Tg.OrgaUser;const n={authType:Tg.OrgaUser};Object.assign(n,this.tempToken);const t=n.availableOrgas.find(n=>n.id===e);n.organization=t,n.orgaUser=this.fakeBackend.findOrgaUserByAccountId(t.id,n.account.id),this.setToken(n)}loginWithAccountOnly(){const e={authType:Tg.Account};e.credential=this.tempToken.credential,e.account=this.tempToken.account,e.availableOrgas=this.tempToken.availableOrgas,this.setToken(e)}get isLoggedIn(){return this.token.authType!==Tg.None}logout(){this.setToken({authType:Tg.None})}getAuthType(){return this.token&&this.token.authType}isLoggedInInOrga(){return this.token&&this.token.authType&&this.token.authType===Tg.OrgaUser}getAuthLevel(){return this.token&&this.token.authLevel}getAuthLevelAsString(){return this.token&&this.token.authLevel&&Ag[this.token.authLevel]}getAccount(){return this.token&&this.token.account}getOrgaUser(){return this.token&&this.token.orgaUser}getCredential(){return this.token&&this.token.credential}getOrgaName(){return this.token&&this.token.organization?this.token.organization.name:""}getUsersDisplayName(){return this.token?this.token.authType!==Tg.OrgaUser||this.settingsService.useAccountName4DisplayingUsername()?this.token.account.name:this.token.orgaUser.name:""}userHasOrgaMembership(){return!(!this.token||!this.token.availableOrgas)&&this.token.availableOrgas.length>0}determineAuthLevel(e){switch(e.type){case Pg.Benutzerkonto:return Ag.Low;case Pg.SmsTan:return Ag.Medium;case Pg.SmartCard:case Pg.SmartLogin:return Ag.Secure}return Ag.Low}setToken(e){this.initMembers(),this.token.authType=e.authType,this.token.authType!==Tg.None&&(this.tempToken=void 0,Object.assign(this.token,e),this.token.authLevel=this.determineAuthLevel(e.credential)),this.eventService.publishTokenChangedEvent()}getToken(){return this.token}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug),Le(Ng),Le(xg))},token:e,providedIn:"root"}),e})();var Fg=function(e){return e[e.None=0]="None",e[e.AccountVerification=1]="AccountVerification",e[e.InvitationOrgaUser=2]="InvitationOrgaUser",e[e.DeclinedOrgaUserInvitation=3]="DeclinedOrgaUserInvitation",e[e.AcceptedOrgaUserInvitation=4]="AcceptedOrgaUserInvitation",e}({}),Vg=function(e){return e[e.None=0]="None",e[e.AccountVerification=1]="AccountVerification",e[e.InvitationOrgaUser=2]="InvitationOrgaUser",e[e.InfoOfInvitationOrgaUser=3]="InfoOfInvitationOrgaUser",e}({});let Lg=(()=>{class e{constructor(e,n){this.fakeBackend=e,this.settingsService=n}updateAccount(e){return this.fakeBackend.updateAccount(e)}deleteAccount(e){return!(this.fakeBackend.isMemberInAtLeastOneOrga(e)&&!this.settingsService.allowDeletionOfAccountWithOrgaMemberships())&&this.fakeBackend.deleteAccount(e)}findAccountByMail(e){return this.fakeBackend.findAccountByMail(e)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug),Le(xg))},token:e,providedIn:"root"}),e})(),zg=(()=>{class e{constructor(e){this.fakeBackend=e}getAllOrgasForUser(e){return this.fakeBackend.getAllOrganizationsForAccount(e)}leaveOrganizationByAccountId(e,n){this.fakeBackend.leaveOrganizationByAccountId(e,n)}leaveOrganizationByOrgaUser(e){this.fakeBackend.leaveOrganizationByOrgaUser(e)}deleteOrganization(e){this.fakeBackend.deleteOrganization(e)}findOrgaById(e){return this.fakeBackend.findOrgaById(e)}findOrgaUserByAccountId(e,n){return this.fakeBackend.findOrgaUserByAccountId(e,n)}findOrgaUserByOrgaUserId(e){return this.fakeBackend.findOrgaUserById(e)}accountIsAlreadyMemberInOrga(e,n){return void 0!==this.fakeBackend.findOrgaUserByAccountId(e,n)}foreignOrgaIsAlreadyMemberInOrga(e,n){return void 0!==this.fakeBackend.findForeignOrgaByOrgaId(e,n)}foreignUserIsAlreadyMemberInOrga(e,n){return void 0!==this.fakeBackend.findForeignUserByOrgaId(e,n)}joinOrganization(e,n){return this.fakeBackend.joinOrganization(e,n)}createNewOrganization(e,n){return this.fakeBackend.createNewOrganization(e,n)}isAdmin(e){return this.fakeBackend.isAdmin(e)}getAllOrgaUsers(e){return this.fakeBackend.getAllOrgaUsers(e)}updateOrgaUser(e){return this.fakeBackend.updateOrgaUser(e)}acceptOrgaUserInvitation(e,n){const t=this.fakeBackend.findOrgaUserById(e.id);return!!t&&(t.accountId=n.id,!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug))},token:e,providedIn:"root"}),e})(),Bg=(()=>{class e{constructor(e,n,t){this.tokenService=e,this.orgaService=n,this.eventService=t,this.notificationList=[]}_fillWithTestData(){this.notificationList.push({id:1,type:Fg.AccountVerification,accountAsRecipient:{id:110,name:"Klaus",email:""}},{id:3,type:Fg.InvitationOrgaUser,accountAsRecipient:{id:110,name:"Klaus",email:""},orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}},{id:4,type:Fg.AcceptedOrgaUserInvitation,orgaIdAsRecipient:300,orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}},{id:5,type:Fg.DeclinedOrgaUserInvitation,orgaIdAsRecipient:301,orgaUser:{id:410,name:"Klaus Kraus",orgaId:302}})}addNotification(e){let n=0;this.notificationList.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.notificationList.push(e)}getAllNotificationsForCurrentPrincipal(){if(!this.tokenService.isLoggedIn)return[];let e=this.tokenService.isLoggedInInOrga()?this.tokenService.getOrgaUser().orgaId:0;return e&&!this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)&&(e=0),this.notificationList.filter(n=>{if(n.accountAsRecipient){if(n.accountAsRecipient.id===this.tokenService.getAccount().id)return n}else if(n.orgaIdAsRecipient===e)return n})}getNumberOfNotificationsForCurrentPrincipal(){return this.getAllNotificationsForCurrentPrincipal().length}_declineInvitationOrgaUser(e){this.orgaService.leaveOrganizationByOrgaUser(e.orgaUser.id),this.addNotification({type:Fg.DeclinedOrgaUserInvitation,orgaIdAsRecipient:e.orgaUser.orgaId,orgaUser:e.orgaUser})}declineInvitation(e){const n=this.notificationList.find(n=>n.id===e);if(n){switch(n.type){case Fg.AccountVerification:break;case Fg.InvitationOrgaUser:this._declineInvitationOrgaUser(n)}this.removeNotification(e)}}acceptInvitation(e){const n=this.notificationList.find(n=>n.id===e);if(n){switch(n.type){case Fg.AccountVerification:break;case Fg.InvitationOrgaUser:this._acceptInvitationOrgaUser(n)}this.removeNotification(e)}}removeNotification(e){const n=this.notificationList.findIndex(n=>n.id===e);n>=0&&this.notificationList.splice(n,1),this.eventService.publishTokenChangedEvent()}_acceptInvitationOrgaUser(e){return!!this.orgaService.acceptOrgaUserInvitation(e.orgaUser,this.tokenService.getAccount())&&(this.addNotification({type:Fg.AcceptedOrgaUserInvitation,orgaIdAsRecipient:e.orgaUser.orgaId,orgaUser:e.orgaUser}),!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(zg),Le(Ng))},token:e,providedIn:"root"}),e})(),jg=(()=>{class e{constructor(e,n,t){this.accountService=e,this.notificationService=n,this.orgaService=t,this.mailList=[]}_fillWithTestData(){this.mailList.push({type:Vg.AccountVerification,id:1,email:"Klaus.Hetzelein@datev.de",account:{name:"Klaus Hetzelein",email:""}},{type:Vg.InvitationOrgaUser,id:2,email:"klaus@bk",orgaUser:{id:110,name:"Orga Klaus Name",orgaId:300}},{type:Vg.InfoOfInvitationOrgaUser,id:3,email:"klaus@mail.de",account:{name:"Klaus",email:""},orgaUser:{id:110,name:"Orga Klaus Name",orgaId:300}})}mailsAvailable(){return this.mailList.length>0}getNumberOfMails(){return this.mailList.length}setTaskInProgress(e){return!this.taskByMailInProgress&&(this.taskByMailInProgress=e,!0)}resetTaskInProgress(){this.taskByMailInProgress=void 0}getTaskInProgress(){return this.taskByMailInProgress}addMailTask(e){let n=0;this.mailList.forEach(e=>{e.id>n&&(n=e.id)}),e.id=n+1,this.mailList.push(e),this.resetTaskInProgress()}getAllMailsByType(e){return this.mailList.filter(n=>n.type===e)}getAllMails(){return this.mailList}_declineAccountVerification(e){this.accountService.deleteAccount(e.account.id)}_declineInvitationOrgaUser(e){this.orgaService.leaveOrganizationByOrgaUser(e.orgaUser.id)}declineTask(e){const n=this.mailList.find(n=>n.id===e);if(n){switch(n.type){case Vg.AccountVerification:this._declineAccountVerification(n);break;case Vg.InvitationOrgaUser:this._declineInvitationOrgaUser(n)}this.removeTask(e)}}removeTask(e){const n=this.getTaskInProgress();n&&n.id===e&&this.resetTaskInProgress();const t=this.mailList.findIndex(n=>n.id===e);t>=0&&this.mailList.splice(t,1)}_fulfillInvitationOrgaUserTask(e){const n=this.getTaskInProgress();return!(!n||n.type!==Vg.InvitationOrgaUser||this.orgaService.accountIsAlreadyMemberInOrga(n.orgaUser.orgaId,e.account.id)||(this.notificationService.addNotification({type:Fg.InvitationOrgaUser,accountAsRecipient:e.account,orgaUser:n.orgaUser}),this.removeTask(n.id),0))}_fulfillAccountVerificationTask(e){const n=this.getTaskInProgress();return!!n&&n.account.id===e.account.id&&(e.account.verified=!0,this.accountService.updateAccount(e.account),this.notificationService.addNotification({type:Fg.AccountVerification,accountAsRecipient:e.account}),this.removeTask(n.id),!0)}thisFulfillsPendingTask(e){if(!this.taskByMailInProgress)return;const n=Object.assign({},this.taskByMailInProgress);return n.type===Vg.AccountVerification&&this._fulfillAccountVerificationTask(e)?n:n.type===Vg.InvitationOrgaUser&&this._fulfillInvitationOrgaUserTask(e)?n:void this.resetTaskInProgress()}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Lg),Le(Bg),Le(zg))},token:e,providedIn:"root"}),e})();var $g=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:30em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.verweise[_ngcontent-%COMP%]   .knubbel[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:2.2em;min-width:16px;text-align:rigth;margin-right:.8em;border-radius:4px 0 0 4px}.badge[_ngcontent-%COMP%]{margin-right:.5em}span.badge.new[_ngcontent-%COMP%]{font-weight:500!important;font-size:1rem!important;color:#fff!important}"]],data:{}});function Hg(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),as(2,null,[" Hallo ",", herzlich willkommen auf unserer Plattform."]))],null,(function(e,n){e(n,2,0,n.component.displayName)}))}function qg(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),as(-1,null,[" Herzlich willkommen auf unserer der Plattform."]))],null,null)}function Gg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),as(1,null,["",""]))],null,(function(e,n){e(n,1,0,n.parent.context.$implicit.newBadgeCount)}))}function Kg(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==Zl(e,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==r.onClick(e.context.$implicit.text)&&l),l}),null,null)),ur(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(3,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,Gg)),ur(5,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,2,0,n.context.$implicit.link),e(n,5,0,n.context.$implicit.newBadgeCount>0)}),(function(e,n){e(n,1,0,Zl(n,2).target,Zl(n,2).href),e(n,3,0,n.context.$implicit.text)}))}function Wg(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,Hg)),ur(1,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,qg)),ur(3,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(4,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(-1,null,["Du hast folgende M\xf6glichkeiten:"])),(e()(),Qi(6,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Kg)),ur(8,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){var t=n.component;e(n,1,0,t.loggedIn),e(n,3,0,!t.loggedIn),e(n,8,0,t.availableLinks)}),null)}function Zg(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-oes-main",[],null,null,null,Wg,$g)),ur(1,245760,null,0,kg,[xg,Dg,jg,Ng],null,null)],(function(e,n){e(n,1,0)}),null)}var Qg=Vl("app-oes-main",kg,Zg,{},{},[]);class Jg extends j{constructor(e,n){super(e),this.sources=n,this.completed=0,this.haveValues=0;const t=n.length;this.values=new Array(t);for(let l=0;l<t;l++){const e=B(this,n[l],null,l);e&&this.add(e)}}notifyNext(e,n,t,l,r){this.values[t]=n,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:n,haveValues:t,values:l}=this,r=l.length;e._hasValue?(this.completed++,this.completed===r&&(t===r&&n.next(l),n.complete())):n.complete()}}const Yg=new ke("NgValueAccessor");class Xg{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}const ep=new ke("CompositionEventMode");class np{constructor(e,n,t){this._renderer=e,this._elementRef=n,this._compositionMode=t,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=pa()?pa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class tp{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class lp extends tp{get formDirective(){return null}get path(){return null}}function rp(){throw new Error("unimplemented")}class ip extends tp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return rp()}get asyncValidator(){return rp()}}class sp{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class op extends sp{constructor(e){super(e)}}class up extends sp{constructor(e){super(e)}}function ap(e){return null==e||0===e.length}const cp=new ke("NgValidators"),dp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hp{static min(e){return n=>{if(ap(n.value)||ap(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}static max(e){return n=>{if(ap(n.value)||ap(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}static required(e){return ap(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return ap(e.value)?null:dp.test(e.value)?null:{email:!0}}static minLength(e){return n=>{if(ap(n.value))return null;const t=n.value?n.value.length:0;return t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}static maxLength(e){return n=>{const t=n.value?n.value.length:0;return t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}static pattern(e){if(!e)return hp.nullValidator;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),e=>{if(ap(e.value))return null;const l=e.value;return n.test(l)?null:{pattern:{requiredPattern:t,actualValue:l}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const n=e.filter(gp);return 0==n.length?null:function(e){return fp(function(e,n){return n.map(n=>n(e))}(e,n))}}static composeAsync(e){if(!e)return null;const n=e.filter(gp);return 0==n.length?null:function(e){return function e(...n){let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?xo:t?e(n).pipe($(e=>t(...e))):new w(e=>new Jg(e,n))}(function(e,n){return n.map(n=>n(e))}(e,n).map(pp)).pipe($(fp))}}}function gp(e){return null!=e}function pp(e){const n=Xn(e)?K(e):e;if(!et(n))throw new Error("Expected validator to return Promise or Observable.");return n}function fp(e){const n=e.reduce((e,n)=>null!=n?Object.assign({},e,n):e,{});return 0===Object.keys(n).length?null:n}function mp(e){return e.validate?n=>e.validate(n):e}function vp(e){return e.validate?n=>e.validate(n):e}class yp{constructor(){this._accessors=[]}add(e,n){this._accessors.push([e,n])}remove(e){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===e)return void this._accessors.splice(n,1)}select(e){this._accessors.forEach(n=>{this._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}_isSameGroup(e,n){return!!e[0].control&&e[0]._parent===n._control._parent&&e[1].name===n.name}}const _p={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function bp(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}class wp{constructor(e,n){this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Wn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const n=this._getOptionId(e);null==n&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const t=bp(n,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){const n=function(e){return e.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n):e}}class Cp{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(bp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Ip(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}class Sp{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ip(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ip(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Op(e,n){return[...n.path,e]}function kp(e,n){e||Ap(n,"Cannot find control with"),n.valueAccessor||Ap(n,"No value accessor for form control with"),e.validator=hp.compose([e.validator,n.validator]),e.asyncValidator=hp.composeAsync([e.asyncValidator,n.asyncValidator]),n.valueAccessor.writeValue(e.value),function(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&xp(e,n)})}(e,n),function(e,n){e.registerOnChange((e,t)=>{n.valueAccessor.writeValue(e),t&&n.viewToModelUpdate(e)})}(e,n),function(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&xp(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),n.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{n.valueAccessor.setDisabledState(e)}),n._rawValidators.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(()=>e.updateValueAndValidity())}),n._rawAsyncValidators.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function xp(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ap(e,n){let t;throw t=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${n} ${t}`)}function Tp(e){return null!=e?hp.compose(e.map(mp)):null}function Pp(e){return null!=e?hp.composeAsync(e.map(vp)):null}const Ep=[Xg,class{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},wp,class{constructor(e,n){this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Wn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let n;if(this.value=e,Array.isArray(e)){const t=e.map(e=>this._getOptionId(e));n=(e,n)=>{e._setSelected(t.indexOf(n.toString())>-1)}}else n=(e,n)=>{e._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{const t=[];if(n.hasOwnProperty("selectedOptions")){const e=n.selectedOptions;for(let n=0;n<e.length;n++){const l=e.item(n),r=this._getOptionValue(l.value);t.push(r)}}else{const e=n.options;for(let n=0;n<e.length;n++){const l=e.item(n);if(l.selected){const e=this._getOptionValue(l.value);t.push(e)}}}this.value=t,e(t)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(const n of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){const n=function(e){return e.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}},class{constructor(e,n,t,l){this._renderer=e,this._elementRef=n,this._registry=t,this._injector=l,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ip),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Rp="VALID",Mp="INVALID",Np="PENDING",Up="DISABLED";function Dp(e){const n=Vp(e)?e.validators:e;return Array.isArray(n)?Tp(n):n||null}function Fp(e,n){const t=Vp(n)?n.asyncValidators:e;return Array.isArray(t)?Pp(t):t||null}function Vp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Lp{constructor(e,n){this.validator=e,this.asyncValidator=n,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===Mp}get pending(){return this.status==Np}get disabled(){return this.status===Up}get enabled(){return this.status!==Up}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Dp(e)}setAsyncValidators(e){this.asyncValidator=Fp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Np,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Up,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:n})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this._forEachChild(n=>{n.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:n})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Rp&&this.status!==Np||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Up:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Np;const n=pp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(n=>this.setErrors(n,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(e,n,t){return null==n?null:(n instanceof Array||(n=n.split(".")),n instanceof Array&&0===n.length?null:n.reduce((e,n)=>e instanceof Bp?e.controls.hasOwnProperty(n)?e.controls[n]:null:e instanceof jp&&e.at(n)||null,e))}(this,e)}getError(e,n){const t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rr,this.statusChanges=new Rr}_calculateStatus(){return this._allControlsDisabled()?Up:this.errors?Mp:this._anyControlsHaveStatus(Np)?Np:this._anyControlsHaveStatus(Mp)?Mp:Rp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class zp extends Lp{constructor(e=null,n,t){super(Dp(n),Fp(t,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Bp extends Lp{constructor(e,n,t){super(Dp(n),Fp(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n){this.registerControl(e,n),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,n){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(t=>{this._throwIfControlMissing(t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){Object.keys(e).forEach(t=>{this.controls[t]&&this.controls[t].patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}reset(e={},n={}){this._forEachChild((t,l)=>{t.reset(e[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n instanceof zp?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>e(this.controls[n],n))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let n=!1;return this._forEachChild((t,l)=>{n=n||this.contains(l)&&e(t)}),n}_reduceValue(){return this._reduceChildren({},(e,n,t)=>((n.enabled||this.disabled)&&(e[t]=n.value),e))}_reduceChildren(e,n){let t=e;return this._forEachChild((e,l)=>{t=n(t,e,l)}),t}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,t)=>{if(void 0===e[t])throw new Error(`Must supply a value for form control with name: '${t}'.`)})}}class jp extends Lp{constructor(e,n,t){super(Dp(n),Fp(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,n){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,n){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((e,t)=>{this._throwIfControlMissing(t),this.at(t).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e.forEach((e,t)=>{this.at(t)&&this.at(t).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}reset(e=[],n={}){this._forEachChild((t,l)=>{t.reset(e[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof zp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,t)=>{if(void 0===e[t])throw new Error(`Must supply a value for form control at index: ${t}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const $p=(()=>Promise.resolve(null))();class Hp extends lp{constructor(e,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Rr,this.form=new Bp({},Tp(e),Pp(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){$p.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),kp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){$p.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),function(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this._directives,e)})}addFormGroup(e){$p.then(()=>{const n=this._findContainer(e.path),t=new Bp({});(function(e,n){null==e&&Ap(n,"Cannot find control with"),e.validator=hp.compose([e.validator,n.validator]),e.asyncValidator=hp.composeAsync([e.asyncValidator,n.asyncValidator])})(t,e),n.registerControl(e.name,t),t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){$p.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){$p.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,n=this._directives,this.form._syncPendingControls(),n.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var n}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class qp{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${_p.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${_p.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${_p.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${_p.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${_p.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${_p.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Gp=new ke("NgFormSelectorWarning");class Kp extends lp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Op(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tp(this._validators)}get asyncValidator(){return Pp(this._asyncValidators)}_checkParentType(){}}class Wp extends Kp{constructor(e,n,t){super(),this._parent=e,this._validators=n,this._asyncValidators=t}_checkParentType(){this._parent instanceof Wp||this._parent instanceof Hp||qp.modelGroupParentException()}}const Zp=(()=>Promise.resolve(null))();class Qp extends ip{constructor(e,n,t,l){super(),this.control=new zp,this._registered=!1,this.update=new Rr,this._parent=e,this._rawValidators=n||[],this._rawAsyncValidators=t||[],this.valueAccessor=function(e,n){if(!n)return null;Array.isArray(n)||Ap(e,"Value accessor was not provided as an array for form control with");let t=void 0,l=void 0,r=void 0;return n.forEach(n=>{n.constructor===np?t=n:function(e){return Ep.some(n=>e.constructor===n)}(n)?(l&&Ap(e,"More than one built-in value accessor matches form control with"),l=n):(r&&Ap(e,"More than one custom value accessor matches form control with"),r=n)}),r||l||t||(Ap(e,"No valid value accessor for form control with"),null)}(this,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Wn(n,t.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Op(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tp(this._rawValidators)}get asyncValidator(){return Pp(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Wp)&&this._parent instanceof Kp?qp.formGroupNameException():this._parent instanceof Wp||this._parent instanceof Hp||qp.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||qp.missingNameException()}_updateValue(e){Zp.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const n=e.isDisabled.currentValue,t=""===n||n&&"false"!==n;Zp.then(()=>{t&&!this.control.disabled?this.control.disable():!t&&this.control.disabled&&this.control.enable()})}}class Jp{}class Yp{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?hp.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class Xp{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=hp.minLength(parseInt(this.minlength,10))}}class ef{}class nf{static withConfig(e){return{ngModule:nf,providers:[{provide:Gp,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class tf{constructor(e){this.el=e}ngAfterViewInit(){this.el.nativeElement.focus()}}class lf{constructor(e,n,t,l,r){this.loginService=e,this.router=n,this.settingsService=t,this.taskService=l,this.authService=r}ngOnInit(){this.settingsService.setTitle("Anmeldung"),this.initMembers()}initMembers(){this.credential={kennung:"",secret:""}}clearForm(){this.initMembers()}loginWithGoogle(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{if(e){console.log("provider: "+e.provider),console.log("id: "+e.id);const n=this.loginService.login({type:Pg.SocialLogin,kennung:"",secret:"",provider:"google",userIdFromProvider:e.id});return this._onLogin(n)}alert("not logged in..."),console.log("not logged in...")}).catch(e=>alert("Sociallogin failed: "+e))}_getAllowUnverifiedState(){const e=this.taskService.getTaskInProgress();return!(!e||e.type!==Vg.AccountVerification)}_handleAccountVerification(e){if(e.account.verified||this.taskService.thisFulfillsPendingTask(e))return this.taskService.resetTaskInProgress(),e;this.taskService.resetTaskInProgress()}_handleTaskInProgressIfAny(e){this.taskService.thisFulfillsPendingTask(e)}_orgaSelectionNeeded(e){return e.availableOrgas&&e.availableOrgas.length>1}onLogin(){const e=this._getAllowUnverifiedState();let n=this.loginService.login(this.credential,e);n&&n.authType!==Tg.None?(this.loginService.logout(),e&&!(n=this._handleAccountVerification(n))||(this._handleTaskInProgressIfAny(n),this._orgaSelectionNeeded(n)?this.router.navigateByUrl("/iam/select-organization"):(this.loginService.setToken(n),this.initMembers(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())))):alert("Das Anmelden hat nicht geklappt...")}_onLogin(e){e&&e.authType!==Tg.None?(this.loginService.logout(),this._orgaSelectionNeeded(e)?this.router.navigateByUrl("/iam/select-organization"):(this.loginService.setToken(e),this.initMembers(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri()))):alert("Das Anmelden hat nicht geklappt...")}}var rf=nl({encapsulation:0,styles:[["button[_ngcontent-%COMP%]{margin-right:15px;margin-top:20px}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function sf(e){return hs(0,[(e()(),Qi(0,0,null,null,37,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,4).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,4).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.onLogin()&&l),l}),null,null)),ur(3,16384,null,0,Jp,[],null,null),ur(4,4210688,[["loginForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(6,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(7,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"label",[["for","kennung"]],null,null,null,null,null)),(e()(),as(-1,null,["Kennung"])),(e()(),Qi(10,0,null,null,8,"input",[["appAutofocus",""],["class","form-control"],["id","kennung"],["name","kennung"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,11)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,11).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,11)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,11)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.credential.kennung=t)&&l),l}),null,null)),ur(11,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(12,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(15,671744,[["kennung",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(17,16384,null,0,op,[[4,ip]],null,null),ur(18,4210688,null,0,tf,[dt],null,null),(e()(),Qi(19,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(20,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),as(-1,null,["Passwort"])),(e()(),Qi(22,0,null,null,5,"input",[["class","form-control"],["id","secret"],["name","secret"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,23)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,23).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,23)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,23)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.credential.secret=t)&&l),l}),null,null)),ur(23,16384,null,0,np,[mt,dt,[2,ep]],null,null),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(25,671744,[["secret",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(27,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(28,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.clearForm()&&l),l}),null,null)),(e()(),as(-1,null,["Zur\xfccksetzen"])),(e()(),Qi(30,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Anmelden"])),(e()(),Qi(32,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.loginWithGoogle()&&l),l}),null,null)),(e()(),as(-1,null,["Anmelden mit Google"])),(e()(),Qi(34,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(35,0,null,null,2,"a",[["routerLink","/iam/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,36).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(36,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,[" Neu bei uns? "]))],(function(e,n){var t=n.component;e(n,12,0,""),e(n,15,0,"kennung",t.credential.kennung),e(n,25,0,"secret",t.credential.secret),e(n,36,0,"/iam/register")}),(function(e,n){e(n,2,0,Zl(n,6).ngClassUntouched,Zl(n,6).ngClassTouched,Zl(n,6).ngClassPristine,Zl(n,6).ngClassDirty,Zl(n,6).ngClassValid,Zl(n,6).ngClassInvalid,Zl(n,6).ngClassPending),e(n,10,0,Zl(n,12).required?"":null,Zl(n,17).ngClassUntouched,Zl(n,17).ngClassTouched,Zl(n,17).ngClassPristine,Zl(n,17).ngClassDirty,Zl(n,17).ngClassValid,Zl(n,17).ngClassInvalid,Zl(n,17).ngClassPending),e(n,22,0,Zl(n,27).ngClassUntouched,Zl(n,27).ngClassTouched,Zl(n,27).ngClassPristine,Zl(n,27).ngClassDirty,Zl(n,27).ngClassValid,Zl(n,27).ngClassInvalid,Zl(n,27).ngClassPending),e(n,30,0,!Zl(n,4).valid),e(n,35,0,Zl(n,36).target,Zl(n,36).href)}))}function of(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-login",[],null,null,null,sf,rf)),ur(1,114688,null,0,lf,[Dg,Zh,xg,jg,Vo],null,null)],(function(e,n){e(n,1,0)}),null)}var uf=Vl("app-iam-login",lf,of,{},{},[]);class af{constructor(e,n,t){this.loginService=e,this.router=n,this.settingsService=t,this.orgas=[]}ngOnInit(){this.settingsService.setTitle("Organisationsauswahl"),this.initMembers()}initMembers(){this.token=this.loginService.getTempToken(),this.token.availableOrgas.forEach(e=>this.orgas.push(e))}selectOrga(e){this.loginService.loginWithOrganization(this.orgas[e].id),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())}cancelLogin(){this.loginService.logout(),this.settingsService.resetRedirectUri(),this.router.navigateByUrl("")}loginWithAccountOnly(){this.loginService.loginWithAccountOnly(),this.settingsService.showInfoPageAfterLogin()?this.router.navigateByUrl("/iam/registration-successful"):this.router.navigateByUrl(this.settingsService.getRedirectUri())}}var cf=nl({encapsulation:0,styles:[[".btn2[_ngcontent-%COMP%]{margin-top:.5em;width:40em;text-align:left}.additionalButton[_ngcontent-%COMP%]{margin-top:-.5em}.cancelButton[_ngcontent-%COMP%]{margin-top:3em;background-color:#f08080}"]],data:{}});function df(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,2,"div",[["style","display:flex"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"button",[["class","btn btn2"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.selectOrga(e.context.index)&&l),l}),null,null)),(e()(),as(3,null,["Anmelden mit: ","-",""]))],null,(function(e,n){e(n,3,0,n.context.$implicit.id,n.context.$implicit.name)}))}function hf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),as(1,null,["Hallo ",", du bist in mehreren Organisationen Mitglied."])),(e()(),Qi(2,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(-1,null,["W\xe4hle bitte die gew\xfcnschte Organisation aus:"])),(e()(),Qi(4,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,df)),ur(6,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(7,0,null,null,1,"button",[["class","btn btn2 additionalButton"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.loginWithAccountOnly()&&l),l}),null,null)),(e()(),as(-1,null,["Ohne Organisation anmelden"])),(e()(),Qi(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(10,0,null,null,1,"button",[["class","btn cancelButton"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.cancelLogin()&&l),l}),null,null)),(e()(),as(-1,null,["Anmelden abbrechen"]))],(function(e,n){e(n,6,0,n.component.orgas)}),(function(e,n){e(n,1,0,n.component.token.account.name)}))}function gf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-select-orga",[],null,null,null,hf,cf)),ur(1,114688,null,0,af,[Dg,Zh,xg],null,null)],(function(e,n){e(n,1,0)}),null)}var pf=Vl("app-iam-select-orga",af,gf,{},{},[]);class ff{constructor(e,n,t,l,r,i){this.registerService=e,this.router=n,this.eventService=t,this.settingsService=l,this.taskService=r,this.authService=i,this.registrationSuccessful=!0,this.errorFromBackend="",this.registrationViaGoogle=!1}ngOnInit(){this.initMembers(),this.settingsService.setTitle("Registrierung")}initMembers(){this.account={name:"",email:""},this.credential={kennung:"",secret:"",type:Pg.Benutzerkonto},this.registrationSuccessful=!0,this.errorFromBackend="",this.settingsService.registeredAccountMustBeVerifiedByMail()||(this.account.verified=!0),this.registrationViaGoogle=!1}clearForm(){this.initMembers()}startRegistrationWithGoogle(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{e?(console.log("provider: "+e.provider),console.log("id: "+e.id),this.registrationViaGoogle=!0,this.account={name:e.name,email:e.email},this.credential={kennung:"",secret:"",provider:"google",userIdFromProvider:e.id,type:Pg.SocialLogin}):(alert("Registration via Google-Login nicht erfolgreich!"),console.log("not registered with google"))}).catch(e=>alert("SocialRegistration failed: "+e))}finishRegistrationWithGoogle(){const e=this.registerService.register(this.account,this.credential);this._finishRegistration(e)}register(){this.credential.kennung=this.account.email;const e=this.registerService.register(this.account,this.credential);this._finishRegistration(e)}_finishRegistration(e){if(e){if(this.registerService.logout(),this.settingsService.registeredAccountMustBeVerifiedByMail())return this.taskService.addMailTask({type:Vg.AccountVerification,email:e.account.email,account:e.account}),void this.router.navigateByUrl("/iam/registration-successful",{state:{actionDone:"Registration"}});if(this.settingsService.afterRegistrationLoginIsRequired()||(this.registerService.setToken(e),this.taskService.thisFulfillsPendingTask(e)&&this.eventService.publishTokenChangedEvent()),this.settingsService.showInfoPageAfterRegistration())return void this.router.navigateByUrl("/iam/registration-successful",{state:{actionDone:"Registration"}});if(this.settingsService.afterRegistrationLoginIsRequired())return void this.router.navigateByUrl("/iam/login");this.router.navigateByUrl(this.settingsService.getRedirectUri())}else alert("Das Registrieren hat nicht geklappt..."),this.errorFromBackend=this.registrationViaGoogle?"Dieser Google-Account wird schon verwendet.":"Die Email-Adresse muss eindeutig sein.",this.registrationSuccessful=!1}}var mf=nl({encapsulation:0,styles:[[".ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1}button[_ngcontent-%COMP%]{margin-right:15px;margin-top:20px}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function vf(e){return hs(0,[(e()(),Qi(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),as(-1,null,["Passwort"])),(e()(),Qi(3,0,null,null,7,"input",[["class","form-control"],["id","secret"],["name","secret"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,4)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,4).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,4)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,4)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.credential.secret=t)&&l),l}),null,null)),ur(4,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(5,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(8,671744,[["secret",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(10,16384,null,0,op,[[4,ip]],null,null)],(function(e,n){var t=n.component;e(n,5,0,""),e(n,8,0,"secret",t.credential.secret)}),(function(e,n){e(n,3,0,Zl(n,5).required?"":null,Zl(n,10).ngClassUntouched,Zl(n,10).ngClassTouched,Zl(n,10).ngClassPristine,Zl(n,10).ngClassDirty,Zl(n,10).ngClassValid,Zl(n,10).ngClassInvalid,Zl(n,10).ngClassPending)}))}function yf(e){return hs(0,[(e()(),Qi(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"label",[["for","providersUserId"]],null,null,null,null,null)),(e()(),as(-1,null,["User-ID vom Provider"])),(e()(),Qi(3,0,null,null,7,"input",[["class","form-control"],["id","providersUserId"],["name","providersUserId"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,4)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,4).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,4)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,4)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.credential.userIdFromProvider=t)&&l),l}),null,null)),ur(4,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(5,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(8,671744,[["providersUserId",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(10,16384,null,0,op,[[4,ip]],null,null)],(function(e,n){var t=n.component;e(n,5,0,""),e(n,8,0,"providersUserId",!0,t.credential.userIdFromProvider)}),(function(e,n){e(n,3,0,Zl(n,5).required?"":null,Zl(n,10).ngClassUntouched,Zl(n,10).ngClassTouched,Zl(n,10).ngClassPristine,Zl(n,10).ngClassDirty,Zl(n,10).ngClassValid,Zl(n,10).ngClassInvalid,Zl(n,10).ngClassPending)}))}function _f(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.register()&&l),l}),null,null)),(e()(),as(-1,null,["Registrieren"]))],null,(function(e,n){e(n,0,0,!Zl(n.parent,4).valid)}))}function bf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.startRegistrationWithGoogle()&&l),l}),null,null)),(e()(),as(-1,null,["Registrieren mit Google"]))],null,null)}function wf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.finishRegistrationWithGoogle()&&l),l}),null,null)),(e()(),as(-1,null,["Registrieren mit Google abschlie\xdfen"]))],null,null)}function Cf(e){return hs(0,[(e()(),Qi(0,0,null,null,49,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,4).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,4).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.register()&&l),l}),null,null)),ur(3,16384,null,0,Jp,[],null,null),ur(4,4210688,[["registrationForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(6,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(7,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),as(-1,null,["Wie m\xf6chtest du angesprochen werden? (mind. 3 Zeichen)"])),(e()(),Qi(10,0,null,null,9,"input",[["appAutofocus",""],["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,11)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,11).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,11)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,11)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.account.name=t)&&l),l}),null,null)),ur(11,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(12,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(13,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(16,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(18,16384,null,0,op,[[4,ip]],null,null),ur(19,4210688,null,0,tf,[dt],null,null),(e()(),Qi(20,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(21,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),as(-1,null,["Email (Anmeldename)"])),(e()(),Qi(23,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,24)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,24).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,24)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,24)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.account.email=t)&&l),l}),null,null)),ur(24,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(25,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(28,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(30,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,vf)),ur(32,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,yf)),ur(34,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(35,0,null,null,2,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(36,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(37,null,["Fehlermeldung vom Server: ",""])),(e()(),Qi(38,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.clearForm()&&l),l}),null,null)),(e()(),as(-1,null,["Zur\xfccksetzen"])),(e()(),Zi(16777216,null,null,1,null,_f)),ur(41,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,bf)),ur(43,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,wf)),ur(45,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(46,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(47,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,48).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(48,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,[" Du bist bereits registriert? "]))],(function(e,n){var t=n.component;e(n,12,0,""),e(n,13,0,"3"),e(n,16,0,"name",t.account.name),e(n,25,0,""),e(n,28,0,"email",t.account.email),e(n,32,0,!t.registrationViaGoogle),e(n,34,0,t.registrationViaGoogle),e(n,41,0,!t.registrationViaGoogle),e(n,43,0,!t.registrationViaGoogle),e(n,45,0,t.registrationViaGoogle),e(n,48,0,"/iam/login")}),(function(e,n){var t=n.component;e(n,2,0,Zl(n,6).ngClassUntouched,Zl(n,6).ngClassTouched,Zl(n,6).ngClassPristine,Zl(n,6).ngClassDirty,Zl(n,6).ngClassValid,Zl(n,6).ngClassInvalid,Zl(n,6).ngClassPending),e(n,10,0,Zl(n,12).required?"":null,Zl(n,13).minlength?Zl(n,13).minlength:null,Zl(n,18).ngClassUntouched,Zl(n,18).ngClassTouched,Zl(n,18).ngClassPristine,Zl(n,18).ngClassDirty,Zl(n,18).ngClassValid,Zl(n,18).ngClassInvalid,Zl(n,18).ngClassPending),e(n,23,0,Zl(n,25).required?"":null,Zl(n,30).ngClassUntouched,Zl(n,30).ngClassTouched,Zl(n,30).ngClassPristine,Zl(n,30).ngClassDirty,Zl(n,30).ngClassValid,Zl(n,30).ngClassInvalid,Zl(n,30).ngClassPending),e(n,35,0,t.registrationSuccessful),e(n,37,0,t.errorFromBackend),e(n,47,0,Zl(n,48).target,Zl(n,48).href)}))}function If(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-register",[],null,null,null,Cf,mf)),ur(1,114688,null,0,ff,[Dg,Zh,Ng,xg,jg,Vo],null,null)],(function(e,n){e(n,1,0)}),null)}var Sf=Vl("app-iam-register",ff,If,{},{},[]);class Of{constructor(e,n){this.tokenService=e,this.settingsService=n,this.usersDisplayname="",this.action="angemeldet",this.credentialType="",this.authLevel="",this.redirectUri="",this.alreadyLoggedIn=!1,this.showVerificationNeeded=!1,this.showLinkToLoginPage=!1}ngOnInit(){this.alreadyLoggedIn=this.tokenService.isLoggedIn;const{actionDone:e}=window.history.state;e&&e.toLowerCase().includes("regist")&&(this.action="registriert",this.settingsService.setTitle("Erfolgreich registriert..."),this.showVerificationNeeded=this.settingsService.registeredAccountMustBeVerifiedByMail()),this.redirectUri=this.settingsService.getRedirectUri(),this.alreadyLoggedIn?(this.usersDisplayname=this.tokenService.getUsersDisplayName(),this.credential=this.tokenService.getCredential(),this.credentialType=Pg[this.credential.type],this.authLevel=this.tokenService.getAuthLevelAsString(),this.settingsService.setTitle("Erfolgreich angemeldet...")):this.showVerificationNeeded?this.redirectUri="":this.redirectUri||(this.showLinkToLoginPage=!0)}}var kf=nl({encapsulation:0,styles:[[""]],data:{}});function xf(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Um die Registrierung abzuschlie\xdfen, must du deine Email-Adresse noch verifizieren."])),(e()(),Qi(3,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(4,0,null,null,3,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(5,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),ss(6,1),(e()(),as(-1,null,[" Alle notwendigen Informationen dazu finden sich in der Email."]))],(function(e,n){var t=e(n,6,0,"/fakes/mail-view");e(n,5,0,t)}),(function(e,n){e(n,4,0,Zl(n,5).target,Zl(n,5).href)}))}function Af(e){return hs(0,[(e()(),Qi(0,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["mit folgender Kennung: "])),(e()(),Qi(4,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),as(5,null,["",""])),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["diesem Medien-Typ: "])),(e()(),Qi(8,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),as(9,null,["",""])),(e()(),Qi(10,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["dein Authentifizierungslevel ist somit: "])),(e()(),Qi(12,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),as(13,null,["",""])),(e()(),Qi(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(15,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Du kannst nun auch entsprechend gesch\xfctzte Seiten aufrufen..."]))],null,(function(e,n){var t=n.component;e(n,5,0,t.credential.kennung),e(n,9,0,t.credentialType),e(n,13,0,t.authLevel)}))}function Tf(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,2,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,["Weiter zum eigentlichen Ziel (redirect)"]))],(function(e,n){e(n,2,0,n.component.redirectUri)}),(function(e,n){e(n,1,0,Zl(n,2).target,Zl(n,2).href)}))}function Pf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"a",[["style","font-size: larger; "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(2,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),ss(3,1),(e()(),as(-1,null,["Direkt zum Login..."]))],(function(e,n){var t=e(n,3,0,"/iam/login");e(n,2,0,t)}),(function(e,n){e(n,1,0,Zl(n,2).target,Zl(n,2).href)}))}function Ef(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),as(1,null,["Hallo ",""])),(e()(),Qi(2,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),as(-1,null,["Herzlich willkommen im unserem \xd6kosystem."])),(e()(),Qi(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(6,null,["Du hast dich erfolgreich ","."])),(e()(),Zi(16777216,null,null,1,null,xf)),ur(8,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Af)),ur(10,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Tf)),ur(12,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Pf)),ur(14,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,8,0,t.showVerificationNeeded),e(n,10,0,t.alreadyLoggedIn),e(n,12,0,t.redirectUri),e(n,14,0,t.showLinkToLoginPage)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayname),e(n,6,0,t.action)}))}function Rf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-successful-registration",[],null,null,null,Ef,kf)),ur(1,114688,null,0,Of,[Dg,xg],null,null)],(function(e,n){e(n,1,0)}),null)}var Mf=Vl("app-iam-successful-registration",Of,Rf,{},{},[]);class Nf{constructor(e,n){this.settingsService=e,this.router=n,this.requirements=[],this.redirectUri=""}ngOnInit(){this.settingsService.setTitle("Seite gesch\xfctzt..."),this.redirectUri=this.settingsService.getRedirectUri(),this.requirements=this.settingsService.getRequiredByGuardHelptext(!0).split("-")}}var Uf=nl({encapsulation:0,styles:[["ol.bullet[_ngcontent-%COMP%]{list-style-type:circle;margin-bottom:2em}"]],data:{}});function Df(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(1,null,[" "," "]))],null,(function(e,n){e(n,1,0,n.context.$implicit)}))}function Ff(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),as(-1,null,["Die Seite, die du aufgerufen hast, ist gesch\xfctzt."])),(e()(),Qi(2,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Folgende Seite hast du aufgerufen: "])),(e()(),Qi(4,0,null,null,1,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),as(5,null,["",""])),(e()(),Qi(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(-1,null,["Du must folgende Bedingung(en) erf\xfcllen, um die Seite aufzurufen:"])),(e()(),Qi(8,0,null,null,4,"ol",[["class","bullet"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["du must angemeldet sein"])),(e()(),Zi(16777216,null,null,1,null,Df)),ur(12,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(13,0,null,null,2,"a",[["routerLink","/iam/login"],["style","font-size: larger;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,14).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(14,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,[" Weiter zum Login...\n"]))],(function(e,n){e(n,12,0,n.component.requirements),e(n,14,0,"/iam/login")}),(function(e,n){e(n,5,0,n.component.redirectUri),e(n,13,0,Zl(n,14).target,Zl(n,14).href)}))}function Vf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-guard-fail",[],null,null,null,Ff,Uf)),ur(1,114688,null,0,Nf,[xg,Zh],null,null)],(function(e,n){e(n,1,0)}),null)}var Lf=Vl("app-iam-guard-fail",Nf,Vf,{},{},[]);class zf{constructor(e,n,t,l,r){this.accountService=e,this.tokenService=n,this.eventService=t,this.settingsService=l,this.router=r,this.deleteAccountAllowed=!1}ngOnInit(){this.settingsService.setTitle("Account-Verwaltung"),this.principal=this.tokenService.getAccount(),this.initMembers()}initMembers(){this.account=Object.assign({},this.principal),this.deleteAccountAllowed=!this.tokenService.userHasOrgaMembership()||this.settingsService.allowDeletionOfAccountWithOrgaMemberships()}resetForm(){this.initMembers()}submitForm(){this.accountService.updateAccount(this.account)?(this.eventService.publishTokenChangedEvent(),alert("\xc4nderungen wurden \xfcbernommen...")):alert("\xc4nderungen konnten nicht \xfcbernommen werden ???")}deleteAccount(){confirm("Willst du wirklich deinen Account l\xf6schen?")&&this.accountService.deleteAccount(this.principal.id)&&(this.tokenService.logout(),this.router.navigateByUrl("/"))}}var Bf=nl({encapsulation:0,styles:[[".ng-valid.ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}hr[_ngcontent-%COMP%]{height:3px;background:teal;margin-top:2em;margin-bottom:1em}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.myButton[_ngcontent-%COMP%]{margin-right:1em}"]],data:{}});function jf(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Du kannst deinen Account derzeit noch nicht l\xf6schen, da du noch in mind. einer Organisation Mitglied bist."])),(e()(),Qi(3,0,null,null,2,"a",[["routerLink","/iam/organization-management"],["style","font-size: larger;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(4,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,[" Weiter zur Verwaltung deiner Mitgliedschaften... "]))],(function(e,n){e(n,4,0,"/iam/organization-management")}),(function(e,n){e(n,3,0,Zl(n,4).target,Zl(n,4).href)}))}function $f(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"button",[["class","btn btn-default btnDelete"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.deleteAccount()&&l),l}),null,null)),(e()(),as(-1,null,["Account l\xf6schen"]))],null,null)}function Hf(e){return hs(0,[(e()(),Qi(0,0,null,null,35,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Hier kannst du deine Accountdaten \xe4ndern:"])),(e()(),Qi(3,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,5).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,5).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.submitForm()&&l),l}),null,null)),ur(4,16384,null,0,Jp,[],null,null),ur(5,4210688,[["changeAccountForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(7,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(8,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),as(-1,null,["Name (muss mind. 3 Zeichen haben)"])),(e()(),Qi(11,0,null,null,9,"input",[["appAutofocus",""],["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,12)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,12).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,12)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,12)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.account.name=t)&&l),l}),null,null)),ur(12,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(13,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(14,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(17,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(19,16384,null,0,op,[[4,ip]],null,null),ur(20,4210688,null,0,tf,[dt],null,null),(e()(),Qi(21,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Qi(22,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),as(-1,null,["Email (Pflichtfeld, eindeutig)"])),(e()(),Qi(24,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,25)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,25).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,25)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,25)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.account.email=t)&&l),l}),null,null)),ur(25,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(26,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(29,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(31,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(32,0,null,null,1,"button",[["class","btn myButton"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.resetForm()&&l),l}),null,null)),(e()(),as(-1,null,["\xc4nderungen verwerfen"])),(e()(),Qi(34,0,null,null,1,"button",[["class","btn myButton"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["\xc4nderungen \xfcbernehmen"])),(e()(),Qi(36,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Qi(37,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(38,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Hier kannst du deinen Account l\xf6schen."])),(e()(),Zi(16777216,null,null,1,null,jf)),ur(41,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,$f)),ur(43,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,13,0,""),e(n,14,0,"3"),e(n,17,0,"name",t.account.name),e(n,26,0,""),e(n,29,0,"email",t.account.email),e(n,41,0,!t.deleteAccountAllowed),e(n,43,0,t.deleteAccountAllowed)}),(function(e,n){e(n,3,0,Zl(n,7).ngClassUntouched,Zl(n,7).ngClassTouched,Zl(n,7).ngClassPristine,Zl(n,7).ngClassDirty,Zl(n,7).ngClassValid,Zl(n,7).ngClassInvalid,Zl(n,7).ngClassPending),e(n,11,0,Zl(n,13).required?"":null,Zl(n,14).minlength?Zl(n,14).minlength:null,Zl(n,19).ngClassUntouched,Zl(n,19).ngClassTouched,Zl(n,19).ngClassPristine,Zl(n,19).ngClassDirty,Zl(n,19).ngClassValid,Zl(n,19).ngClassInvalid,Zl(n,19).ngClassPending),e(n,24,0,Zl(n,26).required?"":null,Zl(n,31).ngClassUntouched,Zl(n,31).ngClassTouched,Zl(n,31).ngClassPristine,Zl(n,31).ngClassDirty,Zl(n,31).ngClassValid,Zl(n,31).ngClassInvalid,Zl(n,31).ngClassPending),e(n,34,0,!Zl(n,5).valid)}))}function qf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-account-mgmt",[],null,null,null,Hf,Bf)),ur(1,114688,null,0,zf,[Lg,Dg,Ng,xg,Zh],null,null)],(function(e,n){e(n,1,0)}),null)}var Gf=Vl("app-iam-account-mgmt",zf,qf,{},{},[]);class Kf{constructor(e,n,t,l){this.settingsService=e,this.tokenService=n,this.credentialService=t,this.orgaService=l,this.usersDisplayName="",this.loggedInAs="",this.authLevel="",this.credentials=[],this.orgaAndUserList=[]}ngOnInit(){this.settingsService.setTitle("User-Infos"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getAccount(),this._initMembers()}_initMembers(){this.credentials=this.credentialService.getAllCredentialsForUser(this.principal.id),this._setLoggedInInfo(),this._setOrgasMemberships()}_setLoggedInInfo(){let e=this.tokenService.getOrgaUser();e&&e.id?this.loggedInAs="Organisations-Identit\xe4t <"+e.name+"> in der Organisation: <"+this.tokenService.getOrgaName()+">":(e=this.tokenService.getAccount(),this.loggedInAs="Account-Identit\xe4t <"+e.name+">"),this.authLevel=this.tokenService.getAuthLevelAsString()}_setOrgasMemberships(){const e=this.tokenService.getToken();e.availableOrgas&&e.availableOrgas.forEach(e=>{this.orgaAndUserList.push({orga:e,user:this.orgaService.findOrgaUserByAccountId(e.id,this.principal.id)})})}getCredentialTypeAsString(e){return Pg[this.credentials[e].type]}getCredentialDescription(e){const n=this.credentials[e];let t="Kennung: <"+n.kennung+">";return n.type>9&&n.orgaId&&(t+=" ("+n.orgaId+")"),n.type===Pg.SocialLogin&&(t=n.provider+"-ID: "+n.userIdFromProvider),t+", Auth-Level: <"+Ag[this.tokenService.determineAuthLevel(n)]+">"}}let Wf=(()=>{class e{constructor(e){this.fakeBackend=e}getAllCredentialsForUser(e){return this.fakeBackend.getAllCredentials(e)}removeCredential(e){this.fakeBackend.removeCredential(e)}addNewCredential(e){return this.fakeBackend.addNewCredential(e)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ug))},token:e,providedIn:"root"}),e})();var Zf=nl({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;margin-left:0!important;float:left}.verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:18em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}hr[_ngcontent-%COMP%]{float:left;width:50em;height:3px;background:teal;margin-top:.4em;margin-bottom:.2em}"]],data:{}});function Qf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(4,null,[" "," "]))],null,(function(e,n){var t=n.component;e(n,2,0,t.getCredentialTypeAsString(n.context.index)),e(n,4,0,t.getCredentialDescription(n.context.index))}))}function Jf(e){return hs(0,[(e()(),Qi(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(2,null,[" "," (",") "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(4,null,[" "," (",") "]))],null,(function(e,n){e(n,2,0,n.context.$implicit.orga.name,n.context.$implicit.orga.id),e(n,4,0,n.context.$implicit.user.name,n.context.$implicit.user.id)}))}function Yf(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["In folgenden Organisationen bist du Mitglied, hast also eine Organisations-Identit\xe4t:"])),(e()(),Qi(5,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Jf)),ur(7,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,7,0,n.component.orgaAndUserList)}),null)}function Xf(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",""])),(e()(),Qi(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(3,null,["Du bist angemeldet als ","."])),(e()(),Qi(4,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(5,null,["Dein aktuelles Authentifizierungsniveau ist: <",">."])),(e()(),Qi(6,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Du hast folgende Zugangsmedien:"])),(e()(),Qi(8,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Qf)),ur(10,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Yf)),ur(12,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,10,0,t.credentials),e(n,12,0,t.orgaAndUserList.length>0)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayName),e(n,3,0,t.loggedInAs),e(n,5,0,t.authLevel)}))}function em(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-user-info",[],null,null,null,Xf,Zf)),ur(1,114688,null,0,Kf,[xg,Dg,Wf,zg],null,null)],(function(e,n){e(n,1,0)}),null)}var nm=Vl("app-iam-user-info",Kf,em,{},{},[]);class tm{constructor(e,n,t,l){this.settingsService=e,this.tokenService=n,this.credentialService=t,this.authService=l,this.usersDisplayName="",this.credentials=[]}ngOnInit(){this.settingsService.setTitle("Zugangsmedien-Verwaltung"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getAccount(),this.enumOptions=[{text:"Benutzerkonto",type:Pg.Benutzerkonto},{text:"Benutzerkonto mit Sms-Tan",type:Pg.SmsTan},{text:"SmartCard",type:Pg.SmartCard},{text:"SmartLogin",type:Pg.SmartLogin}],this._initMembers()}_initMembers(){this.credentials=this.credentialService.getAllCredentialsForUser(this.principal.id),this.newCredential={accountId:this.principal.id,type:Pg.Benutzerkonto,kennung:"",secret:""}}getCredentialTypeAsString(e){return Pg[this.credentials[e].type]}getCredentialDescription(e){const n=this.credentials[e];let t="";return n.type>=Pg.StartSpezialTypen&&n.orgaId&&(t=" ("+n.orgaId+")"),n.type===Pg.SocialLogin?n.provider+"-ID: "+n.userIdFromProvider:n.kennung+t}removeCredential(e){this.credentialService.removeCredential(this.credentials[e].id),this._initMembers()}addNewCredential(){this.credentialService.addNewCredential(this.newCredential)?this._initMembers():alert("Das Anlegen des Zugangsmediums hat nicht geklappt...")}linkWithGoogleLogin(){this.authService.signIn(jo.PROVIDER_ID).then(e=>{e?(console.log("provider: "+e.provider),console.log("id: "+e.id),this.newCredential.type=Pg.SocialLogin,this.newCredential.kennung="",this.newCredential.secret="",this.newCredential.provider="google",this.newCredential.userIdFromProvider=e.id,this.addNewCredential()):(alert("Google-Login hat nicht geklappt."),console.log("Google-Login hat nicht geklappt."))}).catch(e=>alert("Google-Login hat nicht geklappt: "+e))}}var lm=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:13em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:25em;text-align:left}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}hr[_ngcontent-%COMP%]{height:3px;background:teal;margin-top:0;margin-bottom:0}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]:disabled, .btnDelete[_ngcontent-%COMP%]:disabled:hover{background-color:#d3d3d3!important}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.row[_ngcontent-%COMP%]{margin-bottom:0!important}.btn-google[_ngcontent-%COMP%]{margin-left:3em;background-color:#6495ed}"]],data:{}});function rm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btnDelete"],["style","position: absolute; right: 0.7em;"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.removeCredential(e.parent.context.index)&&l),l}),null,null)),(e()(),as(-1,null,[" L\xf6schen"]))],null,(function(e,n){e(n,0,0,n.parent.context.$implicit.type>9)}))}function im(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(4,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,rm)),ur(6,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){e(n,6,0,1!==n.component.credentials.length)}),(function(e,n){var t=n.component;e(n,2,0,t.getCredentialTypeAsString(n.context.index)),e(n,4,0,t.getCredentialDescription(n.context.index))}))}function sm(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit.type),e(n,2,0,n.context.$implicit.type)}),(function(e,n){e(n,3,0,n.context.$implicit.text)}))}function om(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",", das sind deine Zugangsmedien:"])),(e()(),Qi(2,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,im)),ur(4,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(5,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(6,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(7,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(-1,null,['Hier kannst du neue Zugangsmedien "bestellen".'])),(e()(),Qi(9,0,null,null,43,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,11).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,11).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.addNewCredential()&&l),l}),null,null)),ur(10,16384,null,0,Jp,[],null,null),ur(11,4210688,[["registrationForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(13,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(14,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(15,0,null,null,8,"div",[["class","input-field col s4"]],null,null,null,null,null)),(e()(),Qi(16,0,null,null,7,"select",[["class","browser-default"],["name","credTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,17).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,17).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.newCredential.type=t)&&l),l}),null,null)),ur(17,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(19,671744,[["credTyp",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(21,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,sm)),ur(23,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(24,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,1,"label",[["for","kennung"]],null,null,null,null,null)),(e()(),as(-1,null,["Kennung (Mussfeld, darf noch nicht existieren)"])),(e()(),Qi(28,0,null,null,8,"input",[["appAutofocus",""],["class","form-control"],["id","kennung"],["name","kennung"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,29)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,29).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,29)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,29)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newCredential.kennung=t)&&l),l}),null,null)),ur(29,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(30,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(33,671744,[["kennung",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(35,16384,null,0,op,[[4,ip]],null,null),ur(36,4210688,null,0,tf,[dt],null,null),(e()(),Qi(37,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(38,0,null,null,1,"label",[["for","secret"]],null,null,null,null,null)),(e()(),as(-1,null,["Passwort (Mussfeld)"])),(e()(),Qi(40,0,null,null,7,"input",[["class","form-control"],["id","secret"],["name","secret"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,41)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,41).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,41)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,41)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newCredential.secret=t)&&l),l}),null,null)),ur(41,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(42,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(45,671744,[["secret",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(47,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(48,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(49,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Hinzuf\xfcgen"])),(e()(),Qi(51,0,null,null,1,"button",[["class","btn btn-google"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.linkWithGoogleLogin()&&l),l}),null,null)),(e()(),as(-1,null,["mit Google-Login verkn\xfcpfen"]))],(function(e,n){var t=n.component;e(n,4,0,t.credentials),e(n,19,0,"credTyp",t.newCredential.type),e(n,23,0,t.enumOptions),e(n,30,0,""),e(n,33,0,"kennung",t.newCredential.kennung),e(n,42,0,""),e(n,45,0,"secret",t.newCredential.secret)}),(function(e,n){e(n,1,0,n.component.usersDisplayName),e(n,9,0,Zl(n,13).ngClassUntouched,Zl(n,13).ngClassTouched,Zl(n,13).ngClassPristine,Zl(n,13).ngClassDirty,Zl(n,13).ngClassValid,Zl(n,13).ngClassInvalid,Zl(n,13).ngClassPending),e(n,16,0,Zl(n,21).ngClassUntouched,Zl(n,21).ngClassTouched,Zl(n,21).ngClassPristine,Zl(n,21).ngClassDirty,Zl(n,21).ngClassValid,Zl(n,21).ngClassInvalid,Zl(n,21).ngClassPending),e(n,28,0,Zl(n,30).required?"":null,Zl(n,35).ngClassUntouched,Zl(n,35).ngClassTouched,Zl(n,35).ngClassPristine,Zl(n,35).ngClassDirty,Zl(n,35).ngClassValid,Zl(n,35).ngClassInvalid,Zl(n,35).ngClassPending),e(n,40,0,Zl(n,42).required?"":null,Zl(n,47).ngClassUntouched,Zl(n,47).ngClassTouched,Zl(n,47).ngClassPristine,Zl(n,47).ngClassDirty,Zl(n,47).ngClassValid,Zl(n,47).ngClassInvalid,Zl(n,47).ngClassPending),e(n,49,0,!Zl(n,11).valid)}))}function um(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-creds-mgmt",[],null,null,null,om,lm)),ur(1,114688,null,0,tm,[xg,Dg,Wf,Vo],null,null)],(function(e,n){e(n,1,0)}),null)}var am=Vl("app-iam-creds-mgmt",tm,um,{},{},[]);class cm{constructor(e,n,t){this.settingsService=e,this.tokenService=n,this.organizationService=t,this.usersDisplayName="",this.orgas=[],this.allowJoiningOrgaByAccount=!0,this.searchOrgaId="",this.foundOrgaDisplayname="",this.mShowSearch=!1,this.mShowNewPart=!1}get showSearch(){return this.mShowSearch}set showSearch(e){this.mShowSearch=e,this.mShowSearch&&(this.mShowNewPart=!1)}get showNewPart(){return this.mShowNewPart}set showNewPart(e){this.mShowNewPart=e,this.mShowNewPart&&(this.mShowSearch=!1)}ngOnInit(){this.settingsService.setTitle("Organisations-Verwaltung"),this.principal=this.tokenService.getAccount(),this.allowJoiningOrgaByAccount=this.settingsService.allowJoiningOrganizationByAccount(),this.usersDisplayName=this.principal.name,this.typeOptions=[{text:"Privat",type:Rg.Privat},{text:"Unternehmen",type:Rg.Unternehmen},{text:"Kanzlei",type:Rg.Kanzlei}],this.initMembers()}initMembers(){this.foundOrgaDisplayname="Bitte erst suchen...",this.foundOrganization={name:""},this.newOrganization={name:"",type:Rg.Privat},this.newOrgaUserJoinOrga={accountId:this.principal.id,name:this.principal.name},this.newOrgaUserNewOrga={accountId:this.principal.id,adminType:Mg.SuperAdmin,name:this.principal.name},this.searchOrgaId="",this.orgas=this.organizationService.getAllOrgasForUser(this.principal.id)}getOrganizationTypeAsString(e){return Rg[e]}leaveOrganization(e){const n=this.orgas[e].orga.id,t=this.tokenService.getToken().organization;if(t&&n===t.id){if(!confirm("Du verl\xe4sst die Organisation, in der du angemeldet bist.\nDu wirst damit umgemeldet! Ist das OK?"))return;this.tokenService.logoutFromOrganization(t.id)}this.organizationService.leaveOrganizationByAccountId(this.orgas[e].orga.id,this.principal.id),this.initMembers()}_arrangeFoundDisplayname(){this.foundOrgaDisplayname="Bitte erst suchen...";const e=this.foundOrganization;void 0===e.id?this.foundOrgaDisplayname="Gesuchte Organisation gibt es nicht.":this.organizationService.accountIsAlreadyMemberInOrga(e.id,this.principal.id)?(this.foundOrgaDisplayname="In "+e.name+" bist du schon Mitglied.",this.foundOrganization.id=void 0):this.foundOrgaDisplayname=e.name}searchOrganization(){const e=parseInt(this.searchOrgaId,10);this.foundOrganization=Object.assign({},this.organizationService.findOrgaById(e)),this._arrangeFoundDisplayname()}joinFoundOrganization(){this.foundOrganization.id&&this.organizationService.joinOrganization(this.foundOrganization.id,this.newOrgaUserJoinOrga)&&this.initMembers()}createNewOrganization(){this.organizationService.createNewOrganization(this.newOrganization,this.newOrgaUserNewOrga),this.initMembers()}}var dm=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:8em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:25em;text-align:left}.verweise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:right;margin-right:.7em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:2em;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}.toggled-container[_ngcontent-%COMP%]{margin-top:1em}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#000}.row[_ngcontent-%COMP%]{margin-bottom:0!important}"]],data:{}});function hm(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(2,null,[" "," "])),(e()(),Qi(3,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(4,null,[" "," (",") "])),(e()(),Qi(5,0,null,null,2,"div",[["class","buttons-right-div"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,1,"button",[["class","btnInListe "]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.leaveOrganization(e.context.index)&&l),l}),null,null)),(e()(),as(-1,null,[" Organisation verlassen"]))],null,(function(e,n){e(n,2,0,n.component.getOrganizationTypeAsString(n.context.$implicit.orga.type)),e(n,4,0,n.context.$implicit.orga.name,n.context.$implicit.orgaUser.name)}))}function gm(e){return hs(0,[(e()(),Qi(0,0,null,null,52,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,9,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,8,"label",[["for","toggle-suche"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,5,"input",[["id","toggle-suche"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,4).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.showSearch=t)&&l),l}),null,null)),ur(4,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(6,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(8,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(10,null,["",""])),(e()(),Qi(11,0,null,null,41,"div",[["class","col s12"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(12,0,null,null,10,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(13,0,null,null,6,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(14,0,null,null,5,"input",[["placeholder","hier Organisations-ID eingeben..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,15)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,15).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,15)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,15)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.searchOrgaId=t)&&l),"keydown.enter"===n&&(l=!1!==r.searchOrganization()&&l),l}),null,null)),ur(15,16384,null,0,np,[mt,dt,[2,ep]],null,null),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(17,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(19,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(20,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(21,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.searchOrganization()&&l),l}),null,null)),(e()(),as(-1,null,[" Suche Organisation "])),(e()(),Qi(23,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(24,0,null,null,4,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,1,"span",[["class","list-item-text-left"],["style","font-weight: bold; "]],null,null,null,null,null)),(e()(),as(26,null,["",""])),(e()(),Qi(27,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(28,null,["",""])),(e()(),Qi(29,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(30,0,null,null,22,"form",[["class","row valign-wrapper"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,32).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,32).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.joinFoundOrganization()&&l),l}),null,null)),ur(31,16384,null,0,Jp,[],null,null),ur(32,4210688,[["newOrgaUserForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(34,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(35,0,null,null,14,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,4,"label",[["for","userName1"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(38,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(39,{active:0}),(e()(),as(-1,null,["Dein Mitarbeitername in der Organisation"])),(e()(),Qi(41,0,null,null,8,"input",[["class","form-control"],["id","userName1"],["minlength","3"],["name","userName1"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,42)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,42).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,42)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,42)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newOrgaUserJoinOrga.name=t)&&l),l}),null,null)),ur(42,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(43,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(44,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(47,671744,[["userName1",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(49,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(50,0,null,null,2,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(51,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Organisation beitreten"]))],(function(e,n){var t=n.component;e(n,6,0,t.showSearch),e(n,17,0,t.searchOrgaId);var l=e(n,39,0,t.newOrgaUserJoinOrga.name);e(n,38,0,l),e(n,43,0,""),e(n,44,0,"3"),e(n,47,0,"userName1",t.newOrgaUserJoinOrga.name)}),(function(e,n){var t=n.component;e(n,3,0,Zl(n,8).ngClassUntouched,Zl(n,8).ngClassTouched,Zl(n,8).ngClassPristine,Zl(n,8).ngClassDirty,Zl(n,8).ngClassValid,Zl(n,8).ngClassInvalid,Zl(n,8).ngClassPending),e(n,10,0,t.showSearch?"<Einer bestehenden Organisation beitreten> ausblenden":"<Einer bestehenden Organisation beitreten> einblenden"),e(n,11,0,!t.showSearch),e(n,14,0,Zl(n,19).ngClassUntouched,Zl(n,19).ngClassTouched,Zl(n,19).ngClassPristine,Zl(n,19).ngClassDirty,Zl(n,19).ngClassValid,Zl(n,19).ngClassInvalid,Zl(n,19).ngClassPending),e(n,26,0,t.getOrganizationTypeAsString(t.foundOrganization.type)),e(n,28,0,t.foundOrgaDisplayname),e(n,30,0,Zl(n,34).ngClassUntouched,Zl(n,34).ngClassTouched,Zl(n,34).ngClassPristine,Zl(n,34).ngClassDirty,Zl(n,34).ngClassValid,Zl(n,34).ngClassInvalid,Zl(n,34).ngClassPending),e(n,41,0,Zl(n,43).required?"":null,Zl(n,44).minlength?Zl(n,44).minlength:null,Zl(n,49).ngClassUntouched,Zl(n,49).ngClassTouched,Zl(n,49).ngClassPristine,Zl(n,49).ngClassDirty,Zl(n,49).ngClassValid,Zl(n,49).ngClassInvalid,Zl(n,49).ngClassPending),e(n,51,0,void 0===t.foundOrganization.id||!Zl(n,32).valid)}))}function pm(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit.type),e(n,2,0,n.context.$implicit.type)}),(function(e,n){e(n,3,0,n.context.$implicit.text)}))}function fm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",", in diesen Organisationen bist du Mitglied:"])),(e()(),Qi(2,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,hm)),ur(4,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,gm)),ur(6,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(7,0,null,null,54,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(9,0,null,null,8,"label",[["for","toggle-new"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,5,"input",[["id","toggle-new"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,11).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,11).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.showNewPart=t)&&l),l}),null,null)),ur(11,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(13,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(15,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(17,null,["",""])),(e()(),Qi(18,0,null,null,43,"div",[["class","row toggled-container"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(19,0,null,null,42,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,21).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,21).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.createNewOrganization()&&l),l}),null,null)),ur(20,16384,null,0,Jp,[],null,null),ur(21,4210688,[["newOrgaForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(23,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(24,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,8,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,7,"select",[["class","browser-default"],["name","orgaTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,27).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,27).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.newOrganization.type=t)&&l),l}),null,null)),ur(27,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(29,671744,[["orgaTyp",4]],0,Qp,[[2,lp],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(31,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,pm)),ur(33,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(34,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(35,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,1,"label",[["for","orgaName"]],null,null,null,null,null)),(e()(),as(-1,null,["Name der Organisation"])),(e()(),Qi(38,0,null,null,7,"input",[["class","form-control"],["id","orgaName"],["name","orgaName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,39)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,39).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,39)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,39)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newOrganization.name=t)&&l),l}),null,null)),ur(39,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(40,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(43,671744,[["orgaName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(45,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(46,0,null,null,13,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(47,0,null,null,4,"label",[["for","userName"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(49,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(50,{active:0}),(e()(),as(-1,null,["Dein Mitarbeitername in der Organisation"])),(e()(),Qi(52,0,null,null,7,"input",[["class","form-control"],["id","userName"],["name","userName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,53)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,53).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,53)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newOrgaUserNewOrga.name=t)&&l),l}),null,null)),ur(53,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(54,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(57,671744,[["userName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(59,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(60,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Organisation anlegen"]))],(function(e,n){var t=n.component;e(n,4,0,t.orgas),e(n,6,0,!0===t.allowJoiningOrgaByAccount),e(n,13,0,t.showNewPart),e(n,29,0,"orgaTyp",t.newOrganization.type),e(n,33,0,t.typeOptions),e(n,40,0,""),e(n,43,0,"orgaName",t.newOrganization.name);var l=e(n,50,0,t.newOrgaUserNewOrga.name);e(n,49,0,l),e(n,54,0,""),e(n,57,0,"userName",t.newOrgaUserNewOrga.name)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayName),e(n,10,0,Zl(n,15).ngClassUntouched,Zl(n,15).ngClassTouched,Zl(n,15).ngClassPristine,Zl(n,15).ngClassDirty,Zl(n,15).ngClassValid,Zl(n,15).ngClassInvalid,Zl(n,15).ngClassPending),e(n,17,0,t.showNewPart?"<Eine neue Organisation anlegen> ausblenden":"<Eine neue Organisation anlegen> einblenden"),e(n,18,0,!t.showNewPart),e(n,19,0,Zl(n,23).ngClassUntouched,Zl(n,23).ngClassTouched,Zl(n,23).ngClassPristine,Zl(n,23).ngClassDirty,Zl(n,23).ngClassValid,Zl(n,23).ngClassInvalid,Zl(n,23).ngClassPending),e(n,26,0,Zl(n,31).ngClassUntouched,Zl(n,31).ngClassTouched,Zl(n,31).ngClassPristine,Zl(n,31).ngClassDirty,Zl(n,31).ngClassValid,Zl(n,31).ngClassInvalid,Zl(n,31).ngClassPending),e(n,38,0,Zl(n,40).required?"":null,Zl(n,45).ngClassUntouched,Zl(n,45).ngClassTouched,Zl(n,45).ngClassPristine,Zl(n,45).ngClassDirty,Zl(n,45).ngClassValid,Zl(n,45).ngClassInvalid,Zl(n,45).ngClassPending),e(n,52,0,Zl(n,54).required?"":null,Zl(n,59).ngClassUntouched,Zl(n,59).ngClassTouched,Zl(n,59).ngClassPristine,Zl(n,59).ngClassDirty,Zl(n,59).ngClassValid,Zl(n,59).ngClassInvalid,Zl(n,59).ngClassPending),e(n,60,0,!Zl(n,21).valid)}))}function mm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-orga-mgmt",[],null,null,null,fm,dm)),ur(1,114688,null,0,cm,[xg,Dg,zg],null,null)],(function(e,n){e(n,1,0)}),null)}var vm=Vl("app-iam-orga-mgmt",cm,mm,{},{},[]);class ym{constructor(e,n,t,l,r,i,s,o,u,a){this.settingsService=e,this.tokenService=n,this.accountService=t,this.orgaService=l,this.mailService=r,this.notificationService=i,this.organizationService=s,this.accessService=o,this.eventService=u,this.router=a,this.users=[],this.usersDisplayName="",this.mShowInviteUser=!1,this.mShowInviteForeign=!0,this.nothingFound=!0,this.searchResult2Display="",this.newForeignProxyUser={}}get showInviteUser(){return this.mShowInviteUser}set showInviteUser(e){this.mShowInviteUser=e,this.mShowInviteUser&&(this.mShowInviteForeign=!1,this.cancelEditMode())}get showInviteForeign(){return this.mShowInviteForeign}set showInviteForeign(e){this.mShowInviteForeign=e,this.mShowInviteForeign&&(this.mShowInviteUser=!1,this.cancelEditMode())}ngOnInit(){this.settingsService.setTitle("Organisations-Administration"),this.principal=this.tokenService.getOrgaUser(),this.usersDisplayName=this.principal.name,this.organization=this.orgaService.findOrgaById(this.principal.orgaId),this.enumOptions=[{text:"Kein Administrator",type:Mg.MemberOnly},{text:"Administrator",type:Mg.Admin},{text:"Haupt-Administrator",type:Mg.SuperAdmin}],this.initMembers()}initMembers(){this.users=this.orgaService.getAllOrgaUsers(this.principal.orgaId),this.user2edit={name:""},this.newUser={name:"",email:""},this.searchResult2Display="",this.searchForeignInput="",this.nothingFound=!0,this.newForeignProxyUser={}}enterEditMode(e){this.user2edit=Object.assign({},this.users[e]),this.user2edit.adminType||(this.user2edit.adminType=Mg.MemberOnly),this.mShowInviteUser=!1,this.mShowInviteForeign=!1}cancelEditMode(){this.user2edit={name:""}}persistEditUserChanges(){this.user2edit.name.length<=0||(this.orgaService.updateOrgaUser(this.user2edit),this.initMembers())}getUserIdAndAdminTypeAsString(e){let n="";const t=this.users[e];return t.adminType&&t.adminType>=Mg.Admin&&(n=": "+Mg[t.adminType]),t.id+n}removeUserFromOrga(e){const n=this.users[e];let t=!1;if(this.principal.id===n.id){if(!confirm("Du l\xf6schst dich gerade selbst? \nIst das OK?"))return;t=!0}this.orgaService.leaveOrganizationByOrgaUser(n.id),t?(this.tokenService.logoutFromOrganization(this.organization.id),this.router.navigateByUrl("/")):this.initMembers()}deleteOrganisation(){confirm("Willst du wirklich die gesamte Organsation \n- mit allen Anwendern, Ressourcen und Rechten l\xf6schen?")&&(this.orgaService.deleteOrganization(this.organization.id),this.tokenService.logoutFromOrganization(this.organization.id),this.router.navigateByUrl("/"))}inviteUser(){let e={name:this.newUser.name,orgaId:this.organization.id};e=this.orgaService.joinOrganization(this.organization.id,e);const n=this.accountService.findAccountByMail(this.newUser.email);let t,l=Vg.InvitationOrgaUser;n&&(this.notificationService.addNotification({type:Fg.InvitationOrgaUser,accountAsRecipient:n,orgaUser:e}),l=Vg.InfoOfInvitationOrgaUser,t=n),this.mailService.addMailTask({type:l,email:this.newUser.email,account:t,orgaUser:e}),this.initMembers()}isForeign(e){return!(!e.foreignOrgaId&&!e.foreignUserId)}inviteForeign(){if(this.newForeignProxyUser.foreignOrganization||this.newForeignProxyUser.foreignUser){let e={name:this.newForeignProxyUser.newName,orgaId:this.organization.id};this.newForeignProxyUser.foreignOrganization?e.foreignOrgaId=this.newForeignProxyUser.foreignOrganization.id:e.foreignUserId=this.newForeignProxyUser.foreignUser.id,e=this.orgaService.joinOrganization(this.organization.id,e)}this.initMembers()}getOrganizationTypeAsString(e){return Rg[e]}_arrangeDisplaynameForFoundOrga(e){e&&e.id&&(this.principal.orgaId===e.id?this.searchResult2Display="Das ist deine eigene Organisation!":this.organizationService.foreignOrgaIsAlreadyMemberInOrga(this.organization.id,e.id)?this.searchResult2Display=e.name+" hast du schon eingeladen.":(this.nothingFound=!1,this.searchResult2Display=e.name+" (Typ: "+this.getOrganizationTypeAsString(e.type)+")",this.newForeignProxyUser.foreignOrganization=e,this.newForeignProxyUser.newName="Orga - <"+e.name+">"))}_arrangeDisplaynameForFoundOrgaUser(e){e&&(this.principal.orgaId===e.orgaId?this.searchResult2Display="Der Benutzer ist direktes Mitglied deiner Organisation!":this.organizationService.foreignUserIsAlreadyMemberInOrga(this.organization.id,e.id)?this.searchResult2Display=e.name+" hast du schon eingeladen.":(this.nothingFound=!1,this.searchResult2Display=e.name+" (Typ: Anwender)",this.newForeignProxyUser.foreignUser=e,this.newForeignProxyUser.newName="User - <"+e.name+">"))}search4ForeignUserOrOrga(){this.newForeignProxyUser={},this.nothingFound=!0;const e=parseInt(this.searchForeignInput,10),n=this.organizationService.findOrgaById(e);if(n)this._arrangeDisplaynameForFoundOrga(n);else{const n=this.organizationService.findOrgaUserByOrgaUserId(e);n?this._arrangeDisplaynameForFoundOrgaUser(n):this.searchResult2Display="Weder Organisation noch User mit dieser ID gefunden."}}}var _m=function(e){return e.FolderReadPermissionKey="lesen",e.FolderWritePermissionKey="schreiben",e.FolderDeletePermissionKey="l\xf6schen",e.FolderCreatePermissionKey="neuen Ordner anlegen",e.FibuBookPermissionKey="buchen",e.FibuEvaluatePermissionKey="auswerten",e}({}),bm=function(e){return e[e.FolderRoot=1]="FolderRoot",e[e.Folder=2]="Folder",e[e.Fibu=3]="Fibu",e}({});let wm=(()=>{class e{constructor(e,n,t){this.tokenService=e,this.orgaService=n,this.eventService=t,this.isActive=!0,this.resourceTypes=[],this.resources=[],this.accessRights=[],this._setTestResourceTypes(),this._setTestResources(),this._setTestPermissions(),this.eventService.idmEvent.pipe(Go(()=>this.isActive)).subscribe(e=>this._onIdmEvent(e))}ngOnDestroy(){this.isActive=!1}_onIdmEvent(e){switch(e.type){case Eg.OrganisationCreated:this._onOrganizationCreation(e.organizationId);break;case Eg.OrganisationRemoved:this._onOrganizationRemoval(e.organizationId);break;case Eg.OrgaUserRemoved:this._onOrgaUserRemoval(e.orgaUser)}}getAllResourceTypes(){return this.resourceTypes}hasPermission(e,n,t){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===n.typeId&&l.resourceId===n.id&&l.permission===t)}hasPermission4staticResource(e,n,t){this._assertStaticResource(n);const l=this._findStaticResourceByTypeAndOrgaId(n);return!!l&&!!this.accessRights.find(r=>r.userId===e.id&&r.resourceType===n.typeId&&r.resourceId===l.id&&r.permission===t)}hasAdministratedPermission(e,n,t){return this.isForeignResource(e)?this._permissionAdministrable(n.id,e,t):this.isForeignUser(n)?this._getPermissions4foreignUser4administrationView(n.foreignUserId,e,t):this.hasPermission(n.id,e,t)}getAllResources4UserWithAtLeastOneOfGivenPermissions(e,n,t){if(!t)return[];const l=this.accessRights.filter(l=>l.userId===e&&l.resourceType===n&&t.includes(l.permission)).map(e=>e.resourceId);return l.filter((e,n)=>l.indexOf(e)===n)}getAllResources4UserWithAllOfGivenPermissions(e,n,t){if(!t)return[];const l=this.accessRights.filter(t=>t.userId===e&&t.resourceType===n),r=[];return l.forEach(e=>{let n=!0;for(const r in t)if(!l.find(n=>n.resourceId===e.resourceId&&n.permission===t[r])){n=!1;break}n&&r.push(e.resourceId)}),r.filter((e,n)=>r.indexOf(e)===n)}getAllResources4UserWithAtLeastOnePermission(e,n){const t=this.accessRights.filter(t=>t.userId===e&&t.resourceType===n).map(e=>e.resourceId);return t.filter((e,n)=>t.indexOf(e)===n)}getAllResourceIdsOwnedByOrDelegatedToOrga(e,n){const t=this.resources.filter(t=>t.typeId===e&&t.orgaId===n).map(e=>e.id);let l=this.accessRights.filter(t=>t.resourceType===e&&t.proxyResourceOrgaId===n).map(e=>e.resourceId);return l=l.filter((e,n)=>l.indexOf(e)===n),t.push(...l),t}_getAllDelegatedResources4Orga(e,n){const t=[];let l=this.accessRights.filter(t=>t.resourceType===e&&t.proxyResourceOrgaId===n).map(e=>e.resourceId);return(l=l.filter((e,n)=>l.indexOf(e)===n)).forEach(n=>{const l=this._findResource({id:n,typeId:e});t.push(l)}),t}_findFakeDelegatedResource4Orga(e,n){let t=this.accessRights.filter(t=>t.resourceType===e.typeId&&t.resourceId===e.id&&t.proxyResourceOrgaId===n).map(e=>e.resourceId);if((t=t.filter((e,n)=>t.indexOf(e)===n)).length>1)throw new Error("Mehr als eine ProxyRessource gefunden ?!!?");if(1===t.length){const t={};return Object.assign(t,e),t.orgaId=n,t}}getAllResourcesOwnedByOrDelegatedToOrga(e,n){const t=this.resources.filter(t=>t.typeId===e&&t.orgaId===n),l=this._getAllDelegatedResources4Orga(e,n);return t.push(...l),t}permissionIsAdministrable(e,n,t){return!!this.isOwnResource(e)||!this.isForeignUserOrOrga(n)&&this._hasDelegatedPermissionToCurrentOrga(e,t)}isForeignUser(e){return!!e.foreignUserId}isForeignOrga(e){return!!e.foreignOrgaId}isForeignUserOrOrga(e){return this.isForeignUser(e)||this.isForeignOrga(e)}isForeignResource(e){return!this.isOwnResource(e)}isForeignResourceOfUser(e,n){return n.orgaId!==e.orgaId}isOwnResource(e,n=this._getPrincipal()){return!!e.orgaId&&e.orgaId===n.orgaId}_assertIsAdminOfCurrentOrga(e){const n=this._getPrincipal();if(n.orgaId!==e)throw new Error("AssertAdmin: principal.orgaId !== orgaId");if(!this.orgaService.isAdmin(n.id))throw new Error("AssertAdmin: principal is not an admin of orga")}_assertIsMemberOfCurrentOrga(e){if(this._getPrincipal().orgaId!==e.orgaId)throw new Error("AssertMember: principal.orgaId !== user.orgaId");if(!this.orgaService.findOrgaUserByOrgaUserId(e.id))throw new Error("AssertMember: user is not member of orga")}_assertIsProxyResourceOfCurrentOrga(e){const n=this._findFakeDelegatedResource4Orga(e,this._getPrincipal().orgaId);if(!n||n.orgaId!==this._getPrincipal().orgaId)throw new Error("AssertResource: weder eigene Ressouce noch ProxyRessouce")}_assertIsResourceOfCurrentOrga(e){if(this._getPrincipal().orgaId!==e.orgaId&&this._assertIsProxyResourceOfCurrentOrga(e),!this._findResource(e))throw new Error("AssertResource: resource does not exist")}setPermissionsOfUser2resource(e,n,t){return this._assertIsAdminOfCurrentOrga(e.orgaId),this._assertIsMemberOfCurrentOrga(e),this._assertIsResourceOfCurrentOrga(n),this.isForeignUser(e)?this._setPermissionsOfUser2resource4directForeignUser(e,n,t):this.isForeignOrga(e)?this._setPermissionsOfUser2resource4ForeignOrga(e,n,t):this.isForeignResourceOfUser(e,n)?this._setPermissionsOfUser2resource4foreignUserDelegated(e,n,t):this._setPermissionsOfUser2resource4ownUser(e,n,t)}setPermissionsOfUser2staticResource(e,n,t){if(this._assertStaticResource(n),this._assertIsAdminOfCurrentOrga(e.orgaId),this._assertIsMemberOfCurrentOrga(e),!this.isOwnResource(n,e))throw new Error("Das geht f\xfcr statische Ressourcen noch nicht");const l=this._findStaticResourceByTypeAndOrgaId(n);return!!l&&(n.id=l.id,this._assertIsResourceOfCurrentOrga(n),this._setPermissionsOfUser2resource4ownUser(e,n,t))}_isStaticResource(e){const n=this._findResourceType(e.typeId);return!(!n||n.dynamic)}_isDynamicResource(e){const n=this._findResourceType(e.typeId);return!(!n||!n.dynamic)}_assertStaticResource(e){if(!this._isStaticResource(e))throw new Error("Resource ist nicht statisch...")}_assertDynamicResource(e){if(!this._isDynamicResource(e))throw new Error("Resource ist nicht dynamisch...")}_assertCreatePermission4resource(e){const n=this._findResourceType(e.typeId),t=this._findStaticResourceByTypeAndOrgaId({id:-1,typeId:n.resourceType4CreatePermission,orgaId:e.orgaId});if(!t)throw new Error("Static Resource not found...");if(!this.hasPermission4staticResource(this._getPrincipal(),t,n.permission4CreatePermission))throw new Error("Principal does not have create-permission for resource")}createNewResource(e){if(this._assertDynamicResource(e),this._assertCreatePermission4resource(e),this._findResource(e))throw new Error("Resource ist schon bekannt...");this.resources.push(e);const n=this._findResourceType(e.typeId);n.defaultPermissionsOnCreate&&n.defaultPermissionsOnCreate.forEach(n=>{this._setAccessRight(this._getPrincipal().id,this._getPrincipal().orgaId,e,n)})}renameResource(e){const n=this._findResource(e);n&&(n.displayName=e.displayName)}_createNewStaticResource(e,n){const t={id:1,typeId:e.typeId,orgaId:n,displayName:e.displayName};this._assertStaticResource(t);const l=this.resources.filter(n=>n.typeId===e.typeId);l&&l.length>0&&(t.id=1+Math.max.apply(Math,l.map(e=>e.id))),this.resources.push(t)}removeResource(e){for(;;){const n=this.accessRights.findIndex(n=>n.resourceType===e.typeId&&n.resourceId===e.id);if(!(n>=0))break;this.accessRights.splice(n,1)}const n=this.resources.findIndex(n=>n.id===e.id);n>=0&&this.resources.splice(n,1)}_onOrganizationRemoval(e){for(;;){const n=this.accessRights.findIndex(n=>n.usersOrgaId===e||n.resourceOwningOrgaId===e);if(!(n>=0))break;this.accessRights.splice(n,1)}}_onOrganizationCreation(e){this.resourceTypes.filter(e=>!e.dynamic).forEach(n=>{this._findStaticResourceByTypeAndOrgaId({id:-1,typeId:n.typeId,orgaId:e})||this._createNewStaticResource(n,e)})}_onOrgaUserRemoval(e){this.isForeignUser(e)?this._removeAllPersmissionsOfGivenUserFromAllResourcesOwnedByGivenOrgaId(e.foreignUserId,e.orgaId):this.isForeignOrga(e)?(this._removeAllPermissionsOfProxyOrgaIdFromAllResourcesOwnedByGivenOrgaId(e.foreignOrgaId,e.orgaId),this._removeAllUserOfGivenOrgaIdFromAllResourcesOwnedByGivenOrgaId(e.foreignOrgaId,e.orgaId)):this._removeAllPermissionsOfUser(e.id)}_setPermissionsOfUser2resource4ownUser(e,n,t){this._removeAllPermissionsOfUser4resource(e.id,n,void 0),t.forEach(t=>this._setAccessRight(e.id,e.orgaId,n,t,void 0))}_setPermissionsOfUser2resource4directForeignUser(e,n,t){const l=e.foreignUserId,r=this.orgaService.findOrgaUserByOrgaUserId(e.foreignUserId).orgaId;this._removeAllPermissionsOfUser4resource(l,n,void 0),t.forEach(e=>this._setAccessRight(l,r,n,e,void 0))}_setPermissionsOfUser2resource4foreignUserDelegated(e,n,t){const l=e.orgaId;this._removeAllPermissionsOfUser4resource(e.id,n,l),t.forEach(t=>this._setAccessRight(e.id,e.orgaId,n,t,l))}_setPermissionsOfUser2resource4ForeignOrga(e,n,t){const l=e.foreignOrgaId;if(t.length<=0)this._removeProxyResourceAndAllPermissions2it(l,n);else{const r=this._getAllDelegatedPermissions4resource(e.id,l,n);t.forEach(e=>{const n=r.findIndex(n=>n===e);n>=0&&r.splice(n,1)}),r.forEach(e=>{this._removePermission4resourceDelegatedFromAllUsersOfGivenOrga(l,n,e)})}this._removeAllPermissionsOfUser4resource(e.id,n,l),t.forEach(t=>this._setAccessRight(e.id,e.orgaId,n,t,l))}_getNewUniqueId(){let e=0;return this.accessRights.forEach(n=>{n.id>e&&(e=n.id)}),e+1}_findResourceType(e){return this.resourceTypes.find(n=>n.typeId===e)}_findResource(e){return this.resources.find(n=>n.typeId===e.typeId&&n.id===e.id)}_findStaticResourceByTypeAndOrgaId(e){return this.resources.find(n=>n.typeId===e.typeId&&n.orgaId===e.orgaId)}_assertPermissionRange(e,n){const t=this._findResourceType(e.typeId),l=this._findResource(e);if(!(t&&l&&t.possiblePermissions.includes(n)))throw new Error("Permission "+n+" not valid for type "+l.typeId)}_setAccessRight(e,n,t,l,r){this._assertPermissionRange(t,l),this.accessRights.push({id:this._getNewUniqueId(),userId:e,usersOrgaId:n,resourceType:t.typeId,resourceId:t.id,resourceOwningOrgaId:t.orgaId,permission:l,proxyResourceOrgaId:r})}_getPrincipal(){const e=this.tokenService.getOrgaUser();if(!e)throw new Error("Principal nicht gesetzt!");return e}_getAllDelegatedPermissions4resource(e,n,t){const l=this.accessRights.filter(l=>l.userId===e&&l.proxyResourceOrgaId===n&&l.resourceType===t.typeId&&l.resourceId===t.id).map(e=>e.permission);return l.filter((e,n)=>l.indexOf(e)===n)}_permissionAdministrable(e,n,t){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===n.typeId&&l.resourceId===n.id&&l.permission===t&&void 0!==l.proxyResourceOrgaId)}_getPermissions4foreignUser4administrationView(e,n,t){return!!this.accessRights.find(l=>l.userId===e&&l.resourceType===n.typeId&&l.resourceId===n.id&&l.permission===t&&void 0===l.proxyResourceOrgaId)}_hasDelegatedPermissionToCurrentOrga(e,n){return!!this.accessRights.find(t=>t.proxyResourceOrgaId===this._getPrincipal().orgaId&&t.resourceType===e.typeId&&t.resourceId===e.id&&t.permission===n)}_removeAllPermissionsOfUser4resource(e,n,t){for(;;){const l=this.accessRights.findIndex(l=>l.userId===e&&l.resourceType===n.typeId&&l.resourceId===n.id&&l.proxyResourceOrgaId===t);if(!(l>=0))break;this.accessRights.splice(l,1)}}_removeAllPermissionsOfUser(e){this.accessRights=this.accessRights.filter(n=>n.userId!==e)}_removePermission4resourceDelegatedFromAllUsersOfGivenOrga(e,n,t){let l;do{(l=this.accessRights.findIndex(l=>l.resourceType===n.typeId&&l.resourceId===n.id&&l.permission===t&&l.usersOrgaId===e&&l.proxyResourceOrgaId===e))>=0&&this.accessRights.splice(l,1)}while(l>=0)}_removeAllPersmissionsOfGivenUserFromAllResourcesOwnedByGivenOrgaId(e,n){for(;;){const t=this.accessRights.findIndex(t=>t.userId===e&&t.resourceOwningOrgaId===n);if(!(t>=0))break;this.accessRights.splice(t,1)}}_removeAllUserOfGivenOrgaIdFromAllResourcesOwnedByGivenOrgaId(e,n){for(;;){const t=this.accessRights.findIndex(t=>t.usersOrgaId===e&&t.resourceOwningOrgaId===n);if(!(t>=0))break;this.accessRights.splice(t,1)}}_removeAllPermissionsOfProxyOrgaIdFromAllResourcesOwnedByGivenOrgaId(e,n){for(;;){const t=this.accessRights.findIndex(t=>t.proxyResourceOrgaId===e&&t.resourceOwningOrgaId===n);if(!(t>=0))break;this.accessRights.splice(t,1)}}_removeProxyResourceAndAllPermissions2it(e,n){for(;;){const t=this.accessRights.findIndex(t=>t.proxyResourceOrgaId===e&&t.resourceType===n.typeId&&t.resourceId===n.id);if(!(t>=0))break;this.accessRights.splice(t,1)}}_setTestResourceTypes(){this.resourceTypes.push({typeId:bm.FolderRoot,dynamic:!1,displayName:"Belegverwaltung",possiblePermissions:[_m.FolderCreatePermissionKey]},{typeId:bm.Folder,dynamic:!0,displayName:"Ordner",possiblePermissions:[_m.FolderReadPermissionKey,_m.FolderWritePermissionKey,_m.FolderDeletePermissionKey],defaultPermissionsOnCreate:[_m.FolderReadPermissionKey],resourceType4CreatePermission:bm.FolderRoot,permission4CreatePermission:_m.FolderCreatePermissionKey},{typeId:bm.Fibu,dynamic:!1,displayName:"Finanzbuchf\xfchrung",possiblePermissions:[_m.FibuEvaluatePermissionKey,_m.FibuBookPermissionKey]})}_setTestResources(){this.resources.push({typeId:bm.FolderRoot,id:1,orgaId:300,displayName:"Belegverwaltung"},{typeId:bm.Folder,id:1,orgaId:300,displayName:"Notizen"},{typeId:bm.Folder,id:2,orgaId:300,displayName:"Steuersachen"},{typeId:bm.Folder,id:3,orgaId:300,displayName:"Golfausfl\xfcge"},{typeId:bm.Folder,id:4,orgaId:300,displayName:"Kollaboration von Heinzelmann f\xfcr Grubinger"},{typeId:bm.Folder,id:10,orgaId:301,displayName:"Rechtliches"},{typeId:bm.FolderRoot,id:2,orgaId:301,displayName:"Belegverwaltung"},{typeId:bm.Folder,id:11,orgaId:301,displayName:"Kassenarchiv"},{typeId:bm.FolderRoot,id:3,orgaId:302,displayName:"Belegverwaltung"},{typeId:bm.Folder,id:20,orgaId:302,displayName:"Finanzen"},{typeId:bm.Folder,id:21,orgaId:302,displayName:"Rechnungen"}),this._onOrganizationCreation(300),this._onOrganizationCreation(301),this._onOrganizationCreation(302)}_setTestPermissions(){this._setAccessRight(400,300,{typeId:bm.FolderRoot,id:1,orgaId:300},_m.FolderCreatePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:1,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:1,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:1,orgaId:300},_m.FolderDeletePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:2,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:2,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:2,orgaId:300},_m.FolderDeletePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:3,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:3,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:3,orgaId:300},_m.FolderDeletePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(400,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderDeletePermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:1,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:1,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:2,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:2,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderReadPermissionKey),this._setAccessRight(401,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderWritePermissionKey),this._setAccessRight(402,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderReadPermissionKey,302),this._setAccessRight(402,300,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderWritePermissionKey,302),this._setAccessRight(420,302,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderReadPermissionKey,302),this._setAccessRight(421,302,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderReadPermissionKey,302),this._setAccessRight(421,302,{typeId:bm.Folder,id:4,orgaId:300},_m.FolderWritePermissionKey,302),this._setAccessRight(410,301,{typeId:bm.FolderRoot,id:2,orgaId:301},_m.FolderCreatePermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderReadPermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderDeletePermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderReadPermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(410,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderDeletePermissionKey),this._setAccessRight(411,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderReadPermissionKey),this._setAccessRight(411,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(411,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderReadPermissionKey),this._setAccessRight(411,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(412,301,{typeId:bm.Folder,id:10,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(412,301,{typeId:bm.Folder,id:11,orgaId:301},_m.FolderWritePermissionKey),this._setAccessRight(420,302,{typeId:bm.FolderRoot,id:3,orgaId:302},_m.FolderCreatePermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:20,orgaId:302},_m.FolderReadPermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:20,orgaId:302},_m.FolderWritePermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:20,orgaId:302},_m.FolderDeletePermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:21,orgaId:302},_m.FolderReadPermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:21,orgaId:302},_m.FolderWritePermissionKey),this._setAccessRight(420,302,{typeId:bm.Folder,id:21,orgaId:302},_m.FolderDeletePermissionKey),this._setAccessRight(421,302,{typeId:bm.Folder,id:20,orgaId:302},_m.FolderReadPermissionKey),this._setAccessRight(421,302,{typeId:bm.Folder,id:20,orgaId:302},_m.FolderWritePermissionKey),this._setAccessRight(421,302,{typeId:bm.Folder,id:21,orgaId:302},_m.FolderReadPermissionKey),this._setAccessRight(421,302,{typeId:bm.Folder,id:21,orgaId:302},_m.FolderWritePermissionKey)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(zg),Le(Ng))},token:e,providedIn:"root"}),e})();var Cm=nl({encapsulation:0,styles:[['.verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:60em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:60em;position:relative;background-color:#eee;margin-bottom:.3em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-user[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:10em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}.buttons-right-div[_ngcontent-%COMP%]{float:right;margin-right:.7em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.editButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btn-delete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}hr[_ngcontent-%COMP%]{height:2px;background:#000;margin-top:1em;margin-bottom:1em;width:50em}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:.5em;float:left}.form-group[_ngcontent-%COMP%]{width:20em;height:5em}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#000}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;border-bottom:.5px dotted #000}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#90ee90;color:#000;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-60px;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.row[_ngcontent-%COMP%]{margin-bottom:0!important}']],data:{}});function Im(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btn-delete"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.removeUserFromOrga(e.parent.context.index)&&l),l}),null,null)),(e()(),as(-1,null,[" Dich aus Organisation entfernen"]))],null,null)}function Sm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe "]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.removeUserFromOrga(e.parent.context.index)&&l),l}),null,null)),(e()(),as(-1,null,[" Benutzer aus Organisation entfernen"]))],null,null)}function Om(e){return hs(0,[(e()(),Qi(0,0,null,null,16,"li",[],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(3,{"foreign-user":0}),(e()(),Qi(4,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(6,null,[" "," "])),(e()(),Qi(7,0,null,null,4,"div",[["class","tooltip"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text tooltip"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.enterEditMode(e.context.index)&&l),l}),null,null)),(e()(),as(9,null,[" "," "])),(e()(),Qi(10,0,null,null,1,"span",[["class","tooltiptext"]],null,null,null,null,null)),(e()(),as(-1,null,["Klicken zum \xc4ndern..."])),(e()(),Qi(12,0,null,null,4,"div",[["class"," buttons-right-div"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Im)),ur(14,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Sm)),ur(16,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component,l=e(n,3,0,t.isForeign(n.context.$implicit));e(n,2,0,l),e(n,14,0,n.context.$implicit.id===t.principal.id),e(n,16,0,n.context.$implicit.id!==t.principal.id)}),(function(e,n){e(n,6,0,n.component.getUserIdAndAdminTypeAsString(n.context.index)),e(n,9,0,n.context.$implicit.name)}))}function km(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit.type),e(n,2,0,n.context.$implicit.type)}),(function(e,n){e(n,3,0,n.context.$implicit.text)}))}function xm(e){return hs(0,[(e()(),Qi(0,0,null,null,29,"div",[["class","row editButtons"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,23,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,8,"div",[["class","input-field col s5"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,7,"select",[["class","browser-default"],["name","credTyp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,5).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,5).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.user2edit.adminType=t)&&l),l}),null,null)),ur(5,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(7,671744,[["credTyp",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(9,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,km)),ur(11,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(12,0,null,null,12,"div",[["class","input-field col s7"]],null,null,null,null,null)),(e()(),Qi(13,0,null,null,1,"label",[["for","editName"]],null,null,null,null,null)),(e()(),as(-1,null,["Anwendernamen \xe4ndern (mind. 3 Zeichen)"])),(e()(),Qi(15,0,null,null,9,"input",[["appAutofocus",""],["id","editName"],["minlength","3"],["name","editName"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,16)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,16).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,16)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,16)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.user2edit.name=t)&&l),"keydown.enter"===n&&(l=!1!==r.persistEditUserChanges()&&l),l}),null,null)),ur(16,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(17,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(18,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(21,671744,[["editName",4]],0,Qp,[[8,null],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(23,16384,null,0,op,[[4,ip]],null,null),ur(24,4210688,null,0,tf,[dt],null,null),(e()(),Qi(25,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.cancelEditMode()&&l),l}),null,null)),(e()(),as(-1,null,[" Abbrechen "])),(e()(),Qi(27,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.persistEditUserChanges()&&l),l}),null,null)),(e()(),as(-1,null,[" \xdcbernehmen "])),(e()(),Qi(29,0,null,null,0,"hr",[],null,null,null,null,null))],(function(e,n){var t=n.component;e(n,7,0,"credTyp",t.user2edit.adminType),e(n,11,0,t.enumOptions),e(n,17,0,""),e(n,18,0,"3"),e(n,21,0,"editName",t.user2edit.name)}),(function(e,n){e(n,4,0,Zl(n,9).ngClassUntouched,Zl(n,9).ngClassTouched,Zl(n,9).ngClassPristine,Zl(n,9).ngClassDirty,Zl(n,9).ngClassValid,Zl(n,9).ngClassInvalid,Zl(n,9).ngClassPending),e(n,15,0,Zl(n,17).required?"":null,Zl(n,18).minlength?Zl(n,18).minlength:null,Zl(n,23).ngClassUntouched,Zl(n,23).ngClassTouched,Zl(n,23).ngClassPristine,Zl(n,23).ngClassDirty,Zl(n,23).ngClassValid,Zl(n,23).ngClassInvalid,Zl(n,23).ngClassPending),e(n,27,0,!Zl(n,21).valid)}))}function Am(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Hier kannst du die komplette Organisation l\xf6schen."])),(e()(),Qi(4,0,null,null,1,"button",[["class","btn btn-default btn-delete"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.deleteOrganisation()&&l),l}),null,null)),(e()(),as(-1,null,["Organisation l\xf6schen"]))],null,null)}function Tm(e){return hs(0,[(e()(),Qi(0,0,null,null,105,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(2,null,["Hier verwaltest du die Mitglieder von <",">."])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Om)),ur(5,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(6,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,xm)),ur(8,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(9,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(10,0,null,null,8,"label",[["for","toggle-invite"]],null,null,null,null,null)),(e()(),Qi(11,0,null,null,5,"input",[["id","toggle-invite"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,12).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.showInviteUser=t)&&l),l}),null,null)),ur(12,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(14,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(18,null,["",""])),(e()(),Qi(19,0,null,null,31,"div",[["class","toggled-container"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(20,0,null,null,30,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,22).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,22).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.inviteUser()&&l),l}),null,null)),ur(21,16384,null,0,Jp,[],null,null),ur(22,4210688,[["inviteUserForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(24,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(25,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(26,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(27,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),as(-1,null,["Name des Mitarbeiters"])),(e()(),Qi(29,0,null,null,8,"input",[["class","form-control"],["id","name"],["minlength","3"],["name","name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,30)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,30).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,30)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,30)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newUser.name=t)&&l),l}),null,null)),ur(30,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(31,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(32,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(35,671744,[["name",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(37,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(38,0,null,null,10,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(39,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),as(-1,null,["Adresse f\xfcr Einladungs-Mail"])),(e()(),Qi(41,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,42)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,42).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,42)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,42)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newUser.email=t)&&l),l}),null,null)),ur(42,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(43,16384,null,0,Yp,[],{required:[0,"required"]},null),ar(1024,null,cp,(function(e){return[e]}),[Yp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(46,671744,[["email",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(48,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(49,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Benutzer einladen"])),(e()(),Qi(51,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Qi(52,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(53,0,null,null,8,"label",[["for","toggle-invite-orga"]],null,null,null,null,null)),(e()(),Qi(54,0,null,null,5,"input",[["id","toggle-invite-orga"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,55).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,55).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.showInviteForeign=t)&&l),l}),null,null)),ur(55,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(57,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(59,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(60,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(61,null,["",""])),(e()(),Qi(62,0,null,null,41,"div",[["class","toggled-container col s12"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(63,0,null,null,10,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(64,0,null,null,6,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(65,0,null,null,5,"input",[["placeholder","via Orga-ID oder User-ID suchen..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,66)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,66).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,66)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,66)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.searchForeignInput=t)&&l),"keydown.enter"===n&&(l=!1!==r.search4ForeignUserOrOrga()&&l),l}),null,null)),ur(66,16384,null,0,np,[mt,dt,[2,ep]],null,null),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(68,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{model:[0,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(70,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(71,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(72,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.search4ForeignUserOrOrga()&&l),l}),null,null)),(e()(),as(-1,null,[" Suchen "])),(e()(),Qi(74,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(75,0,null,null,4,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(76,0,null,null,1,"span",[["style","font-weight: bold; margin-right: 0.5em; "]],null,null,null,null,null)),(e()(),as(-1,null,["Suchergebnis: "])),(e()(),Qi(78,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(79,null,["",""])),(e()(),Qi(80,0,null,null,23,"form",[["class","col s12"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,82).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,82).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.inviteForeign()&&l),l}),null,null)),ur(81,16384,null,0,Jp,[],null,null),ur(82,4210688,[["inviteForeignForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(84,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(85,0,null,null,18,"div",[["class","row valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(86,0,null,null,14,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(87,0,null,null,4,"label",[["for","nameProxyForeign"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(89,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(90,{active:0}),(e()(),as(-1,null,["Bezeichnung des Stellvertreters"])),(e()(),Qi(92,0,null,null,8,"input",[["class","form-control"],["id","nameProxyForeign"],["minlength","3"],["name","nameProxyForeign"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,93)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,93).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,93)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,93)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newForeignProxyUser.newName=t)&&l),l}),null,null)),ur(93,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(94,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(95,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(98,671744,[["nameProxyForeign",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(100,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(101,0,null,null,2,"div",[["class","col s6"]],null,null,null,null,null)),(e()(),Qi(102,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["einladen"])),(e()(),Zi(16777216,null,null,1,null,Am)),ur(105,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,5,0,t.users),e(n,8,0,t.user2edit.id),e(n,14,0,t.showInviteUser),e(n,31,0,""),e(n,32,0,"3"),e(n,35,0,"name",t.newUser.name),e(n,43,0,""),e(n,46,0,"email",t.newUser.email),e(n,57,0,t.showInviteForeign),e(n,68,0,t.searchForeignInput);var l=e(n,90,0,t.newForeignProxyUser.newName);e(n,89,0,l),e(n,94,0,""),e(n,95,0,"3"),e(n,98,0,"nameProxyForeign",t.nothingFound,t.newForeignProxyUser.newName),e(n,105,0,!0)}),(function(e,n){var t=n.component;e(n,2,0,t.organization.name),e(n,11,0,Zl(n,16).ngClassUntouched,Zl(n,16).ngClassTouched,Zl(n,16).ngClassPristine,Zl(n,16).ngClassDirty,Zl(n,16).ngClassValid,Zl(n,16).ngClassInvalid,Zl(n,16).ngClassPending),e(n,18,0,t.showInviteUser?"<Benutzer einladen> ausblenden":"<Benutzer einladen> einblenden"),e(n,19,0,!t.showInviteUser),e(n,20,0,Zl(n,24).ngClassUntouched,Zl(n,24).ngClassTouched,Zl(n,24).ngClassPristine,Zl(n,24).ngClassDirty,Zl(n,24).ngClassValid,Zl(n,24).ngClassInvalid,Zl(n,24).ngClassPending),e(n,29,0,Zl(n,31).required?"":null,Zl(n,32).minlength?Zl(n,32).minlength:null,Zl(n,37).ngClassUntouched,Zl(n,37).ngClassTouched,Zl(n,37).ngClassPristine,Zl(n,37).ngClassDirty,Zl(n,37).ngClassValid,Zl(n,37).ngClassInvalid,Zl(n,37).ngClassPending),e(n,41,0,Zl(n,43).required?"":null,Zl(n,48).ngClassUntouched,Zl(n,48).ngClassTouched,Zl(n,48).ngClassPristine,Zl(n,48).ngClassDirty,Zl(n,48).ngClassValid,Zl(n,48).ngClassInvalid,Zl(n,48).ngClassPending),e(n,49,0,!Zl(n,22).valid),e(n,54,0,Zl(n,59).ngClassUntouched,Zl(n,59).ngClassTouched,Zl(n,59).ngClassPristine,Zl(n,59).ngClassDirty,Zl(n,59).ngClassValid,Zl(n,59).ngClassInvalid,Zl(n,59).ngClassPending),e(n,61,0,t.showInviteUser?"<mit Organisation zusammenarbeiten> ausblenden":"<mit Organisation zusammenarbeiten> einblenden"),e(n,62,0,!t.showInviteForeign),e(n,65,0,Zl(n,70).ngClassUntouched,Zl(n,70).ngClassTouched,Zl(n,70).ngClassPristine,Zl(n,70).ngClassDirty,Zl(n,70).ngClassValid,Zl(n,70).ngClassInvalid,Zl(n,70).ngClassPending),e(n,79,0,t.searchResult2Display),e(n,80,0,Zl(n,84).ngClassUntouched,Zl(n,84).ngClassTouched,Zl(n,84).ngClassPristine,Zl(n,84).ngClassDirty,Zl(n,84).ngClassValid,Zl(n,84).ngClassInvalid,Zl(n,84).ngClassPending),e(n,92,0,Zl(n,94).required?"":null,Zl(n,95).minlength?Zl(n,95).minlength:null,Zl(n,100).ngClassUntouched,Zl(n,100).ngClassTouched,Zl(n,100).ngClassPristine,Zl(n,100).ngClassDirty,Zl(n,100).ngClassValid,Zl(n,100).ngClassInvalid,Zl(n,100).ngClassPending),e(n,102,0,t.nothingFound||!Zl(n,82).valid)}))}function Pm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-orga-admin",[],null,null,null,Tm,Cm)),ur(1,114688,null,0,ym,[xg,Dg,Lg,zg,jg,Bg,zg,wm,Ng,Zh],null,null)],(function(e,n){e(n,1,0)}),null)}var Em=Vl("app-iam-orga-admin",ym,Pm,{},{},[]);class Rm{constructor(e,n,t,l){this.settingsService=e,this.tokenService=n,this.orgaService=t,this.accessService=l,this.usersDisplayName="",this.users2Admin=[],this.resourceTypes2Admin=[],this.resourcesAndAccessRights=[],this.dirty=!1}ngOnInit(){this.settingsService.setTitle("zentrale Rechte-Administration"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getOrgaUser(),this.users2Admin=this.orgaService.getAllOrgaUsers(this.principal.orgaId),this.selectedUser2Admin=this.users2Admin[0],this.selectedUsersId=this.selectedUser2Admin.id,this.resourceTypes2Admin=this.accessService.getAllResourceTypes(),this.selectedResourceType2Admin=this.resourceTypes2Admin[0],this.selectedResourceTypesId=this.selectedResourceType2Admin.typeId,this._initMembers()}_initMembers(){this.dirty=!1,this.resourcesAndAccessRights=[],this.accessService.getAllResourcesOwnedByOrDelegatedToOrga(this.selectedResourceType2Admin.typeId,this.principal.orgaId).forEach(e=>{const n=[];this.selectedResourceType2Admin.possiblePermissions.forEach(t=>{const l={name:t};l.disabled=!this.accessService.permissionIsAdministrable(e,this.selectedUser2Admin,t),l.allowed=this.accessService.hasAdministratedPermission(e,this.selectedUser2Admin,t),n.push(l)});const t={};Object.assign(t,e),t.permissions=n,this.resourcesAndAccessRights.push(t)})}getResourceDisplayName(e){return this.isForeignResource(e)?e.displayName+" (von Orga#: "+e.orgaId+")":e.displayName}isForeignUser(e){return!(!e.foreignOrgaId&&!e.foreignUserId)}isForeignResource(e){return e.orgaId!==this.principal.orgaId}discardChanges(){this._initMembers()}savePermissions(){this.resourcesAndAccessRights.forEach(e=>{if(e.dirty){const n=e.permissions.filter(e=>e.allowed).map(e=>e.name);this.accessService.setPermissionsOfUser2resource(this.selectedUser2Admin,e,n)}}),this._afterSavingPermissions()}_afterSavingPermissions(){this.dirty=!1,this.resourcesAndAccessRights.forEach(e=>e.dirty=!1)}onChangedUser(){if(this.dirty&&!confirm("Willst du den User wechseln und deine \xc4nderungen verwerfen?")){const e=this.users2Admin.find(e=>e.id===this.selectedUsersId);if(e)return void(this.selectedUser2Admin=e)}this._initMembers()}onChangedResourceType(){if(this.dirty&&!confirm("Willst du den Ressourcentyp wechseln und deine \xc4nderungen verwerfen?")){const e=this.resourceTypes2Admin.find(e=>e.typeId===this.selectedResourceTypesId);if(e)return void(this.selectedResourceType2Admin=e)}this._initMembers()}onChangedPermission(e=-1){if(this.dirty=!0,e>=0){const n=this.resourcesAndAccessRights[e];n&&(n.dirty=!0)}}}var Mm=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:70em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:70em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2.2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-resource[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:2em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:35em;text-align:left}.verweise[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:3em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}select[_ngcontent-%COMP%]{border:3px solid teal}.foreign-user[_ngcontent-%COMP%]{border:3px solid red!important}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff}.row[_ngcontent-%COMP%]{margin-bottom:5px!important}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding-left:.35rem}.label-for-select[_ngcontent-%COMP%]{padding-top:.7rem}"]],data:{}});function Nm(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit),e(n,2,0,n.context.$implicit)}),(function(e,n){e(n,3,0,n.context.$implicit.displayName)}))}function Um(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit),e(n,2,0,n.context.$implicit)}),(function(e,n){e(n,3,0,n.context.$implicit.name)}))}function Dm(e){return hs(0,[(e()(),Qi(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["Vom gew\xe4hltem Ressourcen-Typ hast du keine Ressourcen."])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["Weil du entweder diese App nicht lizenziert hast, oder noch keine Ressourcen diesen Typs angelegt hast."]))],null,null)}function Fm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"label",[["class","valign-wrapper"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,2).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,2).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(e.context.$implicit.allowed=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChangedPermission(e.parent.context.index)&&l),l}),null,null)),ur(2,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(4,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(6,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(7,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(8,null,["",""]))],(function(e,n){e(n,4,0,n.context.$implicit.disabled,n.context.$implicit.allowed)}),(function(e,n){e(n,1,0,Zl(n,6).ngClassUntouched,Zl(n,6).ngClassTouched,Zl(n,6).ngClassPristine,Zl(n,6).ngClassDirty,Zl(n,6).ngClassValid,Zl(n,6).ngClassInvalid,Zl(n,6).ngClassPending),e(n,8,0,n.context.$implicit.name)}))}function Vm(e){return hs(0,[(e()(),Qi(0,0,null,null,9,"li",[["class","valign-wrapper"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{"foreign-resource":0}),(e()(),Qi(4,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(5,null,[" "," "])),(e()(),Qi(6,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(7,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,Fm)),ur(9,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){var t=e(n,3,0,n.component.isForeignResource(n.context.$implicit));e(n,2,0,"valign-wrapper",t),e(n,9,0,n.context.$implicit.permissions)}),(function(e,n){var t=n.component;e(n,5,0,n.context.$implicit.id),e(n,7,0,t.getResourceDisplayName(n.context.$implicit))}))}function Lm(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Vm)),ur(2,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,2,0,n.component.resourcesAndAccessRights)}),null)}function zm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",", hier kannst du die Berechtigungen f\xfcr alle deine Ressourcen zentral regeln."])),(e()(),Qi(2,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,27,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,11,"div",[["class","row inner-row"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"div",[["class","input-field label-for-select col s2"]],null,null,null,null,null)),(e()(),as(-1,null,[" Ressourcen-Typ w\xe4hlen: "])),(e()(),Qi(7,0,null,null,8,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,7,"select",[["class","browser-default"],["name","resourceType2admin"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,9).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,9).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.selectedResourceType2Admin=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChangedResourceType()&&l),l}),null,null)),ur(9,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(11,671744,[["resourceType2admin",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(13,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,Nm)),ur(15,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(16,0,null,null,14,"div",[["class","row inner-row"]],null,null,null,null,null)),(e()(),Qi(17,0,null,null,1,"div",[["class","input-field label-for-select col s2"]],null,null,null,null,null)),(e()(),as(-1,null,[" Benutzer w\xe4hlen: "])),(e()(),Qi(19,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(20,0,null,null,10,"select",[["class","browser-default"],["name","user2admin"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,24).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,24).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.selectedUser2Admin=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChangedUser()&&l),l}),null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(22,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(23,{"foreign-user":0}),ur(24,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(26,671744,[["user2admin",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(28,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,Um)),ur(30,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Dm)),ur(32,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Lm)),ur(34,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(35,0,null,null,1,"button",[["class","btn btn-delete"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.discardChanges()&&l),l}),null,null)),(e()(),as(-1,null,["\xc4nderungen verwerfen"])),(e()(),Qi(37,0,null,null,1,"button",[["class","btn"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.savePermissions()&&l),l}),null,null)),(e()(),as(-1,null,["\xc4nderungen \xfcbernehmen"]))],(function(e,n){var t=n.component;e(n,11,0,"resourceType2admin",t.selectedResourceType2Admin),e(n,15,0,t.resourceTypes2Admin);var l=e(n,23,0,t.isForeignUser(t.selectedUser2Admin));e(n,22,0,"browser-default",l),e(n,26,0,"user2admin",t.selectedUser2Admin),e(n,30,0,t.users2Admin),e(n,32,0,0===t.resourcesAndAccessRights.length),e(n,34,0,t.resourcesAndAccessRights.length>0)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayName),e(n,8,0,Zl(n,13).ngClassUntouched,Zl(n,13).ngClassTouched,Zl(n,13).ngClassPristine,Zl(n,13).ngClassDirty,Zl(n,13).ngClassValid,Zl(n,13).ngClassInvalid,Zl(n,13).ngClassPending),e(n,20,0,Zl(n,28).ngClassUntouched,Zl(n,28).ngClassTouched,Zl(n,28).ngClassPristine,Zl(n,28).ngClassDirty,Zl(n,28).ngClassValid,Zl(n,28).ngClassInvalid,Zl(n,28).ngClassPending),e(n,35,0,!t.dirty),e(n,37,0,!t.dirty)}))}function Bm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-iam-central-admin",[],null,null,null,zm,Mm)),ur(1,114688,null,0,Rm,[xg,Dg,zg,wm],null,null)],(function(e,n){e(n,1,0)}),null)}var jm=Vl("app-iam-central-admin",Rm,Bm,{},{},[]);class $m{constructor(e,n,t,l){this.notificationService=e,this.tokenService=n,this.settingsService=t,this.orgaService=l,this.allNotifications=[],this.notificationDescription="",this.settingsService.setTitle("Nachrichten")}ngOnInit(){this.principal=this.tokenService.getAccount(),this.initMembers()}initMembers(){this.allNotifications=this.notificationService.getAllNotificationsForCurrentPrincipal(),this.allNotifications.length>0?(this.idxNotificationTodo||(this.idxNotificationTodo=0),this.allNotifications[this.idxNotificationTodo]||(this.idxNotificationTodo=this.idxNotificationTodo-1),this.showNotification(this.idxNotificationTodo)):(this.idxNotificationTodo=void 0,this.notificationTodo={type:Fg.None,accountAsRecipient:void 0,id:0},this.notificationDescription="")}getTypeAsString(e){const n=this.allNotifications[e];return n.id+": "+Fg[n.type]}getOrgaName(e){const n=this.orgaService.findOrgaById(e);return n&&n.name||"unknown-Orga"}getDetailsOfNotification(e){const n=this.allNotifications[e];switch(n.type){case Fg.AccountVerification:return n.accountAsRecipient.name;case Fg.InvitationOrgaUser:case Fg.DeclinedOrgaUserInvitation:case Fg.AcceptedOrgaUserInvitation:return n.orgaUser.name+" in Organisation "+this.getOrgaName(n.orgaUser.orgaId)}}showNotification(e){this.idxNotificationTodo=e,this.notificationTodo=this.allNotifications[e]}acceptInvitation(){this.notificationService.acceptInvitation(this.notificationTodo.id),this.initMembers()}declineInvitation(){this.notificationService.declineInvitation(this.notificationTodo.id),this.initMembers()}}var Hm=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:60em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.editMode[_ngcontent-%COMP%]{background-color:#40e0d0!important}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:15em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em;width:60em}li[_ngcontent-%COMP%]{margin-bottom:.2em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}.btn-delete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}"]],data:{}});function qm(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),as(1,null,["",", du hast keine Nachrichten."]))],null,(function(e,n){e(n,1,0,n.component.principal.name)}))}function Gm(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showNotification(e.context.index)&&l),l}),null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(3,{editMode:0}),(e()(),Qi(4,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(5,null,[" "," "])),(e()(),Qi(6,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(7,null,[" "," "]))],(function(e,n){var t=e(n,3,0,n.context.$implicit.id===n.component.notificationTodo.id);e(n,2,0,t)}),(function(e,n){var t=n.component;e(n,5,0,t.getTypeAsString(n.context.index)),e(n,7,0,t.getDetailsOfNotification(n.context.index))}))}function Km(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Du hast deine Mail-Adresse erfolgreich verifiziert und damit deinen Account aktiviert. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Dies ist nur eine Information, du musst weiter nichts unternehmen."])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Nachricht l\xf6schen"]))],null,null)}function Wm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen. '])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[' Durch "Annehmen" akzeptierst du die Einladung und der Vorgang ist abgeschlossen. '])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn btn-delete"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Ablehnen"])),(e()(),Qi(7,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Annehmen"]))],null,(function(e,n){var t=n.component;e(n,2,0,t.getOrgaName(t.notificationTodo.orgaUser.orgaId))}))}function Zm(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(2,null,["Der Benutzer "," hat die Einladung als Mitarbeiter in dieser Organisation abgelehnt. Der entsprechende Organisations-User wurde entfernt. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Dies ist nur eine Information. "])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Nachricht l\xf6schen"]))],null,(function(e,n){e(n,2,0,n.component.notificationTodo.orgaUser.name)}))}function Qm(e){return hs(0,[(e()(),Qi(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(2,null,["Der Benutzer "," hat die Einladung als Mitarbeiter in dieser Organisation angenommen. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Dies ist nur eine Information. "])),(e()(),Qi(5,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.acceptInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Nachricht l\xf6schen"]))],null,(function(e,n){e(n,2,0,n.component.notificationTodo.orgaUser.name)}))}function Jm(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Km)),ur(2,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Wm)),ur(4,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Zm)),ur(6,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Qm)),ur(8,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,1===t.notificationTodo.type),e(n,4,0,2===t.notificationTodo.type),e(n,6,0,3===t.notificationTodo.type),e(n,8,0,4===t.notificationTodo.type)}),null)}function Ym(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(2,null,["",", du hast folgende Nachrichten:"])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Gm)),ur(5,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,Jm)),ur(7,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,5,0,t.allNotifications),e(n,7,0,t.notificationTodo.id>0)}),(function(e,n){e(n,2,0,n.component.principal.name)}))}function Xm(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,qm)),ur(1,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Ym)),ur(3,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,1,0,0===t.allNotifications.length),e(n,3,0,t.allNotifications.length>0)}),null)}function ev(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-notification-view",[],null,null,null,Xm,Hm)),ur(1,114688,null,0,$m,[Bg,Dg,xg,zg],null,null)],(function(e,n){e(n,1,0)}),null)}var nv=Vl("app-notification-view",$m,ev,{},{},[]);class tv{constructor(e,n,t,l){this.taskService=e,this.tokenService=n,this.settingsService=t,this.orgaService=l,this.allTasks=[],this.taskTodoDescription="",this.tokenService.logout(),this.settingsService.setTitle("Fake Mailbox"),this.taskService.resetTaskInProgress()}ngOnInit(){this.initMembers()}initMembers(){this.allTasks=this.taskService.getAllMails(),this.allTasks.length>0?(this.idxTaskTodo||(this.idxTaskTodo=0),this.allTasks[this.idxTaskTodo]||(this.idxTaskTodo=this.idxTaskTodo-1),this.showTask(this.idxTaskTodo)):(this.idxTaskTodo=void 0,this.taskTodo={type:Vg.None,id:0},this.taskTodoDescription="")}getTypeAsString(e){const n=this.allTasks[e];return n.id+": "+Vg[n.type]}getOrganame(e){const n=this.orgaService.findOrgaById(e);return n&&n.name||"unknown-Orga"}getDetailsOfTask(e){const n=this.allTasks[e];switch(n.type){case Vg.AccountVerification:return n.email+", "+n.account.name;case Vg.InvitationOrgaUser:return n.email;case Vg.InfoOfInvitationOrgaUser:return n.email+", "+n.account.name}}showTask(e){this.idxTaskTodo=e,this.taskTodo=this.allTasks[e]}wantsToFulfill(){this.taskTodo.type!==Vg.InfoOfInvitationOrgaUser?this.taskService.setTaskInProgress(this.taskTodo)||alert("Da stimmt was mit der aktuellen Best\xe4tigung/Task nicht?!?"):this.taskService.removeTask(this.taskTodo.id)}declineInvitation(){this.taskService.declineTask(this.taskTodo.id),this.initMembers()}}var lv=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:2em;border-radius:4px}.editMode[_ngcontent-%COMP%]{background-color:#40e0d0!important}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d3d3d3;left:.2em}.verweise[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none;position:relative;display:block;text-align:left;margin-left:1em}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:15em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:30em;text-align:left}hr[_ngcontent-%COMP%]{height:3px;background:#000;margin-top:2em;margin-bottom:1em;width:50em}li[_ngcontent-%COMP%]{margin-bottom:.2em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}"]],data:{}});function rv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),as(-1,null,['Derzeit sind keine "Mails" vorhanden.']))],null,null)}function iv(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showTask(e.context.index)&&l),l}),null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(3,{editMode:0}),(e()(),Qi(4,0,null,null,1,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),as(5,null,[" "," "])),(e()(),Qi(6,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(7,null,[" "," "]))],(function(e,n){var t=e(n,3,0,n.context.$implicit.id===n.component.taskTodo.id);e(n,2,0,t)}),(function(e,n){var t=n.component;e(n,5,0,t.getTypeAsString(n.context.index)),e(n,7,0,t.getDetailsOfTask(n.context.index))}))}function sv(e){return hs(0,[(e()(),Qi(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(-1,null,["Du hast dich registriert, aber deine Email-Adresse noch nicht verifiziert. "])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Wenn du untenstehendem Link folgst und dich mit deinem registrierten Account anmeldest, best\xe4tigst du deine Email-Adresse. "])),(e()(),Qi(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(-1,null,['Damit wird dein Account "aktiv" (und die "Nachricht" verschwindet automatisch...)'])),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==Zl(e,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ur(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,["Hiermit verifizierst du deine Email-Adresse."]))],(function(e,n){e(n,8,0,"/iam/login")}),(function(e,n){e(n,7,0,Zl(n,8).target,Zl(n,8).href)}))}function ov(e){return hs(0,[(e()(),Qi(0,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen.'])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Wenn dies in Ordnung ist, f\xfchre folgende Schritte durch:"])),(e()(),Qi(5,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==Zl(e,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ur(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,["Melde dich mit deinem Account an."])),(e()(),Qi(10,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(11,0,null,null,2,"a",[["routerLink","/iam/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==Zl(e,12).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ur(12,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,[" Oder registriere dich zun\xe4chst und melde dich danach an."])),(e()(),Qi(14,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,[" Danach gehst du in deine Nachrichten und stimmst der Mitgliedschaft zu."]))],(function(e,n){e(n,8,0,"/iam/login"),e(n,12,0,"/iam/register")}),(function(e,n){var t=n.component;e(n,2,0,t.getOrganame(t.taskTodo.orgaUser.orgaId)),e(n,7,0,Zl(n,8).target,Zl(n,8).href),e(n,11,0,Zl(n,12).target,Zl(n,12).href)}))}function uv(e){return hs(0,[(e()(),Qi(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),as(2,null,['Du wurdest als Mitglied (Mitarbeiter) der Organisation "','" vorgesehen.'])),(e()(),Qi(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),as(-1,null,[" Dir wurde eine Nachricht an deinen Account geschickt. Daher einfach anmelden und deine Nachrichten pr\xfcfen. "])),(e()(),Qi(5,0,null,null,6,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Qi(7,0,null,null,2,"a",[["routerLink","/iam/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,r=e.component;return"click"===n&&(l=!1!==Zl(e,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==r.wantsToFulfill()&&l),l}),null,null)),ur(8,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(-1,null,["Melde dich mit deinem Account an."])),(e()(),Qi(10,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,[" Danach gehst du in deine Nachrichten und stimmst der Mitgliedschaft zu."]))],(function(e,n){e(n,8,0,"/iam/login")}),(function(e,n){var t=n.component;e(n,2,0,t.getOrganame(t.taskTodo.orgaUser.orgaId)),e(n,7,0,Zl(n,8).target,Zl(n,8).href)}))}function av(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,sv)),ur(2,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,ov)),ur(4,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,uv)),ur(6,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(7,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.declineInvitation()&&l),l}),null,null)),(e()(),as(-1,null,["Nachricht l\xf6schen"]))],(function(e,n){var t=n.component;e(n,2,0,1===t.taskTodo.type),e(n,4,0,2===t.taskTodo.type),e(n,6,0,3===t.taskTodo.type)}),null)}function cv(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(-1,null,['Folgende "Mails" sind vorhanden:'])),(e()(),Qi(3,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,iv)),ur(5,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Zi(16777216,null,null,1,null,av)),ur(7,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,5,0,t.allTasks),e(n,7,0,t.taskTodo.id>0)}),null)}function dv(e){return hs(0,[(e()(),Zi(16777216,null,null,1,null,rv)),ur(1,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,cv)),ur(3,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,1,0,0===t.allTasks.length),e(n,3,0,t.allTasks.length>0)}),null)}function hv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-fake-mail-view",[],null,null,null,dv,lv)),ur(1,114688,null,0,tv,[jg,Dg,xg,zg],null,null)],(function(e,n){e(n,1,0)}),null)}var gv=Vl("app-fake-mail-view",tv,hv,{},{},[]);class pv{constructor(e,n){this.settingsService=e,this.eventService=n,this.checked=!1,this.boolSettings=[]}ngOnInit(){this.settingsService.setTitle("Programmeinstellungen");const e=this.settingsService.getAllBooleanSettings();for(const n in e)this.boolSettings.push({key:n,value:e[n]})}toggleValue(e){const n=this.boolSettings[e];n.value=!n.value,this.settingsService.booleanValueSet(n.key,n.value),"useGreenLikeColors"!==n.key&&"useAccountName4DisplayingUsername"!==n.key||this.eventService.publishTokenChangedEvent()}}var fv=nl({encapsulation:0,styles:[[".list-item-text-left[_ngcontent-%COMP%]{margin-bottom:1em;float:left;width:28em;text-align:left;font-weight:700}.list-item-text[_ngcontent-%COMP%]{margin-bottom:1em;float:left;width:30em;text-align:left}li[_ngcontent-%COMP%]{white-space:nowrap;display:inline-block}"]],data:{}});function mv(e){return hs(0,[(e()(),Qi(0,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),Qi(1,0,null,null,7,"div",[["class","switch"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,1,"label",[["class","list-item-text-left"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toggleValue(e.context.index)&&l),l}),null,null)),(e()(),as(3,null,["",":"])),(e()(),Qi(4,0,null,null,4,"label",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(-1,null,[" Nee "])),(e()(),Qi(6,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],(function(e,n,t){var l=!0;return"change"===n&&(l=!1!==e.component.toggleValue(e.context.index)&&l),l}),null,null)),(e()(),Qi(7,0,null,null,0,"span",[["class","lever"]],null,null,null,null,null)),(e()(),as(-1,null,[" Jaa "]))],null,(function(e,n){e(n,3,0,n.context.$implicit.key),e(n,6,0,n.context.$implicit.value)}))}function vv(e){return hs(0,[(e()(),Qi(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,mv)),ur(2,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,2,0,n.component.boolSettings)}),null)}function yv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-settings",[],null,null,null,vv,fv)),ur(1,114688,null,0,pv,[xg,Ng],null,null)],(function(e,n){e(n,1,0)}),null)}var _v=Vl("app-settings",pv,yv,{},{},[]);class bv{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.setTitle("Hilfe / Anleitung");const e=document.querySelectorAll(".collapsible");M.Collapsible.init(e,{})}}var wv=nl({encapsulation:0,styles:[["br[_ngcontent-%COMP%]{margin-bottom:.4em}"]],data:{}});function Cv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),as(-1,null,["Hier gibt's Hilfe bzw. Anleitungen, nat\xfcrlich nur in aller K\xfcrze..."])),(e()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(3,0,null,null,137,"ul",[["class","collapsible popout"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),Qi(5,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(6,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Wozu das Ganze? Was kann ich machen? "])),(e()(),Qi(9,0,null,null,13,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(11,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Kurz gesagt, man kann sich registrieren, einloggen, Organisationen beitreten/anlegen/verwalten."])),(e()(),Qi(13,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Ferner kann man Ordner (dynamische Resourcen) anlegen und verrechten."])),(e()(),Qi(15,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Und als Highlight kann man Kollaboration auf so einem Ordner einrichten."])),(e()(),Qi(17,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Qi(18,0,null,null,1,"a",[["href","https://drive.google.com/file/d/1KuLdvRku0cAIhHtSCc7eHb9x66mxTGoW/view?usp=sharing"],["target","_blank"]],null,null,null,null,null)),(e()(),as(-1,null,["Infovideo \xfcber Identit\xe4ten und Organisationen"])),(e()(),Qi(20,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Qi(21,0,null,null,1,"a",[["href","https://drive.google.com/file/d/1ijSAEeJenHyFINcc92VGVjEnDYAvcRcy/view?usp=sharing"],["target","_blank"]],null,null,null,null,null)),(e()(),as(-1,null,["Infovideo \xfcber Rechtemanagement und Kollaboration"])),(e()(),Qi(23,0,null,null,14,"li",[],null,null,null,null,null)),(e()(),Qi(24,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Was sehe ich wo?"])),(e()(),Qi(28,0,null,null,9,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(29,0,null,null,8,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(30,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Auf der Startseite sieht man ein "Men\xfc" der M\xf6glicheiten.'])),(e()(),Qi(32,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Unten rechts gibt es Einstellungen, womit man das Verhalten des Prototyps beeinflussen kann."])),(e()(),Qi(34,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Ist man angemeldet, wird in der Titelzeile die Organisation (so vorhanden) und der Username angezeigt."])),(e()(),Qi(36,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Au\xdferdem gibt es ein "Kontext-Men\xfc" mit mehr-oder-weniger sinnigen Aktionen.'])),(e()(),Qi(38,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),Qi(39,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(40,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Das Datenmodell"])),(e()(),Qi(43,0,null,null,13,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(44,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(45,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Ein Account hat 1-n Credentials (Zugangsmedien)"])),(e()(),Qi(47,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Ein Account kann in 0-n Organisationen eine Organisations-Identit\xe4t haben."])),(e()(),Qi(49,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Ist man in mehreren Organisationen Mitglied, muss man beim Login eine Organisation ausw\xe4hlen."])),(e()(),Qi(51,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Eine Organisation beherbergt User, Resourcen und deren Rechte."])),(e()(),Qi(53,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Ein Recht besteht aus (Subjekt = User, Objekt = Resource, Erlaubnis = "lesen")'])),(e()(),Qi(55,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Pro Berechtigung entsteht ein Eintrag in der "Rechte-Liste"'])),(e()(),Qi(57,0,null,null,16,"li",[],null,null,null,null,null)),(e()(),Qi(58,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(59,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Sicherheit? Passw\xf6rter?"])),(e()(),Qi(62,0,null,null,11,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(63,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(64,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Die Seite hat echte Logik, speichert aber nichts dauerhaft."])),(e()(),Qi(66,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Alles spielt sich im Browser ab."])),(e()(),Qi(68,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Durch Neu-Laden der Seite (F5) ist man wieder am Anfang!"])),(e()(),Qi(70,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Eingegebene Passw\xf6rter werden im Klartext "gespeichert".'])),(e()(),Qi(72,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Die Testpassw\xf6rter lauten s\xe4mtlich "test".'])),(e()(),Qi(74,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),Qi(75,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(76,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Tipps und Tricks"])),(e()(),Qi(79,0,null,null,7,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(80,0,null,null,6,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(81,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Man muss beim Login kein Passwort eingeben (geht schneller), gibt man aber eines ein, muss es mit dem "registrierten" \xfcbereinstimmen.'])),(e()(),Qi(83,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Es sind einige vor-eingetragende Testdaten vorhanden. Bei den Test-Kennungen (Username) gibt die Endung Aufschluss \xfcber den Authentifizierungs-Grad. z.B. tom@bk entspricht einem BenutzerKonto, tom@sc einer SmartCard. "])),(e()(),Qi(85,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,[' Kommt einfach "so" die Login-Seite erneut, ist die Ziel-Seite gesch\xfctzt. Entweder generell, dass man eingeloggt sein muss, oder es muss ein "besonderer" Login sein. (Admin, Secure). Meist hilft das Anmelden mit *@sc. '])),(e()(),Qi(87,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),Qi(88,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(89,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Testdaten"])),(e()(),Qi(92,0,null,null,13,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(93,0,null,null,12,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(94,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Kanzlei Heinzelmann mit Simone und Klaus (Admin) (@sc etc.)"])),(e()(),Qi(96,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Kanzlei Palmengarten mit Sonja und Martin (Admin)"])),(e()(),Qi(98,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Familie Martin privat mit Martin (Admin). D.h. bei Login mit "Martin" kommt eine Organisationsauswahl'])),(e()(),Qi(100,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Holzhandel Grubinger mit Petra und Tom (Admin)"])),(e()(),Qi(102,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Resi ohne Organisation, d.h. nur Account"])),(e()(),Qi(104,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Kanzlei Heinzelmann und Holzhandel Grubinger kollaborieren bereits auf einem Ordner"])),(e()(),Qi(106,0,null,null,34,"li",[],null,null,null,null,null)),(e()(),Qi(107,0,null,null,3,"div",[["class","collapsible-header"]],null,null,null,null,null)),(e()(),Qi(108,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["dehaze"])),(e()(),as(-1,null,["Kollaboration, was ist damit gemeint?"])),(e()(),Qi(111,0,null,null,29,"div",[["class","collapsible-body"]],null,null,null,null,null)),(e()(),Qi(112,0,null,null,28,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(113,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Kollaboration meint hier, dass Mitarbeiter verschiedener Organisationen auf ein-und-derselben Resource (Ordner) arbeiten."])),(e()(),Qi(115,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Das Ganze geht via Delegation, d.h. ein Admin einer Organisation berechtigt eine zweite Organisation. Ein Admin dieser zweiten Organisation vergibt dann letztendlich die Rechte an seine Mitarbeiter, aber nur die, welche er delegiert bekommen hat."])),(e()(),Qi(117,0,null,null,10,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Am besten ausprobieren: "])),(e()(),Qi(119,0,null,null,8,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(120,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Zwei Organisationen mit jeweils zwei Mitarbieter anlegen"])),(e()(),Qi(122,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["In der einen einen Ordner anlegen"])),(e()(),Qi(124,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Dann der zweiten Organisation "freigeben"'])),(e()(),Qi(126,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Und dort an einen der beiden Mitarbieter "freigeben"'])),(e()(),Qi(128,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["und folgende Szenarien nachvollziehen, was mit den Zugriffs-Rechten passiert: "])),(e()(),Qi(130,0,null,null,10,"ul",[["class","browser-default"]],null,null,null,null,null)),(e()(),Qi(131,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Die Rechte werden vom Original-Admin eingeschr\xe4nkt"])),(e()(),Qi(133,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,['Der "geteilte" Ordner wird gel\xf6scht'])),(e()(),Qi(135,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["Der Kollaborations-Users wird aus einladender Organisation entfernt"])),(e()(),Qi(137,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["die ganze einladende Organisation wird gel\xf6scht"])),(e()(),Qi(139,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),as(-1,null,["..."]))],null,null)}function Iv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-help",[],null,null,null,Cv,wv)),ur(1,114688,null,0,bv,[xg],null,null)],(function(e,n){e(n,1,0)}),null)}var Sv=Vl("app-help",bv,Iv,{},{},[]);class Ov{constructor(e,n,t){this.settingsService=e,this.folderService=n,this.tokenService=t,this.usersDisplayName="",this.folders=[],this.userMayCreateNewFolder=!1,this.errorMessage="",this.editFolderIdx=-1,this.editFolderNewName=""}ngOnInit(){this.settingsService.setTitle("Ordneransicht"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getOrgaUser(),this.userMayCreateNewFolder=this.folderService.userMayCreateNewFolder(this.principal),this._initMembers()}_initMembers(e=!0){this.errorMessage="",this.editFolderIdx=-1,this.editFolderNewName="",this.newFolder={orgaId:this.principal.orgaId,name:""},e&&(this.folders=this.folderService.getAllAccessibleFolders4CurrentUser())}isForeignFolder(e){return e.orgaId!==this.principal.orgaId}getPermissionsHint(e){let n=" (";return e.readAllowed&&(n+="r"),e.writeAllowed&&(n+="w"),e.deleteAllowed&&(n+="d"),n+=")",this.isForeignFolder(e)&&(n+=" (von: "+e.orgaId+")"),n}enterEditMode(e){e<0||e>=this.folders.length||(this._initMembers(!1),this.editFolderIdx=e,this.editFolderNewName=this.folders[e].name)}cancelEditMode(){this._initMembers(!1)}persistEditFolderChanges(){const e=this.folders[this.editFolderIdx],n=e.name;e.name!==this.editFolderNewName?(this.folders[this.editFolderIdx].name=this.editFolderNewName,this.folderService.renameFolder(this.folders[this.editFolderIdx])?this.cancelEditMode():(this.errorMessage="Der Ordnername wird schon verwendet.",e.name=n)):this.cancelEditMode()}removeFolder(e){this.folderService.removeFolder(e)?this._initMembers():this.errorMessage="Du darfst diesen Ordner nicht l\xf6schen, fehlende Berechtigung!"}addNewFolder(){this.userMayCreateNewFolder&&(this.folderService.addNewFolder(this.newFolder)?this._initMembers():this.errorMessage="Der Ordnername wird schon verwendet.")}somethingChanged(e){"Enter"!==e.code&&(this.errorMessage="")}}let kv=(()=>{class e{constructor(e,n,t){this.tokenService=e,this.accessService=n,this.orgaService=t,this.allFolders=[],this.dummyResourceId=-1,this._fillTestdata()}_fillTestdata(){this.allFolders.push({id:1,orgaId:300,name:"Notizen"},{id:2,orgaId:300,name:"Steuersachen"},{id:3,orgaId:300,name:"Golfausfl\xfcge"},{id:4,orgaId:300,name:"Kollaboration von Heinzelmann f\xfcr Grubinger"},{id:10,orgaId:301,name:"Rechtliches"},{id:11,orgaId:301,name:"Kassenarchiv"},{id:20,orgaId:302,name:"Finanzen"},{id:21,orgaId:302,name:"Rechnungen"})}_getPrincipal(){const e=this.tokenService.getOrgaUser();if(!e)throw new Error("Principal nicht gesetzt!");return e}_assureCurrentPrincipalHasAdminPermission(){const e=this._getPrincipal();if(!this.orgaService.isAdmin(e.id))throw new Error("Principal is not admin of current orga!")}_findFolderById(e){return this.allFolders.find(n=>n.id===e)}_toResource(e){return{id:e.id,typeId:bm.Folder,orgaId:e.orgaId,displayName:e.name}}renameFolder(e){const n=this._findFolderById(e.id);if(!n)throw new Error("RenameFolder: Ordner existiert gar nicht.");return n.name===e.name||!this._isFolderNameAlreadyUsedInOrga(e)&&(n.name=e.name,this.accessService.renameResource(this._toResource(e)),!0)}sort(e){const n=this._getPrincipal().orgaId;return e.sort((e,t)=>{if(e.orgaId===n&&t.orgaId===n)return e.id-t.id;if(e.orgaId===n)return-1;if(t.orgaId===n)return 1;const l=e.orgaId-t.orgaId;return 0===l?e.id-t.id:l})}getAllFoldersOfOrgaWithRightsOfGivenUser4Administration(e){this._assureCurrentPrincipalHasAdminPermission();const n=this._getPrincipal().orgaId,t=this.accessService.getAllResourceIdsOwnedByOrDelegatedToOrga(bm.Folder,n),l=[];return t.forEach(n=>{const t=this._findFolderById(n),r={id:n,orgaId:t.orgaId,name:t.name};l.push(r),this._setMaxEnabledPermissions(t,e,r),this._setAdministratedPermissions(t,e,r)}),this.sort(l)}_setAdministratedPermissions(e,n,t){const l={typeId:bm.Folder,id:t.id,orgaId:e.orgaId};t.readAllowed=this.accessService.hasAdministratedPermission(l,n,_m.FolderReadPermissionKey),t.writeAllowed=this.accessService.hasAdministratedPermission(l,n,_m.FolderWritePermissionKey),t.deleteAllowed=this.accessService.hasAdministratedPermission(l,n,_m.FolderDeletePermissionKey)}_setMaxEnabledPermissions(e,n,t){const l={typeId:bm.Folder,id:t.id,orgaId:e.orgaId};t.readDisabled=!this.accessService.permissionIsAdministrable(l,n,_m.FolderReadPermissionKey),t.writeDisabled=!this.accessService.permissionIsAdministrable(l,n,_m.FolderWritePermissionKey),t.deleteDisabled=!this.accessService.permissionIsAdministrable(l,n,_m.FolderDeletePermissionKey)}getAllAccessibleFolders4CurrentUser(){const e=this._getPrincipal(),n=this.accessService.getAllResources4UserWithAtLeastOnePermission(e.id,bm.Folder),t=[];return n.forEach(n=>{const l=this.allFolders.find(e=>e.id===n);if(l){let n={};Object.assign(n,l);const r={typeId:bm.Folder,id:l.id};n.readAllowed=this.accessService.hasPermission(e.id,r,_m.FolderReadPermissionKey),n.writeAllowed=this.accessService.hasPermission(e.id,r,_m.FolderWritePermissionKey),n.deleteAllowed=this.accessService.hasPermission(e.id,r,_m.FolderDeletePermissionKey),t.push(n)}}),this.sort(t)}setFolderRightsOfGivenUser(e,n){this._assureCurrentPrincipalHasAdminPermission(),n.forEach(n=>{if(n.dirty){const t=[];n.readAllowed&&t.push(_m.FolderReadPermissionKey),n.writeAllowed&&t.push(_m.FolderWritePermissionKey),n.deleteAllowed&&t.push(_m.FolderDeletePermissionKey),this.accessService.setPermissionsOfUser2resource(e,{typeId:bm.Folder,id:n.id,orgaId:n.orgaId},t)}})}removeFolder(e){const n=this._getPrincipal();if(!this.accessService.hasPermission(n.id,{typeId:bm.Folder,id:e},_m.FolderDeletePermissionKey))return!1;this.accessService.removeResource({typeId:bm.Folder,id:e});const t=this.allFolders.findIndex(n=>n.id===e);return t>=0&&this.allFolders.splice(t,1),!0}_isFolderNameAlreadyUsedInOrga(e){return!!this.allFolders.find(n=>n.orgaId===e.orgaId&&n.name===e.name)}userMayCreateNewFolder(e){return this.accessService.hasPermission4staticResource(e,{typeId:bm.FolderRoot,id:this.dummyResourceId,orgaId:e.orgaId},_m.FolderCreatePermissionKey)}setUserMayCreateNewFolder(e,n){this._assureCurrentPrincipalHasAdminPermission(),this.accessService.setPermissionsOfUser2staticResource(e,{typeId:bm.FolderRoot,id:this.dummyResourceId,orgaId:e.orgaId},n?[_m.FolderCreatePermissionKey]:[])}_getNewUniqueId(){let e=0;return this.allFolders.forEach(n=>{n.id>e&&(e=n.id)}),e+1}addNewFolder(e){if(this._isFolderNameAlreadyUsedInOrga(e))return!1;const n=this._getPrincipal();return!!this.userMayCreateNewFolder(n)&&(e.id=this._getNewUniqueId(),this.allFolders.push(e),this.accessService.createNewResource({typeId:bm.Folder,id:e.id,orgaId:e.orgaId,displayName:e.name}),!0)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(wm),Le(zg))},token:e,providedIn:"root"}),e})();var xv=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:50em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-folder[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:4em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-right:3px solid #26a69a}.ng-invalid[_ngcontent-%COMP%]:not(form){border-right:3px solid #d0181e}.container[_ngcontent-%COMP%]{display:flex 2 1;margin-top:0;margin-left:0!important;float:left}.row[_ngcontent-%COMP%]{margin-bottom:0!important;margin-left:0!important}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.7em;background-color:#26a69a;color:#fff}.verweise[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4db6ac}.btnDelete[_ngcontent-%COMP%]:disabled, .btnDelete[_ngcontent-%COMP%]:disabled:hover{background-color:#d3d3d3!important}.btnDelete[_ngcontent-%COMP%]{background-color:#ea454b!important}.btnDelete[_ngcontent-%COMP%]:hover{background-color:#ee6e73!important}.error[_ngcontent-%COMP%]{font-weight:700;color:#dc143c}.editButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em}"]],data:{}});function Av(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"button",[["class","btnInListe btnDelete"],["style","position: absolute; right: 0.7em;"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.removeFolder(e.parent.context.$implicit.id)&&l),l}),null,null)),(e()(),as(-1,null,[" L\xf6schen"]))],null,null)}function Tv(e){return hs(0,[(e()(),Qi(0,0,null,null,11,"li",[["class","valign-wrapper"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{"foreign-folder":0}),(e()(),Qi(4,0,null,null,3,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"i",[["class","material-icons left blue-text"]],null,null,null,null,null)),(e()(),as(-1,null,["folder"])),(e()(),as(7,null,[" "," "])),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.enterEditMode(e.context.index)&&l),l}),null,null)),(e()(),as(9,null,[" "," "," "])),(e()(),Zi(16777216,null,null,1,null,Av)),ur(11,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=e(n,3,0,n.component.isForeignFolder(n.context.$implicit));e(n,2,0,"valign-wrapper",t),e(n,11,0,n.context.$implicit.deleteAllowed)}),(function(e,n){var t=n.component;e(n,7,0,n.context.$implicit.id),e(n,9,0,n.context.$implicit.name,t.getPermissionsHint(n.context.$implicit))}))}function Pv(e){return hs(0,[(e()(),Qi(0,0,null,null,19,"div",[["class","row editButtons"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,14,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,12,"div",[["class","input-field col s7"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,1,"label",[["for","editName"]],null,null,null,null,null)),(e()(),as(-1,null,["Ordnername \xe4ndern"])),(e()(),Qi(6,0,null,null,9,"input",[["appAutofocus",""],["autocomplete","off"],["id","editName"],["minlength","3"],["name","editName"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,7)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,7).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,7)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,7)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.editFolderNewName=t)&&l),"keydown.enter"===n&&(l=!1!==r.persistEditFolderChanges()&&l),l}),null,null)),ur(7,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(8,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(9,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(12,671744,[["editName",4]],0,Qp,[[8,null],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(14,16384,null,0,op,[[4,ip]],null,null),ur(15,4210688,null,0,tf,[dt],null,null),(e()(),Qi(16,0,null,null,1,"button",[["class","btn btn-cancel"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.cancelEditMode()&&l),l}),null,null)),(e()(),as(-1,null,[" Abbrechen "])),(e()(),Qi(18,0,null,null,1,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.persistEditFolderChanges()&&l),l}),null,null)),(e()(),as(-1,null,[" \xdcbernehmen "]))],(function(e,n){var t=n.component;e(n,8,0,""),e(n,9,0,"3"),e(n,12,0,"editName",t.editFolderNewName)}),(function(e,n){e(n,6,0,Zl(n,8).required?"":null,Zl(n,9).minlength?Zl(n,9).minlength:null,Zl(n,14).ngClassUntouched,Zl(n,14).ngClassTouched,Zl(n,14).ngClassPristine,Zl(n,14).ngClassDirty,Zl(n,14).ngClassValid,Zl(n,14).ngClassInvalid,Zl(n,14).ngClassPending),e(n,18,0,!Zl(n,12).valid)}))}function Ev(e){return hs(0,[(e()(),Qi(0,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(1,0,null,null,23,"div",[["class","container col s12"]],null,null,null,null,null)),(e()(),Qi(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(3,0,null,null,21,"form",[["autocomplete","off"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var l=!0,r=e.component;return"submit"===n&&(l=!1!==Zl(e,5).onSubmit(t)&&l),"reset"===n&&(l=!1!==Zl(e,5).onReset()&&l),"ngSubmit"===n&&(l=!1!==r.addNewFolder()&&l),l}),null,null)),ur(4,16384,null,0,Jp,[],null,null),ur(5,4210688,[["newFolderForm",4]],0,Hp,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ar(2048,null,lp,null,[Hp]),ur(7,16384,null,0,up,[[4,lp]],null,null),(e()(),Qi(8,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,12,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,1,"label",[["for","folderName"]],null,null,null,null,null)),(e()(),as(-1,null,["Ordnername"])),(e()(),Qi(12,0,null,null,9,"input",[["appAutofocus",""],["class","form-control"],["id","folderName"],["minlength","3"],["name","folderName"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,n,t){var l=!0,r=e.component;return"input"===n&&(l=!1!==Zl(e,13)._handleInput(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,13).onTouched()&&l),"compositionstart"===n&&(l=!1!==Zl(e,13)._compositionStart()&&l),"compositionend"===n&&(l=!1!==Zl(e,13)._compositionEnd(t.target.value)&&l),"ngModelChange"===n&&(l=!1!==(r.newFolder.name=t)&&l),"keyup"===n&&(l=!1!==r.somethingChanged(t)&&l),l}),null,null)),ur(13,16384,null,0,np,[mt,dt,[2,ep]],null,null),ur(14,16384,null,0,Yp,[],{required:[0,"required"]},null),ur(15,540672,null,0,Xp,[],{minlength:[0,"minlength"]},null),ar(1024,null,cp,(function(e,n){return[e,n]}),[Yp,Xp]),ar(1024,null,Yg,(function(e){return[e]}),[np]),ur(18,671744,[["folderName",4]],0,Qp,[[2,lp],[6,cp],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(20,16384,null,0,op,[[4,ip]],null,null),ur(21,4210688,null,0,tf,[dt],null,null),(e()(),Qi(22,0,null,null,2,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(23,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),as(-1,null,["Ordner anlegen"]))],(function(e,n){var t=n.component;e(n,14,0,""),e(n,15,0,"3"),e(n,18,0,"folderName",t.newFolder.name)}),(function(e,n){e(n,3,0,Zl(n,7).ngClassUntouched,Zl(n,7).ngClassTouched,Zl(n,7).ngClassPristine,Zl(n,7).ngClassDirty,Zl(n,7).ngClassValid,Zl(n,7).ngClassInvalid,Zl(n,7).ngClassPending),e(n,12,0,Zl(n,14).required?"":null,Zl(n,15).minlength?Zl(n,15).minlength:null,Zl(n,20).ngClassUntouched,Zl(n,20).ngClassTouched,Zl(n,20).ngClassPristine,Zl(n,20).ngClassDirty,Zl(n,20).ngClassValid,Zl(n,20).ngClassInvalid,Zl(n,20).ngClassPending),e(n,23,0,!Zl(n,5).valid)}))}function Rv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",", auf folgende Ordner hast du mind. eine Berechtigung (egal welche):"])),(e()(),Qi(2,0,null,null,3,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Tv)),ur(4,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(5,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Pv)),ur(7,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Ev)),ur(9,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(10,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Qi(11,0,null,null,2,"div",[["class","error"]],[[8,"hidden",0]],null,null,null,null)),(e()(),Qi(12,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),as(13,null,["Hinweis/Fehler: ",""]))],(function(e,n){var t=n.component;e(n,4,0,t.folders),e(n,7,0,t.editFolderIdx>=0),e(n,9,0,t.userMayCreateNewFolder&&t.editFolderIdx<0)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayName),e(n,11,0,!t.errorMessage),e(n,13,0,t.errorMessage)}))}function Mv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-listfolders",[],null,null,null,Rv,xv)),ur(1,114688,null,0,Ov,[xg,kv,Dg],null,null)],(function(e,n){e(n,1,0)}),null)}var Nv=Vl("app-listfolders",Ov,Mv,{},{},[]);class Uv{constructor(e,n,t,l){this.settingsService=e,this.folderService=n,this.tokenService=t,this.orgaService=l,this.usersDisplayName="",this.users2Admin=[],this.folders=[],this.createNewFolderAllowed=!1,this.createNewFolderOldValue=!1,this.dirty=!1}ngOnInit(){this.settingsService.setTitle("dezentrale Ordner-Administration"),this.usersDisplayName=this.tokenService.getUsersDisplayName(),this.principal=this.tokenService.getOrgaUser(),this.users2Admin=this.orgaService.getAllOrgaUsers(this.principal.orgaId),this.selectedUser2Admin=this.users2Admin[0],this.selectedUsersId=this.selectedUser2Admin.id,this._initMembers()}_initMembers(){this.folders=this.folderService.getAllFoldersOfOrgaWithRightsOfGivenUser4Administration(this.selectedUser2Admin),this.createNewFolderAllowed=this.folderService.userMayCreateNewFolder(this.selectedUser2Admin),this.createNewFolderOldValue=this.createNewFolderAllowed,this.dirty=!1}isForeignUser(e){return!(!e.foreignOrgaId&&!e.foreignUserId)}isForeignFolder(e){return e.orgaId!==this.principal.orgaId}resetFolderRights(){this._initMembers()}_afterSavingPermissions(){this.dirty=!1,this.createNewFolderOldValue=this.createNewFolderAllowed,this.folders.forEach(e=>e.dirty=!1)}saveFolderRights(){this.createNewFolderAllowed!==this.createNewFolderOldValue&&this.folderService.setUserMayCreateNewFolder(this.selectedUser2Admin,this.createNewFolderAllowed);const e=this.folders.filter(e=>e.dirty);this.folderService.setFolderRightsOfGivenUser(this.selectedUser2Admin,e),this._afterSavingPermissions()}onChangedUser(){if(this.dirty&&!confirm("Willst du den User wechseln und deine \xc4nderungen verwerfen?")){const e=this.users2Admin.find(e=>e.id===this.selectedUsersId);if(e)return void(this.selectedUser2Admin=e)}this._initMembers()}onChanged(e=-1){if(this.dirty=!0,e>=0){const n=this.folders[e];n&&(n.dirty=!0)}}}var Dv=nl({encapsulation:0,styles:[[".verweise[_ngcontent-%COMP%]{margin:2 0 2em;list-style-type:none;padding:8;width:70em}.verweise[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:70em;position:relative;background-color:#eee;margin-bottom:.5em;padding:.3em 0;height:2em;border-radius:4px}.verweise[_ngcontent-%COMP%]   .foreign-folder[_ngcontent-%COMP%]{background-color:#ffb6c1}.list-item-text-left[_ngcontent-%COMP%]{margin-left:.7em;float:left;width:4em;font-weight:700}.list-item-text[_ngcontent-%COMP%]{float:left;width:40em;text-align:left}.verweise[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:3em}.btn[_ngcontent-%COMP%]{margin-right:1em;margin-top:1em}select[_ngcontent-%COMP%]{border:3px solid teal}.foreign-user[_ngcontent-%COMP%]{border:3px solid red!important}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff}.row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding-left:.35rem}.label-for-select[_ngcontent-%COMP%]{padding-top:.7rem}"]],data:{}});function Fv(e){return hs(0,[(e()(),Qi(0,0,null,null,3,"option",[],null,null,null,null,null)),ur(1,147456,null,0,Cp,[dt,mt,[2,wp]],{ngValue:[0,"ngValue"]},null),ur(2,147456,null,0,Sp,[dt,mt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),as(3,null,[" ",""]))],(function(e,n){e(n,1,0,n.context.$implicit),e(n,2,0,n.context.$implicit)}),(function(e,n){e(n,3,0,n.context.$implicit.name)}))}function Vv(e){return hs(0,[(e()(),Qi(0,0,null,null,36,"li",[["class","valign-wrapper"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{"foreign-folder":0}),(e()(),Qi(4,0,null,null,3,"span",[["class","list-item-text-left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"i",[["class","material-icons left blue-text"]],null,null,null,null,null)),(e()(),as(-1,null,["folder"])),(e()(),as(7,null,[" "," "])),(e()(),Qi(8,0,null,null,1,"span",[["class","list-item-text"]],null,null,null,null,null)),(e()(),as(9,null,[" "," "])),(e()(),Qi(10,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(11,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,12).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(e.context.$implicit.readAllowed=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ur(12,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(14,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["lesen"])),(e()(),Qi(19,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(20,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,21).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,21).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(e.context.$implicit.writeAllowed=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ur(21,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(23,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(25,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(26,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["schreiben"])),(e()(),Qi(28,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(29,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,30).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,30).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(e.context.$implicit.deleteAllowed=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChanged(e.context.index)&&l),l}),null,null)),ur(30,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(32,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(34,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(35,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["l\xf6schen"]))],(function(e,n){var t=e(n,3,0,n.component.isForeignFolder(n.context.$implicit));e(n,2,0,"valign-wrapper",t),e(n,14,0,n.context.$implicit.readDisabled,n.context.$implicit.readAllowed),e(n,23,0,n.context.$implicit.writeDisabled,n.context.$implicit.writeAllowed),e(n,32,0,n.context.$implicit.deleteDisabled,n.context.$implicit.deleteAllowed)}),(function(e,n){e(n,7,0,n.context.$implicit.id),e(n,9,0,n.context.$implicit.name),e(n,11,0,Zl(n,16).ngClassUntouched,Zl(n,16).ngClassTouched,Zl(n,16).ngClassPristine,Zl(n,16).ngClassDirty,Zl(n,16).ngClassValid,Zl(n,16).ngClassInvalid,Zl(n,16).ngClassPending),e(n,20,0,Zl(n,25).ngClassUntouched,Zl(n,25).ngClassTouched,Zl(n,25).ngClassPristine,Zl(n,25).ngClassDirty,Zl(n,25).ngClassValid,Zl(n,25).ngClassInvalid,Zl(n,25).ngClassPending),e(n,29,0,Zl(n,34).ngClassUntouched,Zl(n,34).ngClassTouched,Zl(n,34).ngClassPristine,Zl(n,34).ngClassDirty,Zl(n,34).ngClassValid,Zl(n,34).ngClassInvalid,Zl(n,34).ngClassPending)}))}function Lv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),as(1,null,[" Hallo ",", hier kannst du f\xfcr bestimmte Ordner Rechte vergeben."])),(e()(),Qi(2,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(e()(),Qi(3,0,null,null,15,"div",[["class","col s12"]],null,null,null,null,null)),(e()(),Qi(4,0,null,null,14,"div",[["class","row inner-row"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,1,"div",[["class","input-field label-for-select col s2"]],null,null,null,null,null)),(e()(),as(-1,null,[" Benutzer w\xe4hlen: "])),(e()(),Qi(7,0,null,null,11,"div",[["class","input-field col s6"]],null,null,null,null,null)),(e()(),Qi(8,0,null,null,10,"select",[["class","browser-default"],["name","user2admin"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,12).onChange(t.target.value)&&l),"blur"===n&&(l=!1!==Zl(e,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.selectedUser2Admin=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChangedUser()&&l),l}),null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(10,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(11,{"foreign-user":0}),ur(12,16384,null,0,wp,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[wp]),ur(14,671744,[["user2admin",4]],0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(16,16384,null,0,op,[[4,ip]],null,null),(e()(),Zi(16777216,null,null,1,null,Fv)),ur(18,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(19,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),Qi(20,0,null,null,5,"input",[["class","filled-in"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,n,t){var l=!0,r=e.component;return"change"===n&&(l=!1!==Zl(e,21).onChange(t.target.checked)&&l),"blur"===n&&(l=!1!==Zl(e,21).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(r.createNewFolderAllowed=t)&&l),"ngModelChange"===n&&(l=!1!==r.onChanged()&&l),l}),null,null)),ur(21,16384,null,0,Xg,[mt,dt],null,null),ar(1024,null,Yg,(function(e){return[e]}),[Xg]),ur(23,671744,null,0,Qp,[[8,null],[8,null],[8,null],[6,Yg]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),ar(2048,null,ip,null,[Qp]),ur(25,16384,null,0,op,[[4,ip]],null,null),(e()(),Qi(26,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),as(-1,null,["Darf neue Ordner anlegen"])),(e()(),Qi(28,0,null,null,2,"ul",[["class","verweise"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Vv)),ur(30,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(31,0,null,null,1,"button",[["class","btn btn-delete"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.resetFolderRights()&&l),l}),null,null)),(e()(),as(-1,null,["Zur\xfccksetzen"])),(e()(),Qi(33,0,null,null,1,"button",[["class","btn"]],[[8,"disabled",0]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.saveFolderRights()&&l),l}),null,null)),(e()(),as(-1,null,["\xdcbernehmen"]))],(function(e,n){var t=n.component,l=e(n,11,0,t.isForeignUser(t.selectedUser2Admin));e(n,10,0,"browser-default",l),e(n,14,0,"user2admin",t.selectedUser2Admin),e(n,18,0,t.users2Admin),e(n,23,0,t.isForeignUser(t.selectedUser2Admin),t.createNewFolderAllowed),e(n,30,0,t.folders)}),(function(e,n){var t=n.component;e(n,1,0,t.usersDisplayName),e(n,8,0,Zl(n,16).ngClassUntouched,Zl(n,16).ngClassTouched,Zl(n,16).ngClassPristine,Zl(n,16).ngClassDirty,Zl(n,16).ngClassValid,Zl(n,16).ngClassInvalid,Zl(n,16).ngClassPending),e(n,20,0,Zl(n,25).ngClassUntouched,Zl(n,25).ngClassTouched,Zl(n,25).ngClassPristine,Zl(n,25).ngClassDirty,Zl(n,25).ngClassValid,Zl(n,25).ngClassInvalid,Zl(n,25).ngClassPending),e(n,31,0,!t.dirty),e(n,33,0,!t.dirty)}))}function zv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-admin-folders",[],null,null,null,Lv,Dv)),ur(1,114688,null,0,Uv,[xg,kv,Dg,zg],null,null)],(function(e,n){e(n,1,0)}),null)}var Bv=Vl("app-admin-folders",Uv,zv,{},{},[]);class jv{constructor(e){this.settingsService=e}ngOnInit(){this.settingsService.setTitle("Information - Page not found")}}var $v=nl({encapsulation:0,styles:[[""]],data:{}});function Hv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),as(-1,null,["Hoppla, da hast du dich wohl verirrt."])),(e()(),Qi(2,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),as(-1,null,["Die Seite, die du aufgerufen hast, gibt es nicht."]))],null,null)}function qv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-page-not-found",[],null,null,null,Hv,$v)),ur(1,114688,null,0,jv,[xg],null,null)],(function(e,n){e(n,1,0)}),null)}var Gv=Vl("app-page-not-found",jv,qv,{},{},[]),Kv=nl({encapsulation:0,styles:[[".left[_ngcontent-%COMP%]{margin-left:3em}.header-text-left[_ngcontent-%COMP%]{position:absolute;display:inline-block;font-size:1.7rem;padding:0}.header-text[_ngcontent-%COMP%]{font-size:1.5rem;font-style:italic}.vertical-tab-target[_ngcontent-%COMP%]{display:none}.vertical-tabs[_ngcontent-%COMP%]{border-left:3px solid #1976d2!important;padding:0!important}.vertical-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000!important}.divider[_ngcontent-%COMP%]{border-bottom:2px solid #1976d2}.badge[_ngcontent-%COMP%]{margin-left:.5em}span.badge.new[_ngcontent-%COMP%]{font-weight:500!important;font-size:1rem!important;color:#fff!important}"]],data:{}});function Wv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","header-text"]],null,null,null,null,null)),(e()(),as(1,null,[" ","\xa0\xa0\xa0 "]))],null,(function(e,n){e(n,1,0,n.component.orgaName)}))}function Zv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),as(1,null,["",""]))],null,(function(e,n){e(n,1,0,n.component.countOfNewBadgeItems)}))}function Qv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"i",[["class","material-icons right"]],null,null,null,null,null)),(e()(),as(-1,null,["arrow_drop_down"]))],null,null)}function Jv(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"span",[["class","new badge red"],["data-badge-caption",""]],null,null,null,null,null)),(e()(),as(1,null,["",""]))],null,(function(e,n){e(n,1,0,n.parent.context.$implicit.newCount)}))}function Yv(e){return hs(0,[(e()(),Qi(0,0,null,null,7,"li",[["style","font-weight: 450; color: black !important"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onDropDownProfileClick(e.context.index)&&l),l}),null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(3,{divider:0}),(e()(),Qi(4,0,null,null,3,"a",[],null,null,null,null,null)),(e()(),as(5,null,[" "," "])),(e()(),Zi(16777216,null,null,1,null,Jv)),ur(7,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=e(n,3,0,n.context.$implicit.isDivider);e(n,2,0,t),e(n,7,0,n.context.$implicit.newCount>0)}),(function(e,n){e(n,5,0,n.context.$implicit.text)}))}function Xv(e){return hs(0,[(e()(),Qi(0,0,null,null,22,"nav",[],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(2,278528,null,0,gu,[cu],{ngClass:[0,"ngClass"]},null),os(3,{"blue darken-2":0,"teal lighten-2":1}),(e()(),Qi(4,0,null,null,3,"div",[["class","container left"]],null,null,null,null,null)),(e()(),Qi(5,0,null,null,2,"a",[["class","header-text-left"],["routerLink",""],["title","zur\xfcck zur Startseite..."]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,6).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(6,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),as(7,null,["",""])),(e()(),Qi(8,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(9,0,null,null,10,"ul",[["class","right"]],null,null,null,null,null)),(e()(),Qi(10,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Wv)),ur(12,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(13,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),Qi(14,0,null,null,5,"a",[["class","dropdown-trigger header-text valign-wrapper"],["data-target","dd-profile"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onProfileClick()&&l),l}),null,null)),(e()(),as(15,null,[" \xa0","\xa0 "])),(e()(),Zi(16777216,null,null,1,null,Zv)),ur(17,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Zi(16777216,null,null,1,null,Qv)),ur(19,16384,null,0,vu,[Ft,Ut],{ngIf:[0,"ngIf"]},null),(e()(),Qi(20,0,null,null,2,"ul",[["class","dropdown-content vertical-tabs col s4"],["id","dd-profile"]],null,null,null,null,null)),(e()(),Zi(16777216,null,null,1,null,Yv)),ur(22,278528,null,0,fu,[Ft,Ut,Pt],{ngForOf:[0,"ngForOf"]},null),(e()(),Qi(23,0,null,null,4,"main",[],null,null,null,null,null)),(e()(),Qi(24,0,null,null,3,"div",[["class","section no-pad-bot"],["id","index-banner"]],null,null,null,null,null)),(e()(),Qi(25,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(26,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ur(27,212992,null,0,eg,[Xh,Ft,ot,[8,null],Rn],null,null),(e()(),Qi(28,0,null,null,15,"footer",[["class","page-footer"]],null,null,null,null,null)),ar(512,null,cu,du,[Pt,Et,dt,mt]),ur(30,278528,null,0,gu,[cu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(31,{orange:0,"teal accent-4":1}),(e()(),Qi(32,0,null,null,2,"div",[["class","container left"]],null,null,null,null,null)),(e()(),as(-1,null,[" Made by Klaus Hetzelein (c) 2019 - 2020 "])),(e()(),Qi(34,0,null,null,0,"p",[],null,null,null,null,null)),(e()(),Qi(35,0,null,null,8,"div",[["class","container"]],null,null,null,null,null)),(e()(),Qi(36,0,null,null,3,"a",[["class","white-text right valign-wrapper"],["routerLink","/help"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,37).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(37,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),Qi(38,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["help_outline"])),(e()(),Qi(40,0,null,null,3,"a",[["class","white-text right valign-wrapper"],["routerLink","/iam/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==Zl(e,41).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l}),null,null)),ur(41,671744,null,0,Qh,[Zh,Vd,Yo],{routerLink:[0,"routerLink"]},null),(e()(),Qi(42,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(e()(),as(-1,null,["settings_applications"]))],(function(e,n){var t=n.component,l=e(n,3,0,t.useMyColors,!t.useMyColors);e(n,2,0,l),e(n,6,0,""),e(n,12,0,t.orgaName.length>0),e(n,17,0,t.countOfNewBadgeItems>0),e(n,19,0,t.usersDisplayName.length>0),e(n,22,0,t.dropDownItems),e(n,27,0);var r=e(n,31,0,t.useMyColors,!t.useMyColors);e(n,30,0,"page-footer",r),e(n,37,0,"/help"),e(n,41,0,"/iam/settings")}),(function(e,n){var t=n.component;e(n,5,0,Zl(n,6).target,Zl(n,6).href),e(n,7,0,t.settingsService.getTitle()),e(n,15,0,t.usersDisplayName),e(n,36,0,Zl(n,37).target,Zl(n,37).href),e(n,40,0,Zl(n,41).target,Zl(n,41).href)}))}function ey(e){return hs(0,[(e()(),Qi(0,0,null,null,1,"app-root",[],null,null,null,Xv,Kv)),ur(1,245760,null,0,Zo,[Zh,Dg,zg,Bg,wm,Ng,xg],null,null)],(function(e,n){e(n,1,0)}),null)}var ny=Vl("app-root",Zo,ey,{},{},[]);class ty{}class ly{}class ry{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const t=e.slice(0,n),l=t.toLowerCase(),r=e.slice(n+1).trim();this.maybeSetNormalizedName(t,l),this.headers.has(l)?this.headers.get(l).push(r):this.headers.set(l,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let t=e[n];const l=n.toLowerCase();"string"==typeof t&&(t=[t]),t.length>0&&(this.headers.set(l,t),this.maybeSetNormalizedName(n,l))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ry?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ry;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ry?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(e.name,n);const l=("a"===e.op?this.headers.get(n):void 0)||[];l.push(...t),this.headers.set(n,l);break;case"d":const r=e.value;if(r){let e=this.headers.get(n);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,e)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class iy{encodeKey(e){return sy(e)}encodeValue(e){return sy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function sy(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class oy{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){const t=new Map;return e.length>0&&e.split("&").forEach(e=>{const l=e.indexOf("="),[r,i]=-1==l?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,l)),n.decodeValue(e.slice(l+1))],s=t.get(r)||[];s.push(i),t.set(r,s)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const t=e.fromObject[n];this.map.set(n,Array.isArray(t)?t:[t])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(e=>n+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const n=new oy({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(e.value),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const t=n.indexOf(e.value);-1!==t&&n.splice(t,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function uy(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ay(e){return"undefined"!=typeof Blob&&e instanceof Blob}function cy(e){return"undefined"!=typeof FormData&&e instanceof FormData}class dy{constructor(e,n,t,l){let r;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==t?t:null,r=l):r=t,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new ry),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=n;else{const t=n.indexOf("?");this.urlWithParams=n+(-1===t?"?":t<n.length-1?"&":"")+e}}else this.params=new oy,this.urlWithParams=n}serializeBody(){return null===this.body?null:uy(this.body)||ay(this.body)||cy(this.body)||"string"==typeof this.body?this.body:this.body instanceof oy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:cy(this.body)?null:ay(this.body)?this.body.type||null:uy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const n=e.method||this.method,t=e.url||this.url,l=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let o=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(o=Object.keys(e.setHeaders).reduce((n,t)=>n.set(t,e.setHeaders[t]),o)),e.setParams&&(u=Object.keys(e.setParams).reduce((n,t)=>n.set(t,e.setParams[t]),u)),new dy(n,t,r,{params:u,headers:o,reportProgress:s,responseType:l,withCredentials:i})}}const hy=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class gy{constructor(e,n=200,t="OK"){this.headers=e.headers||new ry,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class py extends gy{constructor(e={}){super(e),this.type=hy.ResponseHeader}clone(e={}){return new py({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fy extends gy{constructor(e={}){super(e),this.type=hy.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class my extends gy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vy(e,n){return{body:n,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class yy{constructor(e){this.handler=e}request(e,n,t={}){let l;if(e instanceof dy)l=e;else{let r=void 0;r=t.headers instanceof ry?t.headers:new ry(t.headers);let i=void 0;t.params&&(i=t.params instanceof oy?t.params:new oy({fromObject:t.params})),l=new dy(e,n,void 0!==t.body?t.body:null,{headers:r,params:i,reportProgress:t.reportProgress,responseType:t.responseType||"json",withCredentials:t.withCredentials})}const r=Po(l).pipe(ca(e=>this.handler.handle(e)));if(e instanceof dy||"events"===t.observe)return r;const i=r.pipe(Ru(e=>e instanceof fy));switch(t.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return i.pipe($(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return i.pipe($(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return i.pipe($(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return i.pipe($(e=>e.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${t.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new oy).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,t={}){return this.request("PATCH",e,vy(t,n))}post(e,n,t={}){return this.request("POST",e,vy(t,n))}put(e,n,t={}){return this.request("PUT",e,vy(t,n))}}class _y{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const by=new ke("HTTP_INTERCEPTORS");class wy{intercept(e,n){return n.handle(e)}}const Cy=/^\)\]\}',?\n/;class Iy{}class Sy{constructor(){}build(){return new XMLHttpRequest}}class Oy{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(n=>{const t=this.xhrFactory.build();if(t.open(e.method,e.urlWithParams),e.withCredentials&&(t.withCredentials=!0),e.headers.forEach((e,n)=>t.setRequestHeader(e,n.join(","))),e.headers.has("Accept")||t.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const n=e.detectContentTypeHeader();null!==n&&t.setRequestHeader("Content-Type",n)}if(e.responseType){const n=e.responseType.toLowerCase();t.responseType="json"!==n?n:"text"}const l=e.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const n=1223===t.status?204:t.status,l=t.statusText||"OK",i=new ry(t.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(t)||e.url;return r=new py({headers:i,status:n,statusText:l,url:s})},s=()=>{let{headers:l,status:r,statusText:s,url:o}=i(),u=null;204!==r&&(u=void 0===t.response?t.responseText:t.response),0===r&&(r=u?200:0);let a=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(Cy,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=e,a&&(a=!1,u={error:c,text:u})}}a?(n.next(new fy({body:u,headers:l,status:r,statusText:s,url:o||void 0})),n.complete()):n.error(new my({error:u,headers:l,status:r,statusText:s,url:o||void 0}))},o=e=>{const{url:l}=i(),r=new my({error:e,status:t.status||0,statusText:t.statusText||"Unknown Error",url:l||void 0});n.error(r)};let u=!1;const a=l=>{u||(n.next(i()),u=!0);let r={type:hy.DownloadProgress,loaded:l.loaded};l.lengthComputable&&(r.total=l.total),"text"===e.responseType&&t.responseText&&(r.partialText=t.responseText),n.next(r)},c=e=>{let t={type:hy.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return t.addEventListener("load",s),t.addEventListener("error",o),e.reportProgress&&(t.addEventListener("progress",a),null!==l&&t.upload&&t.upload.addEventListener("progress",c)),t.send(l),n.next({type:hy.Sent}),()=>{t.removeEventListener("error",o),t.removeEventListener("load",s),e.reportProgress&&(t.removeEventListener("progress",a),null!==l&&t.upload&&t.upload.removeEventListener("progress",c)),t.abort()}})}}const ky=new ke("XSRF_COOKIE_NAME"),xy=new ke("XSRF_HEADER_NAME");class Ay{}class Ty{constructor(e,n,t){this.doc=e,this.platform=n,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=au(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Py{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const t=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n.handle(e);const l=this.tokenService.getToken();return null===l||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,l)})),n.handle(e)}}class Ey{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(by,[]);this.chain=e.reduceRight((e,n)=>new _y(e,n),this.backend)}return this.chain.handle(e)}}class Ry{static disable(){return{ngModule:Ry,providers:[{provide:Py,useClass:wy}]}}static withOptions(e={}){return{ngModule:Ry,providers:[e.cookieName?{provide:ky,useValue:e.cookieName}:[],e.headerName?{provide:xy,useValue:e.headerName}:[]]}}}class My{}let Ny=(()=>{class e{constructor(e,n,t){this.tokenService=e,this.router=n,this.settingsService=t}canActivate(e,n){let t=!0,l="";this.settingsService.setRedirectUri(n.url);let r=Ag.Low;e.data.requiredAuthLevel&&(r=e.data.requiredAuthLevel),r&&(void 0===this.tokenService.getAuthLevel()||this.tokenService.getAuthLevel()<r)&&(t=!1,l="mindestens mit Level: "+Ag[r]);const i=e.data.requiredAuthType;return i&&this.tokenService.getAuthType()<i&&(l=t?"mindestens mit Typ: "+Tg[i]:l+"-mindestens mit Typ: "+Tg[i],t=!1),t?(this.settingsService.resetRedirectUri(),!0):(this.settingsService.addRequiredByGuardHelptext(l),this.settingsService.showInfoPageAfterGuardNotFulfilled()?this.router.parseUrl("/iam/guard-fail"):this.router.parseUrl("/iam/login"))}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(Zh),Le(xg))},token:e,providedIn:"root"}),e})(),Uy=(()=>{class e{constructor(e,n,t,l){this.tokenService=e,this.router=n,this.settingsService=t,this.orgaService=l}canActivate(e,n){let t=!0,l="";return this.settingsService.resetRequiredByGuardHelptext(),this.settingsService.setRedirectUri(n.url),this.tokenService.getAuthType()<Tg.OrgaUser?(t=!1,l="in einer Organisation-und du musst Admin dieser Organisation sein."):this.orgaService.isAdmin(this.tokenService.getOrgaUser().id)||(t=!1,l="und du musst Admin dieser Organisation sein."),t?(this.settingsService.resetRedirectUri(),!0):(this.settingsService.addRequiredByGuardHelptext(l),this.settingsService.showInfoPageAfterOrgaAdminGuardNotFulfilled()?this.router.parseUrl("/iam/guard-fail"):this.router.parseUrl("/iam/login"))}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Dg),Le(Zh),Le(xg),Le(zg))},token:e,providedIn:"root"}),e})();const Dy={requiredAuthLevel:Ag.Secure},Fy={requiredAuthLevel:Ag.Low,requiredAuthType:Tg.OrgaUser},Vy={requiredAuthLevel:Ag.Secure,requiredAuthType:Tg.OrgaUser};class Ly{}var zy=yo(qo,[Zo],(function(e){return function(e){const n={},t=[];let l=!1;for(let r=0;r<e.length;r++){const i=e[r];i.token===Nn&&!0===i.value&&(l=!0),1073741824&i.flags&&t.push(i.token),i.index=r,n[Yt(i.token)]=i}return{factory:null,providersByKey:n,providers:e,modules:t,isRoot:l}}([El(512,ot,ut,[[8,[Og,Qg,uf,pf,Sf,Mf,Lf,Gf,nm,am,vm,Em,jm,nv,gv,_v,Sv,Nv,Bv,Gv,ny]],[3,ot],je]),El(5120,Hr,Gi,[[3,Hr]]),El(4608,ou,uu,[Hr,[2,su]]),El(5120,Sr,Ki,[ui]),El(5120,Fr,Vr,[]),El(5120,Pt,Hi,[]),El(5120,Et,qi,[]),El(4608,vc,yc,[wu]),El(6144,xn,null,[vc]),El(4608,cc,hc,[]),El(5120,Ra,(function(e,n,t,l,r,i,s,o){return[new uc(e,n,t),new mc(l),new gc(r,i,s,o)]}),[wu,ui,Br,wu,wu,cc,$r,[2,dc]]),El(4608,Ma,Ma,[Ra,ui]),El(135680,Da,Da,[wu]),El(4608,$a,$a,[Ma,Da,Fr]),El(6144,pt,null,[$a]),El(6144,Ua,null,[Da]),El(4608,fi,fi,[ui]),El(5120,Vd,vg,[Zh]),El(4608,rg,rg,[]),El(6144,tg,null,[rg]),El(135680,ig,ig,[Zh,Pi,Jr,Dn,tg]),El(4608,lg,lg,[]),El(5120,sg,hg,[Zh,Iu,og]),El(5120,wg,bg,[yg]),El(5120,jr,(function(e){return[e]}),[wg]),El(4608,yp,yp,[]),El(4608,Ay,Ty,[wu,Br,ky]),El(4608,Py,Py,[Ay,xy]),El(5120,by,(function(e){return[e]}),[Py]),El(4608,Sy,Sy,[]),El(6144,Iy,null,[Sy]),El(4608,Oy,Oy,[Iy]),El(6144,ly,null,[Oy]),El(4608,ty,Ey,[ly,Dn]),El(4608,yy,yy,[ty]),El(5120,Fo,Ho,[]),El(4608,Vo,Vo,[Fo]),El(1073742336,bu,bu,[]),El(1024,en,kc,[]),El(1024,Ii,(function(){return[cg()]}),[]),El(512,yg,yg,[Dn]),El(1024,Ur,(function(e,n){return[(t=e,Ta("probe",Ea),Ta("coreTokens",Object.assign({},Pa,(t||[]).reduce((e,n)=>(e[n.name]=n.token,e),{}))),()=>Ea),_g(n)];var t}),[[2,Ii],yg]),El(512,Dr,Dr,[[2,Ur]]),El(131584,Ai,Ai,[ui,$r,Dn,en,ot,Dr]),El(1073742336,Wi,Wi,[Ai]),El(1073742336,xc,xc,[[3,xc]]),El(1024,ug,pg,[[3,Zh]]),El(512,md,vd,[]),El(512,Xh,Xh,[]),El(256,og,{},[]),El(1024,Yo,gg,[Qo,[2,Xo],og]),El(512,eu,eu,[Yo,Qo]),El(512,Jr,Jr,[]),El(512,Pi,Ui,[Jr,[2,Mi]]),El(1024,jh,(function(){return[[{path:"",component:kg},{path:"iam/login",component:lf},{path:"iam/select-organization",component:af},{path:"iam/register",component:ff},{path:"iam/registration-successful",component:Of},{path:"iam/guard-fail",component:Nf},{path:"iam/account-management",component:zf,canActivate:[Ny]},{path:"iam/user-info",component:Kf,canActivate:[Ny]},{path:"iam/credentials-management",component:tm,canActivate:[Ny]},{path:"iam/organization-management",component:cm,canActivate:[Ny],data:Dy},{path:"iam/organization-administration",component:ym,canActivate:[Uy]},{path:"iam/central-administration",component:Rm,canActivate:[Uy]},{path:"notification-view",component:$m,canActivate:[Ny]},{path:"fakes/mail-view",component:tv},{path:"iam/settings",component:pv},{path:"help",component:bv},{path:"folderApp/main",component:Ov,canActivate:[Ny],data:Fy},{path:"folderApp/admin",component:Uv,canActivate:[Uy]},{path:"x/geschuetzt-mit-beidem-mit-parametern",component:tm,canActivate:[Ny],data:Vy},{path:"**",component:jv}]]}),[]),El(1024,Zh,mg,[Ai,md,Xh,eu,Dn,Pi,Jr,jh,og,[2,Hh],[2,zh]]),El(1073742336,dg,dg,[[2,ug],[2,Zh]]),El(1073742336,Ly,Ly,[]),El(1073742336,ef,ef,[]),El(1073742336,nf,nf,[]),El(1073742336,Ry,Ry,[]),El(1073742336,My,My,[]),El(1073742336,Lo,Lo,[]),El(1073742336,qo,qo,[]),El(256,Nn,!0,[]),El(256,ky,"XSRF-TOKEN",[]),El(256,xy,"X-XSRF-TOKEN",[])])}));(function(){if(tn)throw new Error("Cannot enable prod mode after platform setup.");nn=!1})(),Oc().bootstrapModuleFactory(zy).catch(e=>console.error(e))},zn8P:function(e,n){function t(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id="zn8P"}},[[0,0]]]);